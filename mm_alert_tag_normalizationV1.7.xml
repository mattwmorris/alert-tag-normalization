<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2022-04-07 15:20:26">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description/>
<inserted/>
<name>mm_alert_tag_normalizationV1.7</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>cbc328df1b3bfc90d575979cbc4bcb79</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ca4fa5d047b6851024307601e36d4358</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_source_key</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_source_key" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function calculatedFieldValue(current) {

	var sourceKeys = [];
	var tAlert = new GlideRecord('em_alert');
	tAlert.addQuery('sys_id',"=",current.u_test_alert);
	tAlert.query();
	
	while(tAlert.next()) {
		var info = tAlert.additional_info;
	}
	
	var parser = new JSONParser();
	var data = parser.parse(info);
	data = JSON.flatten(data);
	var key;
	for (key in data) {
		sourceKeys.push(key);
	}
	
	return sourceKeys;  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field&gt;category&lt;/choice_field&gt;&lt;choice_table/&gt;&lt;column_label&gt;Source Key&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_source_key&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;100&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:04:34&lt;/sys_created_on&gt;&lt;sys_id&gt;db7377121bb3b890d575979cbc4bcbda&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Source Key&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_source_key&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 03:26:03&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1800938680</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>024f2dd047b6851024307601e36d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26c7ba850000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Key</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>090abb9a35b3b8905d445aa8abcacd1c</update_guid>
<update_guid_history>090abb9a35b3b8905d445aa8abcacd1c:-1800938680,c028f71ab0b3b89082fe514f1b96b550:149085646,cdc7bbd679b3b890d562c5a70f704838:175424729,da3673565fb3b8908862fd7a6853a1dd:-1434138631,a9f5bb16b4b3b8902c14696a1d51b661:-1321125070,d6d573168bb3b890efb69561efcb2e52:1937342178,dd657bd25ab3b890a1438580a3183a68:-469196903,ea15ff9234b3b8906c0f67844ae6aa57:1609538184</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_source_alert_field_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_source_alert_field" label="Source Alert Field" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_source_alert_field</element><help/><hint/><label>Source Alert Field</label><language>en</language><name>u_alert_tag_normalization</name><plural>Source Alert Fields</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 15:53:56</sys_created_on><sys_id>3ebe156c1b4cc5d0d575979cbc4bcbae</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Source Alert Field</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_source_alert_field_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 15:53:56</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>781831791</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>024f2dd047b6851024307601e36d4367</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d485a98410000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Alert Field</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>4fbe156c1d4cc5d0c0ed74b64e9969d3</update_guid>
<update_guid_history>4fbe156c1d4cc5d0c0ed74b64e9969d3:781831791</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_10d532514714411024307601e36d430b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Raw Value - alert field&lt;/description&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};

    function recurse(cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
            for (var i = 0, l = cur.length; i &lt; l; i++)
                recurse(cur[i], prop ? prop + "." + i : "" + i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop + "." + p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading) {
        return;
    }
    var value;
    var dictGR;

    if (g_form.getValue('u_source_key_type') === 'alert_additional_info') {
        if (g_form.getValue('u_source_key')) {
            var info = g_form.getReference("u_test_alert").additional_info;
            info = info.replace(/\|/g, "~");
            info = info.replace(/\./g, "|");
            var data = JSON.parse(info);
            data = JSON.flatten(data);
            var key = g_form.getValue('u_source_key');
            if (data[key]) {
                value = data[key];
                g_form.setValue("u_raw_value", value);
            }
        } else {
            g_form.setValue('u_raw_value', '');
        }
    }
    if (g_form.getValue('u_source_key_type') === 'alert_field') {
        if (g_form.getValue('u_source_alert_field')) {
            var column = g_form.getReference("u_source_alert_field").element;
            value = eval("g_form.getReference('u_test_alert')." + column);
            g_form.setValue("u_raw_value", value);
        } else {
            g_form.setValue('u_raw_value', '');
        }

    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-07 16:25:32&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;10d532514714411024307601e36d430b&lt;/sys_id&gt;&lt;sys_mod_count&gt;24&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_10d532514714411024307601e36d430b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:14:53&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1530453645</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>024f2dd047b6851024307601e36d436a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96bfd2470000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>b608b791e65c41106d87880269e0a8d7</update_guid>
<update_guid_history>b608b791e65c41106d87880269e0a8d7:-1530453645,5377f351b95c41104fe58383aa198bdf:-218529395,fdd67bdd8b1c4110515b0b8c8b527bbd:508206279,08857b1d4c1c4110d324c28b3094cd9e:135968457,53143b59bb1c41101808d3c9c18e98dd:-643723667,673d4795ebd44110a51b771e0109fa88:-135209663,82ec0b55b6d441105eb22ce6abec7d76:636846342,3f5c4715ecd44110f3740aff02b440c4:-59314559,491c0fd1e5d441100198e3b1c9d5f290:765111458,f4bbcf91d0d44110e39055c0f110c108:-1005322688,42aacb1112d44110bb9b97dd5f82df8f:335064788,ce7a07111bd4411048fcf12fcf38021c:-444195173,4c438f11e494411049c7ff6046c6b37a:346228746,8b6203dd1754411027e4b0d8b1865de8:-527069686,92b1c75d48544110c036898c747fea2c:2093359025,a299321d71144110408eb7512ccf5c32:403214085,9229fe9977144110eda45863bb8de40b:294416943,15d832998c144110e9b1cbf812ac98fb:-1727414520,8e483a190b144110d9f08823601ec57a:1302387223,b8f776d5d8144110fe8e7dd366d9887e:971917871,c097fe9574144110c8b9310761587f53:-1545180980,2c17b295311441100ced7b4fb8d5ca9e:326920213,53a636555a144110dd9bcaff9c4aba14:-864124445,0656b6151514411043399d696579fbac:1881974353,14d5325177144110b8905f9b998a720d:-619247616</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_409b7b9f1b408d10d575979cbc4bcbb3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value - addl info OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onLoad() {
	if(g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field') {
		return;		
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
//	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 16:22:25&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;409b7b9f1b408d10d575979cbc4bcbb3&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value - addl info OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_409b7b9f1b408d10d575979cbc4bcbb3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:07:09&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>180015666</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>024f2dd047b6851024307601e36d436d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77d298010000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value - addl info OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>07bc3067dc088d104f97faccfee225ed</update_guid>
<update_guid_history>07bc3067dc088d104f97faccfee225ed:180015666,3b9a746307088d108b200fea33b68bcf:-1753196257,5d9a7cef96c48d1067b382fddee83cdf:180015666,25a7342f25c48d10a7ae03a38056fb3c:-1753196257,606770eb38c48d10213368aea14e5807:-762346521,c89b7b9fbf408d10236c6259700d76b6:185013772</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_6eb7302f1bc48d10d575979cbc4bcb89</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_raw_value&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field') {
		return;
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 20:45:17&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;6eb7302f1bc48d10d575979cbc4bcb89&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_6eb7302f1bc48d10d575979cbc4bcb89&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:02:24&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-558575994</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>024f2dd047b6851024307601e36d4370</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77ce3b580000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>d1abbca30c088d1063280e8af870b4b5</update_guid>
<update_guid_history>d1abbca30c088d1063280e8af870b4b5:-558575994,d33bf4a339088d10f4f242344d509259:332545241,93caf86348088d10fc8fb27e91927fec:-558575994,bccaf0638f088d1008fea2132228a93c:332545241,14d7342f35c48d10a1e86da5c793f630:-558575994,62b7302f92c48d1022091e02245e7a8c:-316302327</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_application_78f2b3de1b73b890d575979cbc4bcb34</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_application"><sys_app_application action="INSERT_OR_UPDATE"><active>true</active><category display_value="Custom Applications">e0355b31ef303000a61d5a3615c0fb78</category><description/><device_type>browser</device_type><hint/><name>Alert Tag Normalization</name><order>100</order><roles>u_alert_tag_normalization_user</roles><sys_class_name>sys_app_application</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:11</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>78f2b3de1b73b890d575979cbc4bcb34</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Alert Tag Normalization</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_application_78f2b3de1b73b890d575979cbc4bcb34</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:11</sys_updated_on><title>Alert Tag Normalization</title><view_name/></sys_app_application></record_update>]]></payload>
<payload_hash>59223115</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>024fa5d047b6851024307601e36d4359</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab77b20000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>Alert Tag Normalization</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>0df2b3de5773b890c968d6b97e953737</update_guid>
<update_guid_history>0df2b3de5773b890c968d6b97e953737:59223115</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_module_1d36e4531b7bfc90d575979cbc4bcb35</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Event Management">c1e9a9d5ff023100995cffffffffff60</application><assessment/><device_type/><filter table="u_alert_tag_normalization">u_active=true^EQ<item endquery="false" field="u_active" goto="false" newquery="false" operator="=" or="false" value="true"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint>Tag Normalization Strategy</hint><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Alert Tag Normalization</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>u_alert_tag_normalization</name><order>73.5</order><override_menu_roles>false</override_menu_roles><query/><report/><roles>evt_mgmt_admin</roles><sys_class_name>sys_app_module</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-18 14:35:29</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>1d36e4531b7bfc90d575979cbc4bcb35</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Alert Tag Normalization</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_module_1d36e4531b7bfc90d575979cbc4bcb35</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:37:45</sys_updated_on><timeline_page/><title>Alert Tag Normalization</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<payload_hash>1061041659</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>024fa5d047b6851024307601e36d435a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337b687f0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>80f66057757bfc905297259dadda7e27</update_guid>
<update_guid_history>80f66057757bfc905297259dadda7e27:1061041659,f2c6ac17c27bfc90543c60727618c7ea:1209215057,e8a6e817227bfc90309a3f2dc40dec75:82104380,3a66e8d31d7bfc9016610d00645398d8:1209215057</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_regex_new_value</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_regex_new_value" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Regex New Value&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_regex_new_value&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;4000&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 20:07:34&lt;/sys_created_on&gt;&lt;sys_id&gt;2288de681bc009d0d575979cbc4bcb0e&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regex New Value&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_regex_new_value&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 20:07:34&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1639555443</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>064f2dd047b6851024307601e36d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4942cffe0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Regex New Value</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>62c856a861c009d0e7afa32579c38566</update_guid>
<update_guid_history>62c856a861c009d0e7afa32579c38566:-1639555443</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_raw_value_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_raw_value" label="Raw Value" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_raw_value</element><help/><hint/><label>Raw Value</label><language>en</language><name>u_alert_tag_normalization</name><plural>Raw Values</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 18:52:04</sys_created_on><sys_id>588746ec1b4009d0d575979cbc4bcbe7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Raw Value</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_raw_value_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 18:52:04</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1539453853</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>064f2dd047b6851024307601e36d4366</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48fdaff70000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Raw Value</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>e08746ecca4009d0df9f0755ca5ea1f1</update_guid>
<update_guid_history>e08746ecca4009d0df9f0755ca5ea1f1:1539453853</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_908008a71b808d10d575979cbc4bcb05</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;u_alert_tag_normalization&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="u_alert_tag_normalization"&gt;u_source_keyCHANGESFROM^u_active=false^EQ&lt;item endquery="false" field="u_source_key" goto="false" newquery="false" operator="CHANGESFROM" or="false" value=""/&gt;&lt;item endquery="false" field="u_active" goto="false" newquery="false" operator="=" or="false" value="false"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;ATN set active true&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {

	// Add your code here

})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 16:55:16&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;908008a71b808d10d575979cbc4bcb05&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN set active true&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_908008a71b808d10d575979cbc4bcb05&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 16:55:16&lt;/sys_updated_on&gt;&lt;template&gt;u_active=true^EQ&lt;/template&gt;&lt;when&gt;before&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=908008a71b808d10d575979cbc4bcb05"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1777895</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>064f2dd047b6851024307601e36d4369</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d76ebfc950000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN set active true</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid>d91308ab06808d10d4054609955aa672</update_guid>
<update_guid_history>d91308ab06808d10d4054609955aa672:-1777895</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_3e2eea1147d0411024307601e36d434e</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_raw_value&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex &amp;amp; pop test value&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') == "false") {	
		return;
    }
    if (g_form.getValue('u_regex_transform') == "true") {	
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'), 'gm');
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-07 15:52:07&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;3e2eea1147d0411024307601e36d434e&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex &amp;amp; pop test value&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_3e2eea1147d0411024307601e36d434e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:27:12&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1754014260</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>064f2dd047b6851024307601e36d436c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96cb17d50000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex &amp; pop test value</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>c7dabf19e25c411082d22c9ebc457558</update_guid>
<update_guid_history>c7dabf19e25c411082d22c9ebc457558:-1754014260,42da7f191f5c4110b6c71495c0a0be9a:-1517886951,327a33d5ae5c41105c95e2d051edfb95:-2000035811,72193f154e5c41101178417ea0fdb405:869756810,41733f550e1c411003be0ca9afab7422:-2000035811,38c4bedddad04110e6f1757d13bb2875:869756810,1f34b6dd79d041102b42b8bdea135b8e:135141138,8611bad56ed04110ce5fedb53521b80f:1844512982,fef076d517d04110149c6de15e685116:2087279587,17e0be959ad0411028f1fb87045665d7:1844512982,b6a0b69524d04110461ea7a0bc1a9858:2087279587,6a907695e1d041106f70b42c6f3b4c59:1844512982,1580765597d04110c2ce9f54e21ed684:-803230070,322eea11bdd041105dc0f190056fd251:1844512982</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_63ddd6201b0409d0d575979cbc4bcba0</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_function&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex function&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 20:29:46&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;63ddd6201b0409d0d575979cbc4bcba0&lt;/sys_id&gt;&lt;sys_mod_count&gt;26&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex function&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_63ddd6201b0409d0d575979cbc4bcba0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:27:24&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1785214149</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>064f2dd047b6851024307601e36d436f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d91a4ee5a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex function</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>d051f60d43d8c5503ec0bb5a05357db7</update_guid>
<update_guid_history>d051f60d43d8c5503ec0bb5a05357db7:1785214149,a881052f4a088d109cc294f0efbcf726:-226908558,9071052fb5088d10f113d0469fd91653:1666164718,2f6ef8e7e6088d107b82744fb8546b99:-1972877589,fe6ebce7ba088d1042f6c977d6e5d205:969392504,096e7ce716088d10658086b5114bf302:-1972877589,ff4eb8e7b0088d103f7b5f96172a2dd8:969392504,2c4e70e77a088d10bf286db6e72e1afc:-1972877589,14cd3ca785088d107a76b1acfd2ab8f2:969392504,26fb7ce393088d103336cd17ee75684d:-1972877589,728b7ca3d8088d102e68715eb651e830:969392504,6a4b3c6368088d1073e1f5e68e9e70c8:-1972877589,f03b30a362088d10ce253345faf8525f:969392504,cb70c9b4934449d0315125f6f6a1c71d:-1972877589,ef604974634449d0fe2692b0ab946344:969392504,7160cd74f84449d05999348d922f1777:-1972877589,0c6089743d4449d0ccb6d9a5dca49f49:969392504,7d50c934a94449d04b889e9cae82d591:-1972877589,3a404974754449d0d6bfb4e396b1143e:969392504,3a30c9fc0f0449d0a4999fd8646a3c82:-1972877589,ab108d706e4449d0f6377d90dd21f4a0:-1488537863,47dff0fc930449d0dfe33b2bb84879fa:-140634979,309f7870784449d092c5f2849a03cce4:2145023818,117ffc30cb4449d0bab7b1f17f04d0df:1105306461,574ff8fc690449d033ec349553cd8755:2145023818,214f30fc1a0449d06283395b499ed8aa:1105306461,a4dc34b896c049d0abc28b5a8fb212bc:2145023818,e9bc7cf4ddc049d0ead15a655778e632:1111686388,67ddd620050409d03bc8dab55633eea2:2145023818</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_number</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_number" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;ignore_filter_on_new=true&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Number&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value&gt;javascript:global.getNextObjNumberPadded();&lt;/default_value&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_number&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;40&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 14:33:29&lt;/sys_created_on&gt;&lt;sys_id&gt;adf568d31b7bfc90d575979cbc4bcb19&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Number&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_number&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:33:29&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>-836850925</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>064fa5d047b6851024307601e36d435c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337781d10000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Number</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>25f568d3a27bfc90fb5bdfc3eaf3e82d</update_guid>
<update_guid_history>25f568d3a27bfc90fb5bdfc3eaf3e82d:-836850925</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_flattened_data_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_flattened_data" label="Test Alert Flattened Data" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_flattened_data</element><help/><hint/><label>Test Alert Flattened Data</label><language>en</language><name>u_alert_tag_normalization</name><plural>Test Alert Flattened Data</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 03:18:34</sys_created_on><sys_id>6348ff1a1bb3b890d575979cbc4bcb63</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Test Alert Flattened Data</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_flattened_data_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:25:14</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-332014230</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0a4f2dd047b6851024307601e36d4365</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d336ff4840000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Test Alert Flattened Data</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>74142013d47bfc90c08d78b3efeb3ec7</update_guid>
<update_guid_history>74142013d47bfc90c08d78b3efeb3ec7:-332014230,ab48ff1a61b3b89040a5d0b91a9f3178:198137626</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_hub_flow_36e284aa1bf3b890d575979cbc4bcbe1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_hub_flow"&gt;&lt;sys_hub_flow action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;active&gt;true&lt;/active&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;compiler_build&gt;glide-quebec-12-09-2020__patch7-hotfix2a-09-20-2021_10-05-2021_1441.zip&lt;/compiler_build&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description/&gt;&lt;internal_name&gt;atn__strategy_change&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"b3e613c3-08cd-4909-acfc-fe3b31caa4a1.table_name","label":"3➛Business Rule Table","reference":"sys_script","reference_display":"Business Rule","type":"table_name","base_type":"table_name","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"b3e613c3-08cd-4909-acfc-fe3b31caa4a1.record","label":"3➛Business Rule Record","reference":"sys_script","reference_display":"Business Rule","type":"reference","base_type":"reference","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.error_message","label":"2➛Error Message","reference_display":"Error Message","type":"string","base_type":"string","attributes":{"uiType":"string","uiTypeLabel":"String","element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper","pwd2droppable":"true","uiUniqueId":"87687532-9e3d-4497-a88e-90f45bfb9adb"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.status","label":"2➛Status","reference_display":"Status","type":"choice","base_type":"choice","attributes":{"uiType":"choice","uiTypeLabel":"Choice","element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper","uiUniqueId":"5e478657-3a84-4a60-a92b-d3e80005ad34"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.Table","label":"2➛Business Rule Table","reference":"sys_script","reference_display":"Business Rule","type":"table_name","base_type":"table_name","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.Record","label":"2➛Business Rule Record","reference":"sys_script","reference_display":"Business Rule","type":"reference","base_type":"reference","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"0e8fcffd-34dd-4125-a2ce-023f38dc7408.table_name","label":"2➛Table","reference_display":"Table","type":"table_name","base_type":"table_name","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"0e8fcffd-34dd-4125-a2ce-023f38dc7408.record","label":"2➛Record","reference_display":"Record","type":"document_id","base_type":"document_id","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"2ac53385-f42c-496e-9475-5d65afbb587b.script","label":"1➛script","reference_display":"script","type":"string","base_type":"string","attributes":{"uiType":"string","uiTypeLabel":"String","element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper","pwd2droppable":"true","uiUniqueId":"3e97a2b7-43f8-43e7-a23a-fa143c02a136"}}]&lt;/label_cache&gt;&lt;master_snapshot&gt;34960c221b37b890d575979cbc4bcb54&lt;/master_snapshot&gt;&lt;name&gt;Alert Tag Normalization Flow&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;remote_trigger_id&gt;2337a0971b7bfc90d575979cbc4bcbce&lt;/remote_trigger_id&gt;&lt;run_as&gt;user&lt;/run_as&gt;&lt;run_with_roles/&gt;&lt;sc_callable&gt;false&lt;/sc_callable&gt;&lt;show_draft_actions&gt;false&lt;/show_draft_actions&gt;&lt;show_triggered_flows&gt;false&lt;/show_triggered_flows&gt;&lt;status&gt;published&lt;/status&gt;&lt;sys_class_name&gt;sys_hub_flow&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:04:57&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;Alert Tag Normalization Flow&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_hub_flow_36e284aa1bf3b890d575979cbc4bcbe1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:06&lt;/sys_updated_on&gt;&lt;type&gt;flow&lt;/type&gt;&lt;/sys_hub_flow&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=36e284aa1bf3b890d575979cbc4bcbe1"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=36e284aa1bf3b890d575979cbc4bcbe1"/&gt;&lt;sys_flow_record_trigger action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;condition table="u_alert_tag_normalization"&gt;^EQ&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/condition&gt;&lt;name/&gt;&lt;on_delete&gt;false&lt;/on_delete&gt;&lt;on_insert&gt;true&lt;/on_insert&gt;&lt;on_update&gt;true&lt;/on_update&gt;&lt;run_flow_in&gt;background&lt;/run_flow_in&gt;&lt;run_on_extended&gt;false&lt;/run_on_extended&gt;&lt;run_when_setting&gt;both&lt;/run_when_setting&gt;&lt;run_when_user_list/&gt;&lt;run_when_user_setting&gt;any&lt;/run_when_user_setting&gt;&lt;sys_class_name&gt;sys_flow_record_trigger&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 14:39:05&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;2337a0971b7bfc90d575979cbc4bcbce&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_overrides/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;/sys_flow_record_trigger&gt;&lt;sys_trigger_runner_mapping action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;data&gt;{"table":"sys_trigger_runner_mapping","id":"eb37a0971b7bfc90d575979cbc4bcbce","name":"trigger_runner","type":"java.util.Collections$UnmodifiableMap"}&lt;/data&gt;&lt;identifier&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/identifier&gt;&lt;runner&gt;FDTriggerRunner&lt;/runner&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 14:39:05&lt;/sys_created_on&gt;&lt;sys_id&gt;eb37a0971b7bfc90d575979cbc4bcbce&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;trigger display_value=""&gt;2337a0971b7bfc90d575979cbc4bcbce&lt;/trigger&gt;&lt;/sys_trigger_runner_mapping&gt;&lt;sys_json_chunk action="INSERT_OR_UPDATE"&gt;&lt;data&gt;H4sIAAAAAAAAAGXLWwqAIBBA0b3MdytwKxGD5fggGUFHLKK99yAo6Pce7ga5MtqYGgYGBaOeZpdTZQPdTc0TYy2UMYYioPrh0wuJBHbXl8T/jpc1r48mRlqE2JA5u9WxEOwH5v2lw4YAAAA=&lt;/data&gt;&lt;document_id&gt;eb37a0971b7bfc90d575979cbc4bcbce&lt;/document_id&gt;&lt;field&gt;trigger_runner&lt;/field&gt;&lt;length&gt;144&lt;/length&gt;&lt;position&gt;0&lt;/position&gt;&lt;source_table&gt;sys_trigger_runner_mapping&lt;/source_table&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 14:39:05&lt;/sys_created_on&gt;&lt;sys_id&gt;6337a0971b7bfc90d575979cbc4bcbcf&lt;/sys_id&gt;&lt;/sys_json_chunk&gt;&lt;sys_trigger_runner_mapping action="delete_multiple" query="identifier=36e284aa1bf3b890d575979cbc4bcbe1^sys_idNOT INeb37a0971b7bfc90d575979cbc4bcbce"/&gt;&lt;sys_hub_trigger_instance action="delete_multiple" query="flow=36e284aa1bf3b890d575979cbc4bcbe1^sys_idNOT INa2a4086e1bf3b890d575979cbc4bcbbc"/&gt;&lt;sys_hub_trigger_instance action="INSERT_OR_UPDATE"&gt;&lt;comment/&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/flow&gt;&lt;name&gt;Created or Updated&lt;/name&gt;&lt;remote_sys_id/&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:35&lt;/sys_created_on&gt;&lt;sys_id&gt;a2a4086e1bf3b890d575979cbc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;trigger_definition display_value="Created or Updated"&gt;a45d9180c32222002841b63b12d3aea7&lt;/trigger_definition&gt;&lt;trigger_inputs/&gt;&lt;trigger_outputs/&gt;&lt;trigger_type&gt;record_create_or_update&lt;/trigger_type&gt;&lt;/sys_hub_trigger_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=a2a4086e1bf3b890d575979cbc4bcbbc"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_trigger_instance&lt;/document&gt;&lt;document_key&gt;a2a4086e1bf3b890d575979cbc4bcbbc&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:35&lt;/sys_created_on&gt;&lt;sys_id&gt;3aa4086e1bf3b890d575979cbc4bcbbd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:35&lt;/sys_updated_on&gt;&lt;value&gt;^EQ&lt;/value&gt;&lt;variable display_value="Condition"&gt;707dd180c32222002841b63b12d3aecb&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_trigger_instance&lt;/document&gt;&lt;document_key&gt;a2a4086e1bf3b890d575979cbc4bcbbc&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:35&lt;/sys_created_on&gt;&lt;sys_id&gt;76a4086e1bf3b890d575979cbc4bcbbd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:35&lt;/sys_updated_on&gt;&lt;value&gt;every&lt;/value&gt;&lt;variable display_value="Run Trigger"&gt;2b9def50c31132002841b63b12d3ae5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_trigger_instance&lt;/document&gt;&lt;document_key&gt;a2a4086e1bf3b890d575979cbc4bcbbc&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:35&lt;/sys_created_on&gt;&lt;sys_id&gt;faa4086e1bf3b890d575979cbc4bcbbd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:35&lt;/sys_updated_on&gt;&lt;value&gt;u_alert_tag_normalization&lt;/value&gt;&lt;variable display_value="Table"&gt;cf1e1980c32222002841b63b12d3aea0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_flow_cat_variable_model action="delete_multiple" query="id=36e284aa1bf3b890d575979cbc4bcbe1^sys_idNOT IN76e284aa1bf3b890d575979cbc4bcbe4"/&gt;&lt;sys_flow_cat_variable_model action="INSERT_OR_UPDATE"&gt;&lt;id&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/id&gt;&lt;name&gt;ATN - Strategy Change&lt;/name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:04:57&lt;/sys_created_on&gt;&lt;sys_id&gt;76e284aa1bf3b890d575979cbc4bcbe4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:04:57&lt;/sys_updated_on&gt;&lt;/sys_flow_cat_variable_model&gt;&lt;sys_hub_flow_input action="delete_multiple" query="model=36e284aa1bf3b890d575979cbc4bcbe1^sys_idNOT INa6a4c42e1bf3b890d575979cbc4bcb02,eaa4086e1bf3b890d575979cbc4bcbb3,eea4086e1bf3b890d575979cbc4bcbac"/&gt;&lt;sys_hub_flow_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=document_id&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent&gt;table_name&lt;/dependent&gt;&lt;dependent_on_field&gt;table_name&lt;/dependent_on_field&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;current&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;document_id&lt;/internal_type&gt;&lt;label&gt;Record&lt;/label&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;200&lt;/max_length&gt;&lt;model display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/model&gt;&lt;model_id&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/model_id&gt;&lt;model_table&gt;sys_hub_flow&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_flow_input_36e284aa1bf3b890d575979cbc4bcbe1&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;100&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_flow_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:34&lt;/sys_created_on&gt;&lt;sys_id&gt;a6a4c42e1bf3b890d575979cbc4bcb02&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_flow_input&gt;&lt;sys_hub_flow_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,test_input_hidden=true,uiType=table_name&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;table_name&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;table_name&lt;/internal_type&gt;&lt;label&gt;Table Name&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;200&lt;/max_length&gt;&lt;model display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/model&gt;&lt;model_id&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/model_id&gt;&lt;model_table&gt;sys_hub_flow&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_flow_input_36e284aa1bf3b890d575979cbc4bcbe1&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;101&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_flow_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:34&lt;/sys_created_on&gt;&lt;sys_id&gt;eaa4086e1bf3b890d575979cbc4bcbb3&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_flow_input&gt;&lt;sys_hub_flow_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;child_label=FDChangeDetails,child_name=FDChangeDetails,child_type=object,child_type_label=Object,co_type_name=FDCollection,element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=array.object,uiTypeLabel=Array.Object&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;changed_fields&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;Changed Fields&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;4000&lt;/max_length&gt;&lt;model display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/model&gt;&lt;model_id&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/model_id&gt;&lt;model_table&gt;sys_hub_flow&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_flow_input_36e284aa1bf3b890d575979cbc4bcbe1&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;100&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_flow_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:34&lt;/sys_created_on&gt;&lt;sys_id&gt;eea4086e1bf3b890d575979cbc4bcbac&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:34&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_flow_input&gt;&lt;sys_hub_action_instance action="delete_multiple" query="flow=36e284aa1bf3b890d575979cbc4bcbe1^sys_idNOT IN0f2508ae1bf3b890d575979cbc4bcb6b,7e2508ae1bf3b890d575979cbc4bcb2b,c72508ae1bf3b890d575979cbc4bcb65"/&gt;&lt;sys_hub_action_instance action="INSERT_OR_UPDATE"&gt;&lt;action_inputs/&gt;&lt;action_inputs/&gt;&lt;action_type display_value="Update Record"&gt;f9d01dd2c31332002841b63b12d3aea1&lt;/action_type&gt;&lt;action_type_parent/&gt;&lt;comment/&gt;&lt;compiled_snapshot&gt;f9d01dd2c31332002841b63b12d3aea1&lt;/compiled_snapshot&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/flow&gt;&lt;order&gt;3&lt;/order&gt;&lt;parent_ui_id/&gt;&lt;sys_class_name&gt;sys_hub_action_instance&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;0f2508ae1bf3b890d575979cbc4bcb6b&lt;/sys_id&gt;&lt;sys_mod_count&gt;112&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;ui_id&gt;b3e613c3-08cd-4909-acfc-fe3b31caa4a1&lt;/ui_id&gt;&lt;/sys_hub_action_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=0f2508ae1bf3b890d575979cbc4bcb6b"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_action_instance&lt;/document&gt;&lt;document_key&gt;0f2508ae1bf3b890d575979cbc4bcb6b&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;0f2508ae1bf3b890d575979cbc4bcb6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:14:47&lt;/sys_updated_on&gt;&lt;value&gt;sys_script&lt;/value&gt;&lt;variable display_value="Table"&gt;b5d01916c31332002841b63b12d3aec9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_element_mapping action="delete_multiple" query="id=0f2508ae1bf3b890d575979cbc4bcb6b"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;record&lt;/field&gt;&lt;id&gt;0f2508ae1bf3b890d575979cbc4bcb6b&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;c72508ae1bf3b890d575979cbc4bcb6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:14:47&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_input_f9d01dd2c31332002841b63b12d3aea1&lt;/table&gt;&lt;value&gt;{{c5365a91-c9ca-4def-ad3c-f72e6059f0a0.Record}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;table_name&lt;/field&gt;&lt;id&gt;0f2508ae1bf3b890d575979cbc4bcb6b&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;072508ae1bf3b890d575979cbc4bcb6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:14:47&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_input_f9d01dd2c31332002841b63b12d3aea1&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;values&lt;/field&gt;&lt;id&gt;0f2508ae1bf3b890d575979cbc4bcb6b&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;8b2508ae1bf3b890d575979cbc4bcb6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:14:47&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_input_f9d01dd2c31332002841b63b12d3aea1&lt;/table&gt;&lt;value&gt;script={{2ac53385-f42c-496e-9475-5d65afbb587b.script}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_action_instance action="INSERT_OR_UPDATE"&gt;&lt;action_inputs/&gt;&lt;action_type display_value="Write ATN BR"&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/action_type&gt;&lt;action_type_parent/&gt;&lt;comment/&gt;&lt;compiled_snapshot&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/compiled_snapshot&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/flow&gt;&lt;order&gt;1&lt;/order&gt;&lt;parent_ui_id/&gt;&lt;sys_class_name&gt;sys_hub_action_instance&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;7e2508ae1bf3b890d575979cbc4bcb2b&lt;/sys_id&gt;&lt;sys_mod_count&gt;112&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;ui_id&gt;2ac53385-f42c-496e-9475-5d65afbb587b&lt;/ui_id&gt;&lt;/sys_hub_action_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=7e2508ae1bf3b890d575979cbc4bcb2b"/&gt;&lt;sys_hub_action_instance action="INSERT_OR_UPDATE"&gt;&lt;action_inputs/&gt;&lt;action_type display_value="Look Up Record"&gt;9d09f99587003300663ca1bb36cb0ba3&lt;/action_type&gt;&lt;action_type_parent/&gt;&lt;comment/&gt;&lt;compiled_snapshot&gt;9d09f99587003300663ca1bb36cb0ba3&lt;/compiled_snapshot&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/flow&gt;&lt;order&gt;2&lt;/order&gt;&lt;parent_ui_id/&gt;&lt;sys_class_name&gt;sys_hub_action_instance&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;c72508ae1bf3b890d575979cbc4bcb65&lt;/sys_id&gt;&lt;sys_mod_count&gt;112&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;ui_id&gt;c5365a91-c9ca-4def-ad3c-f72e6059f0a0&lt;/ui_id&gt;&lt;/sys_hub_action_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=c72508ae1bf3b890d575979cbc4bcb65"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_action_instance&lt;/document&gt;&lt;document_key&gt;c72508ae1bf3b890d575979cbc4bcb65&lt;/document_key&gt;&lt;order&gt;0&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;4f2508ae1bf3b890d575979cbc4bcb67&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:14:47&lt;/sys_updated_on&gt;&lt;value&gt;sys_script&lt;/value&gt;&lt;variable display_value="Table"&gt;d909f99587003300663ca1bb36cb0ba4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_action_instance&lt;/document&gt;&lt;document_key&gt;c72508ae1bf3b890d575979cbc4bcb65&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:14:47&lt;/sys_created_on&gt;&lt;sys_id&gt;8b2508ae1bf3b890d575979cbc4bcb67&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:14:47&lt;/sys_updated_on&gt;&lt;value&gt;sys_id=212472281bab3410d575979cbc4bcb7b&lt;/value&gt;&lt;variable display_value="Conditions"&gt;d509f99587003300663ca1bb36cb0ba9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_flow_input_36e284aa1bf3b890d575979cbc4bcbe1^sys_idNOT IN26a4086e1bf3b890d575979cbc4bcbb2,2aa4086e1bf3b890d575979cbc4bcbab,eaa4086e1bf3b890d575979cbc4bcbb8"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;changed_fields&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;Changed Fields&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_flow_input_36e284aa1bf3b890d575979cbc4bcbe1&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:34&lt;/sys_created_on&gt;&lt;sys_id&gt;26a4086e1bf3b890d575979cbc4bcbb2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:34&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;current&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;Record&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_flow_input_36e284aa1bf3b890d575979cbc4bcbe1&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:34&lt;/sys_created_on&gt;&lt;sys_id&gt;2aa4086e1bf3b890d575979cbc4bcbab&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:34&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;table_name&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;Table Name&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_flow_input_36e284aa1bf3b890d575979cbc4bcbe1&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:35&lt;/sys_created_on&gt;&lt;sys_id&gt;eaa4086e1bf3b890d575979cbc4bcbb8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:35&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_flow_trigger_plan action="delete_multiple" query="plan_id=36e284aa1bf3b890d575979cbc4bcbe1^sys_idNOT IN1d964c221b37b890d575979cbc4bcb69"/&gt;&lt;sys_flow_trigger_plan action="INSERT_OR_UPDATE"&gt;&lt;binding_strategy&gt;com.snc.process_flow.engine.binding.Every&lt;/binding_strategy&gt;&lt;plan&gt;{"persistor":{"@class":".ChunkingPlanPersistor","table":"sys_flow_trigger_plan","id":"1d964c221b37b890d575979cbc4bcb69","name":"plan"}}&lt;/plan&gt;&lt;plan_id&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/plan_id&gt;&lt;snapshot&gt;34960c221b37b890d575979cbc4bcb54&lt;/snapshot&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:57&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;1d964c221b37b890d575979cbc4bcb69&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_overrides/&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;trigger display_value=""&gt;2337a0971b7bfc90d575979cbc4bcbce&lt;/trigger&gt;&lt;/sys_flow_trigger_plan&gt;&lt;sys_hub_flow_snapshot action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;active&gt;true&lt;/active&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description/&gt;&lt;internal_name&gt;atn__strategy_change&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"b3e613c3-08cd-4909-acfc-fe3b31caa4a1.table_name","label":"3➛Business Rule Table","reference":"sys_script","reference_display":"Business Rule","type":"table_name","base_type":"table_name","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"b3e613c3-08cd-4909-acfc-fe3b31caa4a1.record","label":"3➛Business Rule Record","reference":"sys_script","reference_display":"Business Rule","type":"reference","base_type":"reference","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.error_message","label":"2➛Error Message","reference_display":"Error Message","type":"string","base_type":"string","attributes":{"uiType":"string","uiTypeLabel":"String","element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper","pwd2droppable":"true","uiUniqueId":"87687532-9e3d-4497-a88e-90f45bfb9adb"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.status","label":"2➛Status","reference_display":"Status","type":"choice","base_type":"choice","attributes":{"uiType":"choice","uiTypeLabel":"Choice","element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper","uiUniqueId":"5e478657-3a84-4a60-a92b-d3e80005ad34"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.Table","label":"2➛Business Rule Table","reference":"sys_script","reference_display":"Business Rule","type":"table_name","base_type":"table_name","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"c5365a91-c9ca-4def-ad3c-f72e6059f0a0.Record","label":"2➛Business Rule Record","reference":"sys_script","reference_display":"Business Rule","type":"reference","base_type":"reference","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"0e8fcffd-34dd-4125-a2ce-023f38dc7408.table_name","label":"2➛Table","reference_display":"Table","type":"table_name","base_type":"table_name","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"0e8fcffd-34dd-4125-a2ce-023f38dc7408.record","label":"2➛Record","reference_display":"Record","type":"document_id","base_type":"document_id","attributes":{"element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper"}},{"name":"2ac53385-f42c-496e-9475-5d65afbb587b.script","label":"1➛script","reference_display":"script","type":"string","base_type":"string","attributes":{"uiType":"string","uiTypeLabel":"String","element_mapping_provider":"com.glide.flow_design.action.data.FlowDesignVariableMapper","pwd2droppable":"true","uiUniqueId":"3e97a2b7-43f8-43e7-a23a-fa143c02a136"}}]&lt;/label_cache&gt;&lt;master&gt;true&lt;/master&gt;&lt;name&gt;Alert Tag Normalization Flow&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;parent_flow display_value="Alert Tag Normalization Flow"&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/parent_flow&gt;&lt;remote_trigger_id/&gt;&lt;run_as&gt;user&lt;/run_as&gt;&lt;run_with_roles/&gt;&lt;sc_callable&gt;false&lt;/sc_callable&gt;&lt;status&gt;published&lt;/status&gt;&lt;sys_class_name&gt;sys_hub_flow_snapshot&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:54&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;34960c221b37b890d575979cbc4bcb54&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_overrides/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:04&lt;/sys_updated_on&gt;&lt;type&gt;flow&lt;/type&gt;&lt;/sys_hub_flow_snapshot&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=34960c221b37b890d575979cbc4bcb54"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=34960c221b37b890d575979cbc4bcb54"/&gt;&lt;sys_hub_trigger_instance action="delete_multiple" query="flow=34960c221b37b890d575979cbc4bcb54^sys_idNOT INcd964c221b37b890d575979cbc4bcb27"/&gt;&lt;sys_hub_trigger_instance action="INSERT_OR_UPDATE"&gt;&lt;comment/&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;34960c221b37b890d575979cbc4bcb54&lt;/flow&gt;&lt;name&gt;Created or Updated&lt;/name&gt;&lt;remote_sys_id/&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;cd964c221b37b890d575979cbc4bcb27&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:05&lt;/sys_updated_on&gt;&lt;trigger_definition display_value="Created or Updated"&gt;a45d9180c32222002841b63b12d3aea7&lt;/trigger_definition&gt;&lt;trigger_inputs/&gt;&lt;trigger_outputs/&gt;&lt;trigger_type&gt;record_create_or_update&lt;/trigger_type&gt;&lt;/sys_hub_trigger_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=cd964c221b37b890d575979cbc4bcb27"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_trigger_instance&lt;/document&gt;&lt;document_key&gt;cd964c221b37b890d575979cbc4bcb27&lt;/document_key&gt;&lt;order&gt;200&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;0d964c221b37b890d575979cbc4bcb29&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;value&gt;every&lt;/value&gt;&lt;variable display_value="Run Trigger"&gt;2b9def50c31132002841b63b12d3ae5b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_trigger_instance&lt;/document&gt;&lt;document_key&gt;cd964c221b37b890d575979cbc4bcb27&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;81964c221b37b890d575979cbc4bcb2a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;value&gt;u_alert_tag_normalization&lt;/value&gt;&lt;variable display_value="Table"&gt;cf1e1980c32222002841b63b12d3aea0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_trigger_instance&lt;/document&gt;&lt;document_key&gt;cd964c221b37b890d575979cbc4bcb27&lt;/document_key&gt;&lt;order&gt;100&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;cd964c221b37b890d575979cbc4bcb29&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;value&gt;^EQ&lt;/value&gt;&lt;variable display_value="Condition"&gt;707dd180c32222002841b63b12d3aecb&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_flow_cat_variable_model action="delete_multiple" query="id=34960c221b37b890d575979cbc4bcb54^sys_idNOT INbc960c221b37b890d575979cbc4bcb55"/&gt;&lt;sys_flow_cat_variable_model action="INSERT_OR_UPDATE"&gt;&lt;id&gt;34960c221b37b890d575979cbc4bcb54&lt;/id&gt;&lt;name&gt;ATN - Strategy Change&lt;/name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:54&lt;/sys_created_on&gt;&lt;sys_id&gt;bc960c221b37b890d575979cbc4bcb55&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:54&lt;/sys_updated_on&gt;&lt;/sys_flow_cat_variable_model&gt;&lt;sys_hub_flow_input action="delete_multiple" query="model=34960c221b37b890d575979cbc4bcb54^sys_idNOT IN74960c221b37b890d575979cbc4bcb5a,b0960c221b37b890d575979cbc4bcbb3,f0960c221b37b890d575979cbc4bcba7"/&gt;&lt;sys_hub_flow_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=document_id&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent&gt;table_name&lt;/dependent&gt;&lt;dependent_on_field&gt;table_name&lt;/dependent_on_field&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;current&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;document_id&lt;/internal_type&gt;&lt;label&gt;Record&lt;/label&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;200&lt;/max_length&gt;&lt;model display_value="Alert Tag Normalization Flow"&gt;34960c221b37b890d575979cbc4bcb54&lt;/model&gt;&lt;model_id&gt;34960c221b37b890d575979cbc4bcb54&lt;/model_id&gt;&lt;model_table&gt;sys_hub_flow_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_flow_input_34960c221b37b890d575979cbc4bcb54&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;100&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_flow_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;74960c221b37b890d575979cbc4bcb5a&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:03&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_flow_input&gt;&lt;sys_hub_flow_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,test_input_hidden=true,uiType=table_name&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;table_name&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;table_name&lt;/internal_type&gt;&lt;label&gt;Table Name&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;200&lt;/max_length&gt;&lt;model display_value="Alert Tag Normalization Flow"&gt;34960c221b37b890d575979cbc4bcb54&lt;/model&gt;&lt;model_id&gt;34960c221b37b890d575979cbc4bcb54&lt;/model_id&gt;&lt;model_table&gt;sys_hub_flow_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_flow_input_34960c221b37b890d575979cbc4bcb54&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;101&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_flow_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;b0960c221b37b890d575979cbc4bcbb3&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:03&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_flow_input&gt;&lt;sys_hub_flow_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;child_label=FDChangeDetails,child_name=FDChangeDetails,child_type=object,child_type_label=Object,co_type_name=FDCollection,element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=array.object,uiTypeLabel=Array.Object&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;changed_fields&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;Changed Fields&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;4000&lt;/max_length&gt;&lt;model display_value="Alert Tag Normalization Flow"&gt;34960c221b37b890d575979cbc4bcb54&lt;/model&gt;&lt;model_id&gt;34960c221b37b890d575979cbc4bcb54&lt;/model_id&gt;&lt;model_table&gt;sys_hub_flow_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_flow_input_34960c221b37b890d575979cbc4bcb54&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;100&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_flow_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;f0960c221b37b890d575979cbc4bcba7&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:27:39&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_flow_input&gt;&lt;sys_hub_action_instance action="delete_multiple" query="flow=34960c221b37b890d575979cbc4bcb54^sys_idNOT IN09964c221b37b890d575979cbc4bcb10,0d964c221b37b890d575979cbc4bcb25,34960c221b37b890d575979cbc4bcbe1"/&gt;&lt;sys_hub_action_instance action="INSERT_OR_UPDATE"&gt;&lt;action_inputs/&gt;&lt;action_type display_value="Look Up Record"&gt;9d09f99587003300663ca1bb36cb0ba3&lt;/action_type&gt;&lt;action_type_parent display_value="Look Up Record"&gt;b93f42810b30030085c083eb37673a63&lt;/action_type_parent&gt;&lt;comment/&gt;&lt;compiled_snapshot&gt;9d09f99587003300663ca1bb36cb0ba3&lt;/compiled_snapshot&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;34960c221b37b890d575979cbc4bcb54&lt;/flow&gt;&lt;order&gt;2&lt;/order&gt;&lt;parent_ui_id/&gt;&lt;sys_class_name&gt;sys_hub_action_instance&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;09964c221b37b890d575979cbc4bcb10&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:04&lt;/sys_updated_on&gt;&lt;ui_id&gt;c5365a91-c9ca-4def-ad3c-f72e6059f0a0&lt;/ui_id&gt;&lt;/sys_hub_action_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=09964c221b37b890d575979cbc4bcb10"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_action_instance&lt;/document&gt;&lt;document_key&gt;09964c221b37b890d575979cbc4bcb10&lt;/document_key&gt;&lt;order&gt;0&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;05964c221b37b890d575979cbc4bcb13&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;value&gt;sys_script&lt;/value&gt;&lt;variable display_value="Table"&gt;d909f99587003300663ca1bb36cb0ba4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_action_instance&lt;/document&gt;&lt;document_key&gt;09964c221b37b890d575979cbc4bcb10&lt;/document_key&gt;&lt;order&gt;1&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;0d964c221b37b890d575979cbc4bcb12&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:55&lt;/sys_updated_on&gt;&lt;value&gt;sys_id=212472281bab3410d575979cbc4bcb7b&lt;/value&gt;&lt;variable display_value="Conditions"&gt;d509f99587003300663ca1bb36cb0ba9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_hub_action_instance action="INSERT_OR_UPDATE"&gt;&lt;action_inputs/&gt;&lt;action_inputs/&gt;&lt;action_type display_value="Update Record"&gt;f9d01dd2c31332002841b63b12d3aea1&lt;/action_type&gt;&lt;action_type_parent display_value="Update Record"&gt;baf174c8c3c232002841b63b12d3aee4&lt;/action_type_parent&gt;&lt;comment/&gt;&lt;compiled_snapshot&gt;f9d01dd2c31332002841b63b12d3aea1&lt;/compiled_snapshot&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;34960c221b37b890d575979cbc4bcb54&lt;/flow&gt;&lt;order&gt;3&lt;/order&gt;&lt;parent_ui_id/&gt;&lt;sys_class_name&gt;sys_hub_action_instance&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;0d964c221b37b890d575979cbc4bcb25&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:04&lt;/sys_updated_on&gt;&lt;ui_id&gt;b3e613c3-08cd-4909-acfc-fe3b31caa4a1&lt;/ui_id&gt;&lt;/sys_hub_action_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=0d964c221b37b890d575979cbc4bcb25"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_action_instance&lt;/document&gt;&lt;document_key&gt;0d964c221b37b890d575979cbc4bcb25&lt;/document_key&gt;&lt;order&gt;50&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;49964c221b37b890d575979cbc4bcb27&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;value&gt;sys_script&lt;/value&gt;&lt;variable display_value="Table"&gt;b5d01916c31332002841b63b12d3aec9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_element_mapping action="delete_multiple" query="id=0d964c221b37b890d575979cbc4bcb25"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;record&lt;/field&gt;&lt;id&gt;0d964c221b37b890d575979cbc4bcb25&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;05964c221b37b890d575979cbc4bcb27&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_input_f9d01dd2c31332002841b63b12d3aea1&lt;/table&gt;&lt;value&gt;{{c5365a91-c9ca-4def-ad3c-f72e6059f0a0.Record}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;table_name&lt;/field&gt;&lt;id&gt;0d964c221b37b890d575979cbc4bcb25&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;41964c221b37b890d575979cbc4bcb27&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_input_f9d01dd2c31332002841b63b12d3aea1&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;values&lt;/field&gt;&lt;id&gt;0d964c221b37b890d575979cbc4bcb25&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:56&lt;/sys_created_on&gt;&lt;sys_id&gt;c5964c221b37b890d575979cbc4bcb27&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:56&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_input_f9d01dd2c31332002841b63b12d3aea1&lt;/table&gt;&lt;value&gt;script={{2ac53385-f42c-496e-9475-5d65afbb587b.script}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_action_instance action="INSERT_OR_UPDATE"&gt;&lt;action_inputs/&gt;&lt;action_type display_value="Write ATN BR"&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/action_type&gt;&lt;action_type_parent display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/action_type_parent&gt;&lt;comment/&gt;&lt;compiled_snapshot&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/compiled_snapshot&gt;&lt;display_text/&gt;&lt;flow display_value="Alert Tag Normalization Flow"&gt;34960c221b37b890d575979cbc4bcb54&lt;/flow&gt;&lt;order&gt;1&lt;/order&gt;&lt;parent_ui_id/&gt;&lt;sys_class_name&gt;sys_hub_action_instance&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;34960c221b37b890d575979cbc4bcbe1&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:39:04&lt;/sys_updated_on&gt;&lt;ui_id&gt;2ac53385-f42c-496e-9475-5d65afbb587b&lt;/ui_id&gt;&lt;/sys_hub_action_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=34960c221b37b890d575979cbc4bcbe1"/&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_flow_input_34960c221b37b890d575979cbc4bcb54^sys_idNOT IN3c960c221b37b890d575979cbc4bcbae,7c960c221b37b890d575979cbc4bcba2,f4960c221b37b890d575979cbc4bcbba"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;changed_fields&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;Changed Fields&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_flow_input_34960c221b37b890d575979cbc4bcb54&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;3c960c221b37b890d575979cbc4bcbae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:55&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;current&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;Record&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_flow_input_34960c221b37b890d575979cbc4bcb54&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;7c960c221b37b890d575979cbc4bcba2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:55&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;table_name&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;Table Name&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_flow_input_34960c221b37b890d575979cbc4bcb54&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:20:55&lt;/sys_created_on&gt;&lt;sys_id&gt;f4960c221b37b890d575979cbc4bcbba&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:20:55&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_hub_flow action="update"&gt;&lt;sys_id&gt;36e284aa1bf3b890d575979cbc4bcbe1&lt;/sys_id&gt;&lt;latest_snapshot&gt;34960c221b37b890d575979cbc4bcb54&lt;/latest_snapshot&gt;&lt;/sys_hub_flow&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1513526414</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0a4f2dd047b6851024307601e36d4368</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337ca4fe0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>Alert Tag Normalization Flow</target_name>
<type>Flow</type>
<update_domain>global</update_domain>
<update_guid>fb37e097457bfc9096256c0a4e9c6e21</update_guid>
<update_guid_history>fb37e097457bfc9096256c0a4e9c6e21:-1513526414,2e376097e87bfc904cf9e9363a13908b:-2138795534,b9372097ea7bfc90f67f4112446cae7b:1625323006,aca42453797bfc90ad97e298d22d9986:-925258668,6f94a053627bfc90ff8484c90b4a86d8:1205098961,2a946053697bfc9027ba843add187fd2:1514472925,e1964c222237b89036a153c629bf73b4:-865717432,64960c22e037b890f0a18ddaaf34832b:-838318713,cb2508aecef3b8909125bb0ccde1ce84:-930769963,f2a4086ea1f3b890b67e15e42b68b1ce:741609923,7ee248aaecf3b890284ecb0e784918c7:-329436897</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_305db0741b0449d0d575979cbc4bcbe1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - alert field&lt;/description&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - alert field OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {

	var dictGR;
	var value;
	dictGR = g_form.getReference('u_source_alert_field', getColumn);

    function getColumn(dictGR) {
        var column = dictGR.element;
        var tAlert = g_form.getReference('u_test_alert', getValue);

        function getValue(tAlert) {
            value = tAlert.getValue(column);
            g_form.setValue("u_test_value", value);
            g_form.setValue("u_raw_value", value);			
        }
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:06:27&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;305db0741b0449d0d575979cbc4bcbe1&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - alert field OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_305db0741b0449d0d575979cbc4bcbe1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:08:16&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-539171536</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0a4f2dd047b6851024307601e36d436b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d919368600000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - alert field OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>ccfcae0d675809507cf48215f7b37a84</update_guid>
<update_guid_history>ccfcae0d675809507cf48215f7b37a84:-539171536,65ec74677e088d1057d89ed251776ad7:-1127749461,a4dcf827d3088d101f598dd726d1ff09:-1281764642,3f8c3c27f0088d101a66ac85fee19207:-1127749461,eb0cf4e334088d1024fc9b59916edb8d:-1281764642,146d32472cc00d10dfed98758e05db10:-1127749461,e53dbec3e1c00d107fae567cb2fbdc9b:-1281764642,e3adb0b4860449d03e156df6955fb8f0:-1127749461,fc5db074ee0449d03d714b995cf57fe2:-1281764642</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_47d5130b1b440d10d575979cbc4bcb10</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_function&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex (func)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 18:59:13&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;47d5130b1b440d10d575979cbc4bcb10&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex (func)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_47d5130b1b440d10d575979cbc4bcb10&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:42&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>161637096</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0a4f2dd047b6851024307601e36d436e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e650c00000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex (func)</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>62a1016f2d088d10e1799757c1d0e392</update_guid>
<update_guid_history>62a1016f2d088d10e1799757c1d0e392:161637096,e5f0096b16088d10556f7d3edf0a2db5:616178758,093e3ca7f0088d1079e896e874624166:575560299,6acdf0a7ee088d10dae0ee3c0b713b12:-444122408,14cd3ca715088d10acfbbf0ab37399ee:-1940085019,eefb3ce32d088d10808be66a91ed9758:-444122408,e67b7ca3b4088d1021151ddba903e698:-1940085019,cf5bb8a36a088d109ba0c92a18a3f383:-444122408,5b3b38a350088d10005050f7a3cfefbc:-1940085019,231b3c630a088d10a3b17ff09ce1bbc2:-444122408,691bf0a3a0088d107b08b14dc8e647fa:-1940085019,4bd5130be1440d10d6442e609506c412:-444122408</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_comments</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_comments" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Comments&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_comments&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;500&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:51:42&lt;/sys_created_on&gt;&lt;sys_id&gt;54dff7561bf3b890d575979cbc4bcb7c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Comments&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_comments&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 03:51:42&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>1324682330</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0a4fa5d047b6851024307601e36d435b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26df36e40000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Comments</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>f0ef7b560ef3b8909808d803dde70d6f</update_guid>
<update_guid_history>f0ef7b560ef3b8909808d803dde70d6f:1324682330</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_active_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_active" label="Active" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_active</element><help/><hint/><label>Active</label><language>en</language><name>u_alert_tag_normalization</name><plural>Active</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 04:07:35</sys_created_on><sys_id>e98388ea1bf3b890d575979cbc4bcbec</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Active</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_active_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 04:07:35</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>619744538</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0e4f2dd047b6851024307601e36d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26edc1cd0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Active</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>ad8388ea5cf3b89011f939e46ccc86f7</update_guid>
<update_guid_history>ad8388ea5cf3b89011f939e46ccc86f7:619744538</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_test_value_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_test_value" label="Test Value" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_test_value</element><help/><hint/><label>Test Value</label><language>en</language><name>u_alert_tag_normalization</name><plural>Test Values</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 03:18:09</sys_created_on><sys_id>9d383b1a1bb3b890d575979cbc4bcb32</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Test Value</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_test_value_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 03:18:09</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1818391467</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0e4f2dd047b6851024307601e36d4367</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26c07fc10000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Test Value</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>a138fb1a6ab3b890a7c3ffe840d3063f</update_guid>
<update_guid_history>a138fb1a6ab3b890a7c3ffe840d3063f:1818391467</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_2002b8b41b8049d0d575979cbc4bcb8a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Flattened Data&lt;/description&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Flattened Data onLoad&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
				 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onLoad() {
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var data_string = JSON.stringify(data, null, "\t");
	
	g_form.setValue("u_flattened_data", data_string);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 07:17:01&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;2002b8b41b8049d0d575979cbc4bcb8a&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Flattened Data onLoad&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_2002b8b41b8049d0d575979cbc4bcb8a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:08:06&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-563847798</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0e4f2dd047b6851024307601e36d436a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77d3738d0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Flattened Data onLoad</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>70fcf467be088d104a10069967f5d289</update_guid>
<update_guid_history>70fcf467be088d104a10069967f5d289:-563847798,5eccb06747088d103ea6bca39904e788:-1680581673,db70c9b4214449d0cb95537dd2748b25:-563847798,886041b4364449d0a87560fa831d106d:-1680581673,1b8fbcbca80449d032dca0b4f61a10e8:-563847798,917ffc30634449d0f2d8785297c0aec2:-1680581673,494fb4fc820449d093325be15a37f2d0:-563847798,8a3f7cbce60449d02d69d4269397bcfd:-1680581673,7bd23438308049d0c0fe02b67268fdcd:-563847798,6a02f8b46b8049d01018c49646724211:-1107088383,a402b8b47e8049d086ee888ef8e84c8c:950994627</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_432df8bc1bc049d0d575979cbc4bcb3b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_new_value&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
    if(!g_form.getValue('u_test_value')) {
		g_form.setValue('u_test_value', g_form.getValue('u_raw_value'));		
	}

    var raw = g_form.getValue('u_raw_value');

    var regExp = new RegExp(g_form.getValue('u_regex_function'));
    var replace = g_form.getValue('u_regex_new_value');

    var value = raw.replace(regExp, replace);
    g_form.setValue('u_test_value', value);
    //Type appropriate comment here, and begin script below

}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:05:47&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;432df8bc1bc049d0d575979cbc4bcb3b&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_432df8bc1bc049d0d575979cbc4bcb3b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:07:17&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>573985606</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0e4f2dd047b6851024307601e36d436d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77d2b72a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>34cc306743088d101c01341e6077aaf2</update_guid>
<update_guid_history>34cc306743088d101c01341e6077aaf2:573985606,4d9a3463d1088d10c11424dd40b16040:-1221874445,fa8ab8ef53c48d103a291d672d06812d:573985606,9a59f4eff2c48d109069152d674e0e6e:-1221874445,0c49bcaf5dc48d10acd7534e4bbecf2b:-1136661697,60acf2c383c00d107b900db2d15e8340:1528862933,45edf8f47e0449d05e706abf9a59647a:2048518882,032df8bcdfc049d062464ba290e5063d:1528862933</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_a3d3a5a41b8cc5d0d575979cbc4bcb21</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - alert field&lt;/description&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - alert field&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_source_key_type') === 'alert_additional_info') {
		return; 
	}
    var dictGR;
    var value;

    dictGR = g_form.getReference('u_source_alert_field', getColumn);

    function getColumn(dictGR) {
        var column = dictGR.element;
        var tAlert = g_form.getReference('u_test_alert', getValue);

        function getValue(tAlert) {
            value = tAlert.getValue(column);
            g_form.setValue("u_test_value", value);
            g_form.setValue("u_raw_value", value);
        }
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 16:16:22&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a3d3a5a41b8cc5d0d575979cbc4bcb21&lt;/sys_id&gt;&lt;sys_mod_count&gt;50&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - alert field&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_a3d3a5a41b8cc5d0d575979cbc4bcb21&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:02:20&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-7275896</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0e4f2dd047b6851024307601e36d4370</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77ce2baa0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - alert field</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>90ab34e303088d10027c512a1f412a2a</update_guid>
<update_guid_history>90ab34e303088d10027c512a1f412a2a:-7275896,c99bb0e3bd088d10c21c662ed0d217f2:-2016132133,105bb8a360088d10497b744a325a7811:-7275896,5b3b38a380088d102395f95e0d6e49c4:-2016132133,422bf0a308088d10010022a16a09580b:-7275896,902bb0a316088d10daf1b1e377ea87d4:-2016132133,7565b2c772800d107efda4f53e2032d9:-7275896,1035f64798800d10f2b41d3a46b72b81:-733437147,1fd43a87b3800d103c28d57d769a9c6b:1202847834,73747e4717800d10f515a7b0ba81b3ae:1923730956,9370c9b4e54449d0de1471e97ac5ff3a:736414914,086041b45f4449d0e438e307c378f78e:383974165,e37ff030694449d09e78202c05b36e92:736414914,917ffc30014449d060fcd1b673c8ceba:383974165,512ff47c800449d0322ecb9cef1cdbe6:736414914,f71f30bcc30449d09719aa7aeaeccd4b:383974165,96ce3cb85e0449d02aa174a16725281a:736414914,c7b74eec784009d0d69af0715af4ca54:269249108,e4a5c22ca84009d0c2f036e1b5794084:-954878383,69418224014009d04c6ad11c5c8bb19e:791315001,4e1106e0bd4009d05ba7209d20268c65:452193344,adc002a0df4009d0703b7ec1d4e296fd:1427869655,5030ce60094009d0fca5ec3c00739a17:-2059441879,b5efbd60bb4009d057be8d1ca0bdeb6d:-472893979,525fbd2c3e0009d0da00dd8c46b38fe0:231823898,8919bd643c0009d05d280673fe01581e:98144437,70f8b5e4670009d06d92969dda9c3f56:1081465785,76d835a4830009d0ed3e642082e693b9:1585280487,bd983964fe0009d03f169d4118cd0de6:1235220601,6b68bd641a0009d061bbe64baca3f931:1063521640,fe87b164600009d01d7977860fa6da16:57547023,b7477924d00009d0b9d927518ec32521:-1026971255,6437b124300009d0345c45b04ba24ba6:-1693118537,55177524b30009d0566ba8b661ab3129:702215886,15c675a0090009d0ef6f48158a64426c:-754099468,0706f1a0d20009d0155dae8905c52683:1903353647,32b571a0450009d06901c9580709cf06:-1635620589,bf95f9608c0009d05f131a4b7d947f4d:1805391041,1565bd6c5eccc5d0227ca11cce3625e0:-1828992497,1845f520c10009d07d52841605430dc6:1759384449,ca44b9aca2ccc5d04f5ffac4a0787169:68704456,734371a8faccc5d0434369c5dfb07f1e:-472154952,6792756c45ccc5d069ce092a65895b4c:1725387135,3be669a8458cc5d0f572ea339309d2fb:-1712050665,9e5625a8e28cc5d0c41cb7e4c2bef8f3:269592143,5b1629a8488cc5d0469d2cf39b4b74df:-1478409824,24a52d28cc8cc5d02f204c2748681487:1438484512,6ec469e4ea8cc5d07ab290bb6dbdec15:-1711615084,b7b42528e88cc5d01bd2d1dfa4166abc:-314720003,285429e4af8cc5d04d5cf72a34dc2aba:-1144658860,a7d3a5a46a8cc5d0b3890652fd4b0e23:-868289424</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_db_object_2fd233de1b73b890d575979cbc4bcb34</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_db_object"><sys_db_object action="INSERT_OR_UPDATE"><access>public</access><actions_access>false</actions_access><alter_access>false</alter_access><caller_access/><client_scripts_access>false</client_scripts_access><configuration_access>false</configuration_access><create_access>true</create_access><create_access_controls>true</create_access_controls><delete_access>true</delete_access><extension_model/><is_extendable>false</is_extendable><label>Alert Tag Normalization</label><live_feed_enabled>false</live_feed_enabled><name>u_alert_tag_normalization</name><number_ref/><provider_class/><read_access>true</read_access><scriptable_table>false</scriptable_table><super_class/><sys_class_code/><sys_class_name>sys_db_object</sys_class_name><sys_class_path/><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:10</sys_created_on><sys_id>2fd233de1b73b890d575979cbc4bcb34</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Alert Tag Normalization</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_db_object_2fd233de1b73b890d575979cbc4bcb34</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:33:29</sys_updated_on><update_access>true</update_access><user_role display_value="evt_mgmt_admin" name="evt_mgmt_admin">600be631eb12110045e1a5115206fe38</user_role><ws_access>true</ws_access></sys_db_object></record_update>]]></payload>
<payload_hash>-1782346594</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>0e4fa5d047b6851024307601e36d435a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337783d70000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization</target_name>
<type>Table</type>
<update_domain>global</update_domain>
<update_guid>f1f568d30a7bfc905449b168acfcf246</update_guid>
<update_guid_history>f1f568d30a7bfc905449b168acfcf246:-1782346594,69f568d3277bfc9000e8185970525a18:877081627,29f2f3de5f73b890435605c599402f5c:-1867336126</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_ddf2b3de1b73b890d575979cbc4bcbb3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_alert_tag_normalization</description><name>u_alert_tag_normalization</name><operation display_value="delete">delete</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:12</sys_created_on><sys_id>ddf2b3de1b73b890d575979cbc4bcbb3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_alert_tag_normalization</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_ddf2b3de1b73b890d575979cbc4bcbb3</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:12</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-648004417</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>124f2dd047b6851024307601e36d4374</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab7c460000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>59f2b3de7873b890e18a732f34d7edc6</update_guid>
<update_guid_history>59f2b3de7873b890e18a732f34d7edc6:-648004417</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_9260a5201b8cc5d0d575979cbc4bcbe3</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_source_alert_field</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 16:01:27</sys_created_on><sys_id>9260a5201b8cc5d0d575979cbc4bcbe3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_source_alert_field</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_9260a5201b8cc5d0d575979cbc4bcbe3</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 16:01:27</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN addl info source type">a06025ec1b4cc5d0d575979cbc4bcb15</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>-1053283531</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>124f2dd047b6851024307601e36d4377</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48617ae90000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_source_alert_field</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>0970a5208f8cc5d0cd594a1ec7cd4759</update_guid>
<update_guid_history>0970a5208f8cc5d0cd594a1ec7cd4759:-1053283531</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_d7fcf8301b0449d0d575979cbc4bcb47</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_function&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex function OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad () {

    g_form.setValue('u_test_value', g_form.getValue('u_raw_value'));	
    var raw = g_form.getValue('u_raw_value');

    var regExp = new RegExp(g_form.getValue('u_regex_function'));
    var replace = g_form.getValue('u_regex_new_value');

    var value = raw.replace(regExp, replace);
    g_form.setValue('u_test_value', value);
    //Type appropriate comment here, and begin script below

}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:04:59&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d7fcf8301b0449d0d575979cbc4bcb47&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex function OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_d7fcf8301b0449d0d575979cbc4bcb47&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-23 08:08:55&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1386142503</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>164f2dd047b6851024307601e36d4372</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4bd738c00000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex function OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>45edf8f4250449d00ede071d3ea17576</update_guid>
<update_guid_history>45edf8f4250449d00ede071d3ea17576:-1386142503,dbfcf830b50449d05bff4fb667ca4249:578837324</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_f357586b1b048d10d575979cbc4bcb78</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;true&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;u_alert_tag_normalization&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;After ATN Delete&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/ ) {

    (function() {

        try {
            var inputs = {};
            sn_fd.FlowAPI.startFlow('global.atn__strategy_change', inputs);

        } catch (ex) {
            var message = ex.getMessage();
            gs.error(message);
        }



    })();
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 18:23:55&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;f357586b1b048d10d575979cbc4bcb78&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;After ATN Delete&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_f357586b1b048d10d575979cbc4bcb78&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 18:33:52&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;after&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=f357586b1b048d10d575979cbc4bcb78"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>-538549313</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>164f2dd047b6851024307601e36d4373</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77463ffc0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>After ATN Delete</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid>61a95c6fe9048d104752048aef618a6c</update_guid>
<update_guid_history>61a95c6fe9048d104752048aef618a6c:-538549313,5bc8942f81048d10b13b5eef25d2147c:446428434,375818eb96048d1022ed2d44b645955f:-1817008709,366754abe7048d1041f19cda8403d8d0:1900711000,ff57586b9f048d10853d16c9fa777b7b:-704906660</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_3c7e1ee01b0409d0d575979cbc4bcb02</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_regex_new_value</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:32:31</sys_created_on><sys_id>3c7e1ee01b0409d0d575979cbc4bcb02</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_regex_new_value</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_3c7e1ee01b0409d0d575979cbc4bcb02</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:32:31</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="Hide Regex Function">d82302a41b4009d0d575979cbc4bcb4a</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>-604304528</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>164f2dd047b6851024307601e36d4376</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4959a3be0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_regex_new_value</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>bf7e56e02d0409d0acd031e49f5f3c8b</update_guid>
<update_guid_history>bf7e56e02d0409d0acd031e49f5f3c8b:-604304528</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_section_f2637bde1b73b890d575979cbc4bcbc8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_ui_section caption="" section_id="f2637bde1b73b890d575979cbc4bcbc8" sys_domain="global" table="u_alert_tag_normalization" version="3" view=""><sys_ui_element action="INSERT_OR_UPDATE"><element>u_number</element><position>0</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>baa91ae81bc009d0d575979cbc4bcb4e</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_active</element><position>1</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>32a91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_test_alert</element><position>2</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>b2a91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_flattened_data</element><position>3</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>36a91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_applies_to_source</element><position>4</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>b6a91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_source_key_type</element><position>5</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>3aa91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_source_key</element><position>6</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>baa91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_source_alert_field</element><position>7</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>3ea91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_normalized_key</element><position>8</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>bea91ae81bc009d0d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_regex_transform</element><position>9</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>32a91ae81bc009d0d575979cbc4bcb50</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_regex_function</element><position>10</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>b2a91ae81bc009d0d575979cbc4bcb50</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_regex_new_value</element><position>11</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>7aa95ee81bc009d0d575979cbc4bcbe6</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_test_value</element><position>12</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>faa95ee81bc009d0d575979cbc4bcbe6</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_comments</element><position>13</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>7ea95ee81bc009d0d575979cbc4bcbe6</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_element action="INSERT_OR_UPDATE"><element>u_raw_value</element><position>14</position><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:11:25</sys_created_on><sys_id>fea95ee81bc009d0d575979cbc4bcbe6</sys_id><sys_mod_count>0</sys_mod_count><sys_ui_formatter/><sys_ui_section caption="NULL" display_value="" name="u_alert_tag_normalization" sys_domain="global" view="Default view">f2637bde1b73b890d575979cbc4bcbc8</sys_ui_section><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:11:25</sys_updated_on><sys_user/><type/></sys_ui_element><sys_ui_section action="INSERT_OR_UPDATE"><caption/><header>false</header><name>u_alert_tag_normalization</name><roles/><sys_class_name>sys_ui_section</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:57:13</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>f2637bde1b73b890d575979cbc4bcbc8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_alert_tag_normalization</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_section_f2637bde1b73b890d575979cbc4bcbc8</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:57:13</sys_updated_on><sys_user/><title>true</title><view display_value="Default view" name="NULL">Default view</view><view_name/></sys_ui_section></sys_ui_section></record_update>]]></payload>
<payload_hash>-1727926986</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>164f2dd047b6851024307601e36d4379</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d494654660000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization</target_name>
<type>Form Layout</type>
<update_domain>global</update_domain>
<update_guid>b2a95ee80bc009d0fbf1bb5720cde3e9</update_guid>
<update_guid_history>b2a95ee80bc009d0fbf1bb5720cde3e9:-1727926986,dac852a82cc009d0eaf48de013bec99d:1186748056,588746ecfc4009d0d59c3865a79cf0e6:-1828927347,9b934e280a4009d0d4ab90dcd710dca1:781805015,24910e24f84009d0ef8aca843578f591:1642678287,4d710a24b34009d03c34d0b26ea36cba:1063599194,cd71e5a0ca8cc5d01b1fe329dd1d15a5:-1900100094,3ebe156c614cc5d0cb40cb58faccfdad:790104752,001e512cfd4cc5d03f58bf564c494aed:2046214489,a1f568d3577bfc901660e7821faa1922:-1801458996,1ba625f61a3b3c9057e79578cfe875cb:1415586608,298308ea8ff3b890218afac3a1a3337d:-480915972,3c2000a661f3b8908f1592c638fdc2c7:801975169,30ef7b5621f3b890aab9e94623a74266:-1594554195,6348ff1a0fb3b8900ca7843cafdf1262:-127190336,9d383b1ae4b3b890297a18cd29ad1031:1167925274,0d08b31ad2b3b8900e5484a4295c07b5:2123016097,6a15ff9280b3b8903950dceb132d514e:-1797830970,f263b312fbb3b890717058aab2db13da:-1575907972,7e637bde8373b890983f5f6273e9b2cb:1753284785</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_b8f5dbc71b440d10d575979cbc4bcb25</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_transform&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex (flag)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading) {
		return;
	}
			if(g_form.getValue('u_regex_transform') == "false") {	
		if(g_form.getValue('u_test_value') !== g_form.getValue('u_raw_value')) {
			g_form.setValue('u_test_value', g_form.getValue('u_raw_value'));
		}
		return;
    }
    if (g_form.getValue('u_regex_transform') == "true") {	
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'), 'gm');
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 18:59:37&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;b8f5dbc71b440d10d575979cbc4bcb25&lt;/sys_id&gt;&lt;sys_mod_count&gt;33&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex (flag)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_b8f5dbc71b440d10d575979cbc4bcb25&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:33:22&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1739087634</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>1a4f2dd047b6851024307601e36d4371</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96d0be0e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex (flag)</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>a94cb31dbc5c411056fe2f6dbc0ec074</update_guid>
<update_guid_history>a94cb31dbc5c411056fe2f6dbc0ec074:-1739087634,660c37d9dc5c41104fb75bd3c9630793:-1698466354,13dbbb59bb5c4110c9fc3a3f922b7cc9:795237044,b4cbb359e45c4110b09b823c55cb93ed:-440185327,437b77991a5c4110003b587b8bbbc442:795237044,e12bf359b55c4110c9600bdc000a5e85:887788735,c7dabf19495c4110a7d03e7c97075e54:-556751514,4ada77d53e5c41109912b758dac96500:1689510259,b77abfd5f75c41101f386fe18dcbfa2d:1430217394,ba19f7519d5c4110e57ee2010be10e18:1346025695,0573ffd5941c4110a7872d40acce26bf:1430217394,4a11bad5b3d0411081565350dae86359:1346025695,fef076d5e5d0411032a1cce254c1bd22:1430217394,93e0f2d583d04110001f4ded35dc21aa:1346025695,e3b0fa9545d04110d958bf47c6d7c744:1430217394,cd1fe691a3d041108631cb2e93d1d3f2:1346025695,91deee51c7d04110a72dd97abe626b0c:2138455069,f2dad01189540950f2619c2dc057a4df:1346025695,71da1411515409508f99bce6c9c21de6:1430217394,f94f302ba2088d109303de26e1fd1753:1346025695,006e78e7a9088d10571e572fe6e900d0:-1989778021,315e78e7b5088d10db08ec4b921e4fcb:-702937592,ff4eb8e7aa088d106761f37b719865e0:-1989778021,e04e78e7d5088d102dab7b5ab841e010:-702937592,14cd3ca746088d1021d5fd39e67776fa:-1989778021,eefb3ce3ba088d108019b0d51a30ad5c:-702937592,269bf0e39f088d10ed467dcea8292b7c:-1989778021,ef8b30e3f9088d10885ac08d48aaa9e0:-702937592,6f6b38a3a8088d101843e6253e5c4753:-1989778021,806b7ca3e6088d102ab279909d74fa2a:-702937592,5b3b38a382088d104f4d89e12e5e81b8:-1989778021,4d1bf0a339088d10a2254d27182cd7e4:-702937592,1f0bfc6314088d10b9d8c9835e510a6d:-1989778021,85c653cb8c440d108dbdb58995e4cba8:-702937592,0b561b8bf6440d104b0c611c9ec07046:763582631,78f5dbc77f440d10aecf507019249d27:1249548158</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_d7fcf8301b0449d0d575979cbc4bcb47</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex function OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad () {

    g_form.setValue('u_test_value', g_form.getValue('u_raw_value'));	
    var raw = g_form.getValue('u_raw_value');

    var regExp = new RegExp(g_form.getValue('u_regex_function'));
    var replace = g_form.getValue('u_regex_new_value');

    var value = raw.replace(regExp, replace);
    g_form.setValue('u_test_value', value);
    //Type appropriate comment here, and begin script below

}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:04:59&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d7fcf8301b0449d0d575979cbc4bcb47&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex function OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_d7fcf8301b0449d0d575979cbc4bcb47&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:08:20&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-627925383</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>1a4f2dd047b6851024307601e36d4372</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d9193770e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex function OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>38fca60d405809506dc0601552495301</update_guid>
<update_guid_history>38fca60d405809506dc0601552495301:-627925383,45edf8f4250449d00ede071d3ea17576:-1386142503,dbfcf830b50449d05bff4fb667ca4249:578837324</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_module_81f2b3de1b73b890d575979cbc4bcb59</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_module"><sys_ui_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Alert Tag Normalization">4df2b3de1b73b890d575979cbc4bcb55</application><filter/><name>Alert Tag Normalizations</name><order/><path/><path_relative_to_root>false</path_relative_to_root><roles>u_alert_tag_normalization_user</roles><sys_class_name>sys_ui_module</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:11</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>81f2b3de1b73b890d575979cbc4bcb59</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Alert Tag Normalizations</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_module_81f2b3de1b73b890d575979cbc4bcb59</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:11</sys_updated_on><table>u_alert_tag_normalization</table><uncancelable>false</uncancelable><view_name/></sys_ui_module></record_update>]]></payload>
<payload_hash>849469291</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>1a4f2dd047b6851024307601e36d4375</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab78cb0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalizations</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>0df2b3de3f73b8903b6816d619d57d5b</update_guid>
<update_guid_history>0df2b3de3f73b8903b6816d619d57d5b:849469291</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_d391ce241b4009d0d575979cbc4bcbd2</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;conditions table="u_alert_tag_normalization"&gt;u_regex_transform=false^EQ&lt;item endquery="false" field="u_regex_transform" goto="false" newquery="false" operator="=" or="false" value="false"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/conditions&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;91&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;ATN no regex&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:26:43&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d391ce241b4009d0d575979cbc4bcbd2&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN no regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_d391ce241b4009d0d575979cbc4bcbd2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-30 17:15:40&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>-501429020</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>1a4f2dd047b6851024307601e36d4378</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d71d84b2d0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN no regex</target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>ce2eb687b9c00d1041bcc2c78b2b75d9</update_guid>
<update_guid_history>ce2eb687b9c00d1041bcc2c78b2b75d9:-501429020,33bd7a47aec00d10d8c04020446a91d6:-78445242,4cad3a07eac00d10b64f074558d31d82:-1368422470,f39e1224010409d094024a15e9f7f3b4:-283962341,d3b38a28c74009d042a4506753ef9f8b:986896026,1e638ee47e4009d0144ec96228856bcd:-1973482866,660386e4364009d050e687a846ca3a3d:2093889200,dad286e4554009d0641b2c709397e737:2114739110,85124e64e54009d0c7dbedf3bab0f378:860798351,0bb14664a14009d0a0f2f8baebf00f84:2114739110,4db146249c4009d0caba21e625c75a82:860798351</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_c1f2b3de1b73b890d575979cbc4bcb8b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:12</sys_created_on><sys_id>c1f2b3de1b73b890d575979cbc4bcb8b</sys_id><sys_mod_count>1</sys_mod_count><sys_name>u_alert_tag_normalization.evt_mgmt_admin</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_alert_tag_normalization">c1f2b3de1b73b890d575979cbc4bcb6b</sys_security_acl><sys_update_name>sys_security_acl_role_c1f2b3de1b73b890d575979cbc4bcb8b</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:33:30</sys_updated_on><sys_user_role display_value="evt_mgmt_admin" name="evt_mgmt_admin">600be631eb12110045e1a5115206fe38</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>15377747</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>1e4f2dd047b6851024307601e36d4374</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337783560000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization.evt_mgmt_admin</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>a5f568d33f7bfc900466d748b714f33c</update_guid>
<update_guid_history>a5f568d33f7bfc900466d748b714f33c:15377747,89f2b3de6f73b8907520c0b2da84158e:999207772</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_cbd0a5601b8cc5d0d575979cbc4bcb4e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_source_key</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 16:03:23</sys_created_on><sys_id>cbd0a5601b8cc5d0d575979cbc4bcb4e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_source_key</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_cbd0a5601b8cc5d0d575979cbc4bcb4e</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 16:03:23</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN no source type">fdc069201b8cc5d0d575979cbc4bcb59</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>346183883</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>1e4f2dd047b6851024307601e36d4377</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48633e300000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_source_key</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>d1e0a560a48cc5d071880fbcefb7418c</update_guid>
<update_guid_history>d1e0a560a48cc5d071880fbcefb7418c:346183883</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_regex_function</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_regex_function" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Regex Function&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_regex_function&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;4000&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:26:08&lt;/sys_created_on&gt;&lt;sys_id&gt;448106241b4009d0d575979cbc4bcb55&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regex Function&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_regex_function&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 18:26:08&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>1337595813</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>424f2dd047b6851024307601e36d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48e5f1590000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Regex Function</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>28914e24554009d01dee0702910f2fab</update_guid>
<update_guid_history>28914e24554009d01dee0702910f2fab:1337595813</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_populate_if_null_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_populate_if_null" label="Populate If Null" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_populate_if_null</element><help/><hint/><label>Populate If Null</label><language>en</language><name>u_alert_tag_normalization</name><plural>Populate If Nulls</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 03:52:48</sys_created_on><sys_id>3c2000a61bf3b890d575979cbc4bcbc8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Populate If Null</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_populate_if_null_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 03:52:48</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>942945961</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>424f2dd047b6851024307601e36d4366</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26e038610000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Populate If Null</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>092000a67ff3b8908f9ceb8b731b94d3</update_guid>
<update_guid_history>092000a67ff3b8908f9ceb8b731b94d3:942945961</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_212472281bab3410d575979cbc4bcb7b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;em_alert&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;TBAC Tag Normalization BR&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function executeRule(current, previous /*null when async*/ ) {
	var norm_obj = {"iso|org|dod|internet|private|enterprises|791|3|2|1|2|1|1":{"tbac-type":{},"application":{}},"appsvc":{"tbac-type":{},"application":{}},"details.0.svc":{"tbac-type":{},"application":{}},"app":{"tbac-type":{},"application":{}}};
	var source_norm_obj = {"Datadog":{"details.0.geo":{"tbac-region":{"regex":"/N(.*)/, '$1'"}}},"DYNATRACE":{"tags.0":{"tbac-environment":{"regex":"/(.*)Environment:(.*)/, '$2'"}}},"Splunk":{"used_for":{"tbac-environment":{}}}};
	var field_norm_obj = {};
	var source_field_norm_obj = {"Cisco Prime":{"metric_name":{"tbac-newciscomn":{"regex":"/(.*)-(.*)-(.*)/, '$3'"},"tbac-node":{"regex":"/(?:Alert|Reset) #1 Finastra - Node is down(.*) Node (.*?) is (?:Down|Up)(.*)/, '$2'"},"tbac-location":{"regex":"/(.*)Location : (.*)/, '$2 use this'"}}},"SolarWinds":{"description":{"tbac-newciscomn":{"regex":"/(.*)-(.*)-(.*)/, '$3'"},"tbac-node":{"regex":"/(?:Alert|Reset) #1 Finastra - Node is down(.*) Node (.*?) is (?:Down|Up)(.*)/, '$2'"},"tbac-location":{"regex":"/(.*)Location : (.*)/, '$2 use this'"}}}};
    var info = current.additional_info;
	var formatRx = new RegExp(/\/(.*)\/, '(.*)'/);
	var newKey;
	var newValue;
    info = info.replace(/\|/g, "~");
    info = info.replace(/\./g, "|");
    var parser = new JSONParser();
    var data = parser.parse(info);
    data = JSON.flatten(data);
    var key;
    var nKey;
	var tags_obj = {};
    for (key in norm_obj) {
        if (data.hasOwnProperty(key)) {
            var nInside = norm_obj[key];
            for (nKey in nInside) {
                newKey = nKey;
                newValue = data[key];
                var att = nInside[nKey];
                if (att) {
                    var rx = att["regex"];
                    if (rx) {
                        var rxMatch = formatRx.exec(rx);
                        var rxFunc = new RegExp(rxMatch[1], "gm");
                        var rxTest = rxFunc.test(newValue);
                        var rxRep = rxMatch[2];
                        if (rxMatch &amp;&amp; rxTest) {
                            newValue = newValue.replace(rxFunc, rxRep);
                        } else {
                            newValue = null;
                        }
                    }
                }
                if (newValue) {
                    data[newKey] = newValue.toLowerCase();
					tags_obj[newKey] = newValue.toLowerCase();
                }
            }
        }
    }

    var source = current.source;
    if (source_norm_obj.hasOwnProperty(source)) {
        var sourceNorm = source_norm_obj[source];
        sourceNorm = JSON.stringify(sourceNorm);
        sourceNorm = parser.parse(sourceNorm);
        var sKey;
        var sNKey;
        for (sKey in sourceNorm) {
            if (data.hasOwnProperty(sKey)) {
                var sNInside = sourceNorm[sKey];
                for (sNKey in sNInside) {
                    newKey = sNKey;
                    newValue = data[sKey];
                    var sAtt = sNInside[sNKey];
                    if (sAtt) {
                        var sRx = sAtt["regex"];
                        if (sRx) {
                            var sRxMatch = formatRx.exec(sRx);
                            var sRxFunc = new RegExp(sRxMatch[1], "gm");
                            var sRxTest = sRxFunc.test(newValue);
                            var sRxRep = sRxMatch[2];
                            if (sRxMatch &amp;&amp; sRxTest) {
                                newValue = newValue.replace(sRxFunc, sRxRep);
                            } else {
                                newValue = null;
                            }
                        }
                    }
                    if (newValue) {
                        data[newKey] = newValue.toLowerCase();
						tags_obj[newKey] = newValue.toLowerCase();						
                    }
                }
            }
        }
    }

    var fKey;
    var fNKey;
    for (fKey in field_norm_obj) {
        if (current.getValue(fKey)) {
            var fNInside = field_norm_obj[fKey];
            for (fNKey in fNInside) {
                newKey = fNKey;
                newValue = current.getValue(fKey);
                var fAtt = fNInside[fNKey];
                if (fAtt) {
                    var fRx = fAtt["regex"];
                    if (fRx) {
                        var fRxMatch = formatRx.exec(fRx);
                        var fRxFunc = new RegExp(fRxMatch[1], "gm");
                        var fRxTest = fRxFunc.test(newValue);
                        var fRxRep = fRxMatch[2];
                        if (fRxMatch &amp;&amp; fRxTest) {
                            newValue = newValue.replace(fRxFunc, fRxRep);
                        } else {
                            newValue = null;
                        }
                    }
                }
                if (newValue) {
                    data[newKey] = newValue.toLowerCase();
					tags_obj[newKey] = newValue.toLowerCase();					
                }
            }
        }
    }

   if (source_field_norm_obj.hasOwnProperty(source)) {
        var sourceFieldNorm = source_field_norm_obj[source];
        sourceFieldNorm = JSON.stringify(sourceFieldNorm);
        sourceFieldNorm = parser.parse(sourceFieldNorm);
        var sFKey;
		var sFNKey;
        for (sFKey in sourceFieldNorm) {
            if (current.getValue(sFKey)) {
				var sFNInside = sourceFieldNorm[sFKey];
				for (sFNKey in sFNInside) {
                newKey = sFNKey;
                newValue = current.getValue(sFKey);
				var sFAtt = sFNInside[sFNKey];
				if(sFAtt) {
					var sFRx = sFAtt["regex"];
					if (sFRx) {
						var sFRxMatch = formatRx.exec(sFRx);
						var sFRxFunc = new RegExp(sFRxMatch[1], "gm");
						var sFRxTest = sFRxFunc.test(newValue);
						var sFRxRep = sFRxMatch[2];
						if (sFRxMatch &amp;&amp; sFRxTest) {
							newValue = newValue.replace(sFRxFunc, sFRxRep);
						} else {
							newValue = null;
						}
						}
					}
                if (newValue) {
                    data[newKey] = newValue.toLowerCase();
					tags_obj[newKey] = newValue.toLowerCase();					
                }
				}
            }
        }
    }
	data["itom_tags"] = tags_obj;
    data = JSON.unflatten(data);
    var ai_string = JSON.stringify(data, null, "	");
    ai_string = ai_string.replace(/\|/g, ".");
    ai_string = ai_string.replace(/~/g, "|");
    current.additional_info = ai_string;
    current.update();

})(current, previous);
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-10-29 01:49:09&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;212472281bab3410d575979cbc4bcb7b&lt;/sys_id&gt;&lt;sys_mod_count&gt;223&lt;/sys_mod_count&gt;&lt;sys_name&gt;TBAC Tag Normalization BR&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_212472281bab3410d575979cbc4bcb7b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:31:02&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=212472281bab3410d575979cbc4bcb7b"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2032204916</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>424f2dd047b6851024307601e36d4369</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17f46f6f13b0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>em_alert</table>
<target_name>TBAC Tag Normalization BR</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid>e4d5cc64fc8a8110cac2bf2bd4be30cd</update_guid>
<update_guid_history>e4d5cc64fc8a8110cac2bf2bd4be30cd:-2032204916,30a5c8646a8a81108a2da8c7c3cef22c:686948166,2bd40424838a81106afb8e0e972d766e:990515803,9faafeba6e8981105dcf9680323c5807:-119763105,927f643d4c58051021b839e33a81d881:-305294081,827f643ddc580510ee8964345d9e2428:-1169716758,585f6cf9a9580510ebef6a3f884e0570:-305294081,183e2079d5580510fc639c9740323143:-119763105,345ce835305805100cdeaf75e518efdb:987780786,380b20fda018051063e33aa55b0df346:-2003960475,0fb86c3d641805108bab7805304cfb03:-1027626409,59c173e58c500510a22c80d1efff16de:-330816823,a261f3a5d55005107eaa6bd00b461461:-1104654578,22513365bd50051077f43fb220dd9a67:1322859454,66f0336504500510c1847a5218b1cb7e:-1027242072,dbb07b25e5500510387c09ceed1d06f7:697016920,e4a0772590500510daa8580a55a2cbf9:1618962399,2b00b7615050051035220446fc4da81e:86377619,c3bf67a1d85005101cca4955c99830c9:697016920,a0afa3a19550051098cf12c618298b00:79485688,486fe761cd500510d9b4f77ea0cde6af:-45310321,2fdc6be99310051013a9bd5588b1e8c3:785931991,a92babe58c100510bb22283b8a7a0491:600821435,93f92365dd100510f0e6513597030ff9:697016920,a90923e14c100510abf5166f0df9f348:77629432,8fb8a7a14e1005106ee3ffbaffab8c20:-1391548264,14972fedbbdcc110db267be7ae3a1291:785931991,9d57e3edb8dcc11000598402be0e83ca:-101223183,66dbd3a5da9cc1105a7a2ce2a63db061:-1391548264,c18dfda183dc811028f5cf25d2f24c60:785931991,88acbd2152dc8110bcbd2c3479bc3f3b:471853552,958cb921cedc81107a7cdfa5ce829a44:-51634006,7deb71ed369c81108a6f1fdbc21bf507:-293433925,e5dbbdad359c8110976ecf601bbc3726:1798905044,a3ca792df59c811035fe1b93eb00d79c:-293433925,94babde9f59c8110052bc87b033a5929:1798905044,839a712d6e9c81102bf591700a665970:-293433925,9d8abde9979c81109663e440228f48b9:2014233753,0e5fade15d5c8110cb303e01a038ed47:119694471,7b6eed618f5c81101b393f2ef587a83c:-1571940651,1a4e69619f5c81106b1ce5f6d9da2d5f:597585344,f80e2121a55c81109f512d1ad5d7e19d:-458163831,ec9de9ad861c81109020cf921780d12d:433830686,92fce16d1b1c8110915d57b749c9d5c5:-45070813,09ac6d6d681c8110e44a50f416e9cb38:-759529731,f5cbede9591c8110e5b6e80e33086233:-86804687,339aad29761c8110a2318a2a76368c7c:1086975764,59170025e4dc4110474162754712770c:1100262212,a34680a1aadc411070b39a7caa97f66c:1798905044,606f33d1b69c4110b657abdcb88399ff:-843255192,acde3f517a9c411030d2c9a61f8059d8:892622028,9efaf359165c4110c7c584f7f8f7414a:-1224624701,7cbaf719c35c4110d5178d521a5485ba:892839513,802a33d5665c4110e86f9395a3c433b9:-1224624701,f01abf95bf5c4110d5794de881b1ecdb:126217507,08eb22c96f580950fe0ce14bd1b7d7e3:-1224624701,7578fc6f8dc48d10030d0b764614c30f:717474772,3f68bc6ffec48d10781e7cf97f371c06:1825827361,b277f02fc4c48d10aa9d2847a7332400:717474772,eae6b0ebd2c48d10618ab740b03cb7ac:-1711183499,6c95f02ba4c48d109f2be14e4dcd1a1d:-271434195,7315b02bc4c48d1012dda25ffdb750d5:-521598497,ac24b8a7e1c48d107d497b36400f9c95:233588972,ed93f86736c48d10728bb796f1a739f8:2092179547,e233fce399c48d1066617826bfba8f95:1009836339,9e623ce324c48d107053efa0614f33c8:-1519399338,98c13ca320c48d10995655c074d919c0:609571595,0e7174a3e5c48d10f27b6c45d553fe90:184696955,c411786385c48d10e36e88c7fd1790b1:1493604266,d37cec6b77848d107005fc4e7fb3f352:-1233045875,d17b242b7b848d108434edeeff9d1344:-913913411,3dba98ef5e048d102cf5af4770e5f1b4:-648354432,945adcaf56048d108356255bfdfbde99:2109273392,f4d990afd1048d1061d5360ea8d31c6a:-2111850024,dbd8982fef048d10d2f174a3c72a6ae9:-1080624412,30e4d0a75b048d10f4f704c4f8bb89a6:84307165,dcd450a7dd048d10ca2869e28458d7dd:-787451909,9cc1d463d5048d10ad28f756a23c3f45:258108157,b4b154631c048d10561e1d2cde10bac2:1991422048,527154efdbc08d10cb5d341019520c37:-1669822803,3ee98467f2c08d10e60707cdc43ab5a7:-874337347,81964cef06808d1009d78687362ee133:-384924148,df14802f90808d100c146ff913f25ef2:-2093292153,58434cabac808d10f6c91d334653e74a:1916653354,b433c8aba7808d10c32fb3e257f2cea1:1922875019,b600886758808d10b5e3f162a4a92756:-355792874,e50f331781808d10775851389353546b:-1712305797,f40d3353ce808d108acdd95085942846:1916653354,c8d4b71798408d10dc30be13a4b32536:-667417173,0d943fd3b4408d108fa3528fa25213d1:-1522772877,7b845b17428c4d10c827af0c696abf54:1632015549,4564d717528c4d1073d9be96b833192e:-1039139975,02245bd3be8c4d1094b62a94bf6ee935:-1629545129,fec3d7d3fd8c4d10822b52928f3dc34b:1632015549,50535b933e8c4d107c555fc9fb808abb:2033288157,4ae29f536f8c4d1040a574fc47d806d0:1750311583,fa72d3131e8c4d10904d52e8a9b08448:-389440519,c0d15313948c4d106bcbc5648d6459e5:320905669,3d715bdf834c4d104b64c09d5be50758:-345645876,5e2153df1e4c4d10bc1630f5483a5048:-407416993,5ce09b9ff14c4d1091e058684adb842e:470873486,55309f1f374c4d1016145813d9c93321:-1691750969,02af8b1fce4c4d1062e52eb0402d7bb2:-1146449770,c95f87db8d4c4d10d1c5824abcdd1f2e:-1621633369,e8fe8f5bfd4c4d10826b6a377604cab7:-2069742641,bbed435b714c4d107b9bedecd35c1bfa:2096617101,7ead4f1bc34c4d10dfeb27ac9dd52b08:74854802,e53d4fd76b4c4d107ed39f2f7e8ddaea:-69348846,37483f8f06080d10b414b248140b7a24:1927507020,c6a2e74f71840d10f2035f66c078a0ac:-2143180863,d0422f0f3e840d10ddfda1223892fa02:1677729921,10eebac700c00d109e974e4ced3b6dd2:1939814869,3c1c3e8382c00d10e9033f9b766d0bbe:544768013,d37a2a87f2400d108ba8e118c425ff1d:-917896273,8779a29a0204c510a8d2a2a8911f4cfb:1786787080,91e662d6d904c51027b682bdcf73465c:563781753,c675a296bc04c5100450fc088e287972:2070223088,cbc46e161404c510baf523f61aa4a229:486063679,13412edefec0c510a4ce8be4b997f2ff:271634915,9da06a9eb5c0c510daaa2acceb111a9e:1596527157,03537c38008049d08003468cb183aae1:-1129484876,d941b874258049d0fae6918aea0dbe1b:1596527157,84303cf0f98049d03807c088d77d479c:1834467466,095ee4304a8049d026335044ba252180:-687795566,3b7d20fc1d4049d09a9eeeba49c6eba5:-538685816,4b7d20fc404049d0f3293acc5704ce40:710174269,324d68bca64049d0423ea693ed9f9cf5:-538685816,d2cc2c7ccc4049d05c8ff2f11eda7f24:2062287898,49fd1c74430049d047fc096ccab38802:746842077,a78d5834800049d000d54df2c062bc9f:3816999,673d90f0ef0049d033840658bda5cee7:1508275341,f3dc18f0050049d0317e4f5c2e70262e:-1643822599,ae4c1cb0230049d088479149f696aa6d:-1188499091,2deb54b02b0049d0e7fd469338732c37:541989049,6d1bdc30960049d08da4aacdf303ac9b:-1875284952,fe852eacb80409d0e075d717e27c15af:-435112272,c225e22cb00409d0cb37cf53c067f7fe:-101975550,01f4ae6c010409d034ba34b810c31e58:247202925,f0e36a684d0409d03c087a6902171f0f:135360151,3363a2e8ae0409d0cf657310b55690e3:1696527687,cbc26aa8050409d0501766f5a5e3f1a4:1224128535,81c1ae28720409d07797de4fbcfd35bb:21744462,8532ade0358cc5d055619d4ba4fcd9bf:-1367265123,1ea1002fc6bf30d0811755e6b440beb9:-964982788,6c50486be7bf30d0d60839e4d4ea3fff:833220592,37ae3f970bbf30d0bdcbf0183769fcae:1651012603,d71efb57adbf30d05bef3a7e595178d9:-714000988,98fdf75736bf30d0574029b6104e6eac:1749015900,a85d77176dbf30d0f95e6b068d8da8d0:-104141681,694cbb93c5bf30d01411d8cfdaf67604:479359753,37c97b9f4f7f30d03f0f02aee9cbea00:-1467828204,e019f35fec7f30d001e817e6e94e4ea1:1269455024,4ab87f1f567f30d0fc82a367d8aff03d:1575040807,e4d73b9bdf7f30d02661f08ee8af4d97:1986999539,6fb6fb5bc67f30d013ca8d43b8029620:1232565127,0a26fb1be87f30d09fdebcba07d0a190:-2036186265,1beaa593e63330d09ee8c0b1d495180d:2101842934,fe3aa153543330d0a37e7a31f866f027:527616678,bcdd9d1fc1bffc90c6e0e4b566b707bf:558257910,e7dc55db51bffc90182fe79cde0573e2:2101842934,764c959b93bffc90e5fccd5bd0f49405:558257910,612524939c7bfc908e3c596b61b9a77e:-1457439286,421568536f7bfc9081b8f8f83875aff8:-1076843746,8413209fbb3bfc90de9c09c511d43018:-1861718275,85f22c5fc93bfc90eab4e62209a211bf:-721306723,dcde54d7f63bfc90651abe9ec18187ac:136033560,0f5e9497cc3bfc90b49e4979b9f847f3:-519837512,67ddd457683bfc9004a9f5049b910f5e:-1894588796,654b2d4b9b37bc90e4cdea5508cfa646:2115104901,4b8e808b1dfb7c90f6b5a55be6a9f6c4:-1450057030,8bcd7172cdfb3c90a1837d8a3753b8d0:2115104901,02fc71fed7bb3c90403dcca593a56463:1310908123,061cb97e26bb3c9009e29aecf5bf9d1e:1728297004,0cebf17ee5bb3c905e8c67cb26063ac3:1310908123,c9dbb17e94bb3c903088bd1aca3e6e31:1728297004,3d5b753e34bb3c9074b7a714f16aafce:-424318884,514bf13e59bb3c90d2b51b0dd25e0abd:559389338,862b313ecbbb3c90352cea21b9f09a93:-424318884,60ea39fa80bb3c90faf7d5b836ec2445:-1334666348,0d0a71ba1bbb3c903413688764d4901e:933893814,4cc8fdf6b7bb3c90cef8ea00b0c04ff4:-1334666348,7a68b5f6e0bb3c90ee12b6c2d40b722e:-106861834,f04871f6aebb3c9026ccdd5c0e86fa9e:194790520,ffd739b648bb3c904af0e3e04c09c938:-1635686777,1c77f97649bb3c9074ec06cefdb24ecd:303549035,d167b976f5bb3c90ee843ecc4c086507:-1224522893,5a377576e7bb3c9004db8ee780815cb6:303549035,38d6393604bb3c900e05c6b0154a02f8:-2073633466,c313357eec7b3c90fc32b64179287854:420911246,dde23d3e2c7b3c90abeabf49d27d6796:-183109601,483fe1b6ee7b3c90c935c19546ed256f:2115104901,ac0f6d76ab7b3c909b1c0ecccb7f6546:701874431,f1aee176017b3c90cb3f9b96214d1853:-1993939204,747e2d36d97b3c904c57e592e5068622:1210197611,f0eca1b20b7b3c9023f7df9f0aabc93b:701874431,9c9c2972ee7b3c90ebf60274887fc88d:980986269,c51aa17e263b3c90232409611f6fc8f5:-454086291,4556e1b60a3b3c90a9cd80e46323f6d2:-765309239,0416a9768b3b3c909dea47f8af9d0fe0:-141210644,f9e5a976e73b3c90c9123fae0cc8d67a:1824369723,17a429f2dc3b3c9082e1fdb9ae0800f1:-1504161647,6d54edb2823b3c90d8e98d745d2e9c91:166951846,58f325b2d33b3c90cac63c3c03ff8081:-763008228,79a32d72653b3c903535d5c271d05b91:-1039481410,a3332172503b3c90ad36aa4381066a4a:-1679060351,2972e9fe08f73c90a0aa22d9764498be:1620565297,9b4bcc2a9937b89016ab35304e8b8ae6:-454086291,e027cc629437b890756ada7ef9f8c88e:532576001,ef66c422c637b89019e3bbd405300e8c:1581617542,85edf3705febb410cbcddd7abdb1cd70:1698765310,92adfb307aebb41071ecf62c9c15150b:-527429617,cccb7f7c23abb410bc3c17942322fd43:-1174481902,059b3b7c54abb410e51822afca15c468:-939544814,deb8337862abb41035bf9355ee3e95eb:-1079355650,74a666fc27a3b4105cffe3eb75c80790:-532097009,510db6a416eb341008fc2def83db034c:-1590096848,53b9f66077eb3410f6a862f58024c610:323180605,8f79fa20aeeb3410fc506c88e0009104:1993264912,02f8b620ebeb34105bf304009b8a939e:-419911727,10d832203aeb3410a60022193b56621f:-1169156614,f17876ec7cab34102d29c066a7b4d7ed:-1176378387,8687326c12ab34104abcb1296eb0c10d:-1169156614,9c87fe2c14ab34105ae95a9171a44290:-1176378387,9a373a2c59ab34107fb1337f8178c60c:-757569254</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_3267d30f1b440d10d575979cbc4bcbea</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field' || g_form.getValue('u_test_value')!=='') {
		return;		
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:06:01&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;3267d30f1b440d10d575979cbc4bcbea&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_3267d30f1b440d10d575979cbc4bcbea&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:02:24&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1054849014</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>424f2dd047b6851024307601e36d436c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77ce3bba0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>91ab34e3e5088d10e3a01efae95c9e9e</update_guid>
<update_guid_history>91ab34e3e5088d10e3a01efae95c9e9e:1054849014,5b3b38a3bc088d109154901f478581ac:1446090435,2dfa30a3cd088d108a3304d6587bbe26:1054849014,abea786377088d10fbfe037bf2ea6404:1446090435,fbe7134f4f440d10894fc4674275d453:1054849014,fe67d30f27440d10f5ebe65c9d494feb:-1603241223</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_63ddd6201b0409d0d575979cbc4bcba0</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_function&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex function&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 20:29:46&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;63ddd6201b0409d0d575979cbc4bcba0&lt;/sys_id&gt;&lt;sys_mod_count&gt;25&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex function&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_63ddd6201b0409d0d575979cbc4bcba0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:01&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-226908558</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>424f2dd047b6851024307601e36d436f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e5b0ac0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex function</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>a881052f4a088d109cc294f0efbcf726</update_guid>
<update_guid_history>a881052f4a088d109cc294f0efbcf726:-226908558,9071052fb5088d10f113d0469fd91653:1666164718,2f6ef8e7e6088d107b82744fb8546b99:-1972877589,fe6ebce7ba088d1042f6c977d6e5d205:969392504,096e7ce716088d10658086b5114bf302:-1972877589,ff4eb8e7b0088d103f7b5f96172a2dd8:969392504,2c4e70e77a088d10bf286db6e72e1afc:-1972877589,14cd3ca785088d107a76b1acfd2ab8f2:969392504,26fb7ce393088d103336cd17ee75684d:-1972877589,728b7ca3d8088d102e68715eb651e830:969392504,6a4b3c6368088d1073e1f5e68e9e70c8:-1972877589,f03b30a362088d10ce253345faf8525f:969392504,cb70c9b4934449d0315125f6f6a1c71d:-1972877589,ef604974634449d0fe2692b0ab946344:969392504,7160cd74f84449d05999348d922f1777:-1972877589,0c6089743d4449d0ccb6d9a5dca49f49:969392504,7d50c934a94449d04b889e9cae82d591:-1972877589,3a404974754449d0d6bfb4e396b1143e:969392504,3a30c9fc0f0449d0a4999fd8646a3c82:-1972877589,ab108d706e4449d0f6377d90dd21f4a0:-1488537863,47dff0fc930449d0dfe33b2bb84879fa:-140634979,309f7870784449d092c5f2849a03cce4:2145023818,117ffc30cb4449d0bab7b1f17f04d0df:1105306461,574ff8fc690449d033ec349553cd8755:2145023818,214f30fc1a0449d06283395b499ed8aa:1105306461,a4dc34b896c049d0abc28b5a8fb212bc:2145023818,e9bc7cf4ddc049d0ead15a655778e632:1111686388,67ddd620050409d03bc8dab55633eea2:2145023818</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_normalized_key</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_normalized_key" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Normalized Key&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_normalized_key&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;100&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:17:19&lt;/sys_created_on&gt;&lt;sys_id&gt;c5f7731a1bb3b890d575979cbc4bcb07&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Normalized Key&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_normalized_key&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 03:17:47&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1270581257</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>424fa5d047b6851024307601e36d435c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26c02b530000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Normalized Key</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>80287fd6dab3b8904c476cec34bf8914</update_guid>
<update_guid_history>80287fd6dab3b8904c476cec34bf8914:-1270581257,8d08f31a75b3b8906e4307ac49b6993a:873058584</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_flattened_data_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_flattened_data" label="Flattened Data" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_flattened_data</element><help/><hint/><label>Flattened Data</label><language>en</language><name>u_alert_tag_normalization</name><plural>Flattened Data</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 03:18:34</sys_created_on><sys_id>6348ff1a1bb3b890d575979cbc4bcb63</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Flattened Data</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_flattened_data_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 03:18:34</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>198137626</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>464f2dd047b6851024307601e36d4365</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26c0e25f0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Flattened Data</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>ab48ff1a61b3b89040a5d0b91a9f3178</update_guid>
<update_guid_history>ab48ff1a61b3b89040a5d0b91a9f3178:198137626</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_hub_action_type_definition_ee2388aa1bf3b890d575979cbc4bcb54</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_hub_action_type_definition"&gt;&lt;sys_hub_action_type_definition action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;action_template/&gt;&lt;active&gt;true&lt;/active&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description&gt;Write ATN BR&lt;/description&gt;&lt;ih_action&gt;false&lt;/ih_action&gt;&lt;internal_name&gt;write_atn_br&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"{{action._}}","label":"action➛","type":"action","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].variable}}","label":"Write BR Scriptstep➛➛variable","type":"step","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}","label":"Write BR Scriptstep➛➛script","type":"step","ref":""}]&lt;/label_cache&gt;&lt;master_snapshot&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/master_snapshot&gt;&lt;name&gt;Write ATN BR&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;outputs/&gt;&lt;state&gt;published&lt;/state&gt;&lt;sys_class_name&gt;sys_hub_action_type_definition&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:06:01&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/sys_id&gt;&lt;sys_mod_count&gt;542&lt;/sys_mod_count&gt;&lt;sys_name&gt;Write ATN BR&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_hub_action_type_definition_ee2388aa1bf3b890d575979cbc4bcb54&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:48:19&lt;/sys_updated_on&gt;&lt;system_level&gt;false&lt;/system_level&gt;&lt;type/&gt;&lt;/sys_hub_action_type_definition&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=ee2388aa1bf3b890d575979cbc4bcb54"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=ee2388aa1bf3b890d575979cbc4bcb54"/&gt;&lt;sys_element_mapping action="delete_multiple" query="id=ee2388aa1bf3b890d575979cbc4bcb54"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;script&lt;/field&gt;&lt;id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:55&lt;/sys_created_on&gt;&lt;sys_id&gt;33b4c86e1bf3b890d575979cbc4bcb42&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:55&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54&lt;/table&gt;&lt;value&gt;{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT IN1194846e1bf3b890d575979cbc4bcb7a"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/action&gt;&lt;cid&gt;7af21b36-f34e-4789-b9f3-bb813a1eb0cc&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;label&gt;Write BR Script&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="Script"&gt;106afb6647032200b4fad7527c9a71e7&lt;/step_type&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/sys_id&gt;&lt;sys_mod_count&gt;141&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:48:18&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=1194846e1bf3b890d575979cbc4bcb7a"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;1d94846e1bf3b890d575979cbc4bcb8f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:13&lt;/sys_updated_on&gt;&lt;value&gt;35aa573fd7802200bdbaee5b5e610375&lt;/value&gt;&lt;variable display_value="MID Application"&gt;f5e56d79b3101300176b051a16a8dce4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/document_key&gt;&lt;order&gt;600&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;d594846e1bf3b890d575979cbc4bcb90&lt;/sys_id&gt;&lt;sys_mod_count&gt;136&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:48:18&lt;/sys_updated_on&gt;&lt;value&gt;JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &amp;gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&amp;lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function execute(inputs, outputs) {
	var norm_obj = {};
  	var source_norm_obj = {};
  	var full_source_norm_obj = {};
    var field_norm_obj = {};
    var source_field_norm_obj = {};
    var rx_obj = {};
    var source_rx_obj = {};
    var field_rx_obj = {};
    var source_field_rx_obj = {};  
  	var source_rx_inside = {};
  	var source_field_rx_inside = {}; 
  
  // norm object for non-source-specific additional_info-based normalization policies    
  	var normsGR = new GlideRecord('u_alert_tag_normalization');
	normsGR.addQuery('u_active',"=",true);
	normsGR.addQuery('u_source_key_type',"=","alert_additional_info");    
  	normsGR.addNullQuery('u_applies_to_source');
  	normsGR.orderByDesc('u_normalized_key');
	normsGR.query();
	var sourceKey;
  	var normKey;
  	var norm_rx = {};
  	var norm_rx_inside = {};
  	var norm_inside = {};
    while(normsGR.next()) {
      sourceKey = normsGR.u_source_key;
      normKey = normsGR.u_normalized_key;

      if(normsGR.u_regex_transform) {
      	norm_rx_inside["regex"] = "/" + normsGR.u_regex_function + "/, " + normsGR.u_regex_new_value;
        norm_rx[normKey] = norm_rx_inside;
        norm_inside[sourceKey] = norm_rx;           
      } else {
        norm_rx[normKey] = {};
        norm_inside[sourceKey] = norm_rx;       
      }
      norm_rx_inside = {};
    }
  
  norm_obj = JSON.stringify(norm_inside);
  // norm object for source-specific additional_info-based normalization policies  
  var sourceNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceNormsGR.addQuery('u_active',"=",true);
	sourceNormsGR.addQuery('u_source_key_type',"=","alert_additional_info");  
  	sourceNormsGR.addNotNullQuery('u_applies_to_source');
	sourceNormsGR.orderBy('u_applies_to_source');
  	sourceNormsGR.orderByDesc('u_normalized_key');
	sourceNormsGR.query();
  	var source;
  	var i = 0;
  
    while(sourceNormsGR.next()) { 
        source = sourceNormsGR.u_applies_to_source;
        sourceKey = sourceNormsGR.u_source_key;
        normKey = sourceNormsGR.u_normalized_key;
        var source_norm_inside = {};
        source_rx_inside = {};
        var source_rx = {};
      	if(full_source_norm_obj.hasOwnProperty(source)) {
		  	source_norm_inside = full_source_norm_obj[source]; 
          }
      	if(sourceNormsGR.u_regex_transform) {
                source_rx_inside["regex"] = "/" + sourceNormsGR.u_regex_function + "/, '" + sourceNormsGR.u_regex_new_value + "'";
          		source_rx[normKey] = source_rx_inside;
                source_norm_inside[sourceKey] = source_rx;               	  
            } else { 
          		source_rx[normKey] = {};
                source_norm_inside[sourceKey] = source_rx; 
            }  
          	full_source_norm_obj[source] = source_norm_inside;         
      	
      	source_norm_inside = {};
      source_rx_inside = {};
    }
  
  full_source_norm_obj = JSON.stringify(full_source_norm_obj);
  
  // norm object for non-source-specific field-based normalization policies
  
    var fieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	fieldNormsGR.addQuery('u_active',"=",true);
	fieldNormsGR.addQuery('u_source_key_type',"=","alert_field");    
  	fieldNormsGR.addNullQuery('u_applies_to_source');
  	fieldNormsGR.orderByDesc('u_normalized_key');  
	fieldNormsGR.query();
  	var field_norm_rx = {};
  	var field_norm_rx_inside = {};
  	var field_norm_inside = {};  
  
    while(fieldNormsGR.next()) {
      	var fNDictGR = new GlideRecord('sys_dictionary');
      	fNDictGR.addQuery('sys_id', '=', fieldNormsGR.u_source_alert_field.getValue());
        fNDictGR.query();
      	while(fNDictGR.next()) {
	        sourceKey = fNDictGR.element;
        }
      normKey = fieldNormsGR.u_normalized_key;
      if(fieldNormsGR.u_regex_transform) {
      	field_norm_rx_inside["regex"] = "/" + fieldNormsGR.u_regex_function + "/, " + fieldNormsGR.u_regex_new_value;
        field_norm_rx[normKey] = field_norm_rx_inside;
        field_norm_inside[sourceKey] = field_norm_rx;           
      } else {
        field_norm_rx[normKey] = {};
        field_norm_inside[sourceKey] = field_norm_rx;       
      }
      field_norm_inside = {};
    }
  
  field_norm_obj = JSON.stringify(field_norm_inside);
  
  // norm object for source-specific field-based normalization policies
  var sourceFieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceFieldNormsGR.addQuery('u_active',"=",true);
	sourceFieldNormsGR.addQuery('u_source_key_type',"=","alert_field");  
  	sourceFieldNormsGR.addNotNullQuery('u_applies_to_source');
	sourceFieldNormsGR.orderBy('u_applies_to_source');
  	sourceFieldNormsGR.orderByDesc('u_normalized_key'); 
	sourceFieldNormsGR.query();
  	i = 0;
  	var source_field_norm_inside = {};
    source_field_rx_inside = {};
    var source_field_rx = {};
    while(sourceFieldNormsGR.next()) { 
        source = sourceFieldNormsGR.u_applies_to_source;
      	var sFNDictGR = new GlideRecord('sys_dictionary');
      	sFNDictGR.addQuery('sys_id', '=', sourceFieldNormsGR.u_source_alert_field.getValue());
        sFNDictGR.query();
      	while(sFNDictGR.next()) {
	        sourceKey = sFNDictGR.element;
        }
        normKey = sourceFieldNormsGR.u_normalized_key;
				
      	if(source_field_norm_obj.hasOwnProperty(source)) {
		  	source_field_norm_inside = source_field_norm_obj[source];
        }
      	if(sourceFieldNormsGR.u_regex_transform) {
                source_field_rx_inside["regex"] = "/" + sourceFieldNormsGR.u_regex_function + "/, '" + sourceFieldNormsGR.u_regex_new_value + "'";
          		source_field_rx[normKey] = source_field_rx_inside;
                source_field_norm_inside[sourceKey] = source_field_rx;               	  
            } else { 
          		source_field_rx[normKey] = {};
                source_field_norm_inside[sourceKey] = source_field_rx; 
            }  
          	source_field_norm_obj[source] = source_field_norm_inside;         
      	
      	source_field_norm_inside = {};
      source_field_rx_inside = {};
    }
  
  source_field_norm_obj = JSON.stringify(source_field_norm_obj);
  rx_obj = JSON.stringify(rx_obj);  
  source_rx_obj = JSON.stringify(source_rx_obj);  
  source_field_rx_obj = JSON.stringify(source_field_rx_obj);  
  field_rx_obj = JSON.stringify(field_rx_obj);   
  
  //compose script
  
  
  var script = '';
  
  script = 'JSON.unflatten = function(data) {\
    "use strict";\
    if (Object(data) !== data || Array.isArray(data))\
        return data;\
    var result = {}, cur, prop, idx, last, temp;\
    for(var p in data) {\
        cur = result, prop = "", last = 0;\
        do {\
            idx = p.indexOf(".", last);\
            temp = p.substring(last, idx !== -1 ? idx : undefined);\
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));\
            prop = temp;\
            last = idx + 1;\
        } while(idx &amp;gt;= 0);\
        cur[prop] = data[p];\
    }\
    return result[""];\
};\
\
JSON.flatten = function(data) {\
    var result = {};\
    function recurse (cur, prop) {\
        if (Object(cur) !== cur) {\
            result[prop] = cur;\
        } else if (Array.isArray(cur)) {\
             for(var i=0, l=cur.length; i&amp;lt;l; i++)\
                 recurse(cur[i], prop ? prop+"."+i : ""+i);\
            if (l == 0)\
                result[prop] = [];\
        } else {\
            var isEmpty = true;\
            for (var p in cur) {\
                isEmpty = false;\
                recurse(cur[p], prop ? prop+"."+p : p);\
            }\
            if (isEmpty)\
                result[prop] = {};\
        }\
    }\
    recurse(data, "");\
    return result;\
};\
\
(function executeRule(current, previous /*null when async*/ ) {\
';
script = script + '\	var norm_obj = ' + norm_obj + ';\
';
script = script + '\	var source_norm_obj = ' + full_source_norm_obj + ';\
'; 
script = script + '\	var field_norm_obj = ' + field_norm_obj + ';\
';
script = script + '\	var source_field_norm_obj = ' + source_field_norm_obj + ';\
';

script = script +'\    var info = current.additional_info;\
	var formatRx = new RegExp(/\\\/(.*)\\\/, \'(.*)\'/);\
	var newKey;\
	var newValue;\
    info = info.replace(/\\|/g, "~");\
    info = info.replace(/\\./g, "|");\
    var parser = new JSONParser();\
    var data = parser.parse(info);\
    data = JSON.flatten(data);\
    var key;\
    var nKey;\
	var tags_obj = {};\
    for (key in norm_obj) {\
        if (data.hasOwnProperty(key)) {\
            var nInside = norm_obj[key];\
            for (nKey in nInside) {\
                newKey = nKey;\
                newValue = data[key];\
                var att = nInside[nKey];\
                if (att) {\
                    var rx = att["regex"];\
                    if (rx) {\
                        var rxMatch = formatRx.exec(rx);\
                        var rxFunc = new RegExp(rxMatch[1], "gm");\
                        var rxTest = rxFunc.test(newValue);\
                        var rxRep = rxMatch[2];\
                        if (rxMatch &amp;amp;&amp;amp; rxTest) {\
                            newValue = newValue.replace(rxFunc, rxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
    var source = current.source;\
    if (source_norm_obj.hasOwnProperty(source)) {\
        var sourceNorm = source_norm_obj[source];\
        sourceNorm = JSON.stringify(sourceNorm);\
        sourceNorm = parser.parse(sourceNorm);\
        var sKey;\
        var sNKey;\
        for (sKey in sourceNorm) {\
            if (data.hasOwnProperty(sKey)) {\
                var sNInside = sourceNorm[sKey];\
                for (sNKey in sNInside) {\
                    newKey = sNKey;\
                    newValue = data[sKey];\
                    var sAtt = sNInside[sNKey];\
                    if (sAtt) {\
                        var sRx = sAtt["regex"];\
                        if (sRx) {\
                            var sRxMatch = formatRx.exec(sRx);\
                            var sRxFunc = new RegExp(sRxMatch[1], "gm");\
                            var sRxTest = sRxFunc.test(newValue);\
                            var sRxRep = sRxMatch[2];\
                            if (sRxMatch &amp;amp;&amp;amp; sRxTest) {\
                                newValue = newValue.replace(sRxFunc, sRxRep);\
                            } else {\
                                newValue = null;\
                            }\
                        }\
                    }\
                    if (newValue) {\
                        data[newKey] = newValue.toLowerCase();\
						tags_obj[newKey] = newValue.toLowerCase();\
                    }\
                }\
            }\
        }\
    }\
\
    var fKey;\
    var fNKey;\
    for (fKey in field_norm_obj) {\
        if (current.getValue(fKey)) {\
            var fNInside = field_norm_obj[fKey];\
            for (fNKey in fNInside) {\
                newKey = fNKey;\
                newValue = current.getValue(fKey);\
                var fAtt = fNInside[fNKey];\
                if (fAtt) {\
                    var fRx = fAtt["regex"];\
                    if (fRx) {\
                        var fRxMatch = formatRx.exec(fRx);\
                        var fRxFunc = new RegExp(fRxMatch[1], "gm");\
                        var fRxTest = fRxFunc.test(newValue);\
                        var fRxRep = fRxMatch[2];\
                        if (fRxMatch &amp;amp;&amp;amp; fRxTest) {\
                            newValue = newValue.replace(fRxFunc, fRxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
   if (source_field_norm_obj.hasOwnProperty(source)) {\
        var sourceFieldNorm = source_field_norm_obj[source];\
        sourceFieldNorm = JSON.stringify(sourceFieldNorm);\
        sourceFieldNorm = parser.parse(sourceFieldNorm);\
        var sFKey;\
		var sFNKey;\
        for (sFKey in sourceFieldNorm) {\
            if (current.getValue(sFKey)) {\
				var sFNInside = sourceFieldNorm[sFKey];\
				for (sFNKey in sFNInside) {\
                newKey = sFNKey;\
                newValue = current.getValue(sFKey);\
				var sFAtt = sFNInside[sFNKey];\
				if(sFAtt) {\
					var sFRx = sFAtt["regex"];\
					if (sFRx) {\
						var sFRxMatch = formatRx.exec(sFRx);\
						var sFRxFunc = new RegExp(sFRxMatch[1], "gm");\
						var sFRxTest = sFRxFunc.test(newValue);\
						var sFRxRep = sFRxMatch[2];\
						if (sFRxMatch &amp;amp;&amp;amp; sFRxTest) {\
							newValue = newValue.replace(sFRxFunc, sFRxRep);\
						} else {\
							newValue = null;\
						}\
						}\
					}\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
				}\
            }\
        }\
    }\
	data["itom_tags"] = tags_obj;\
    data = JSON.unflatten(data);\
    var ai_string = JSON.stringify(data, null, "	");\
    ai_string = ai_string.replace(/\\|/g, ".");\
    ai_string = ai_string.replace(/~/g, "|");\
    current.additional_info = ai_string;\
    current.update();\
\
})(current, previous);\
';

  outputs.script = script;
}) (inputs, outputs);&lt;/value&gt;&lt;variable display_value="Script"&gt;71aa7f6647032200b4fad7527c9a719b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=1194846e1bf3b890d575979cbc4bcb7a^sys_idNOT INd194846e1bf3b890d575979cbc4bcb83"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=9d3b7cd0-93a7-4902-97d2-8a86e7c680fb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write BR Script"&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/model&gt;&lt;model_id&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_1194846e1bf3b890d575979cbc4bcb7a&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;d194846e1bf3b890d575979cbc4bcb83&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:13&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_hub_action_output action="delete_multiple" query="model=ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT INa994846e1bf3b890d575979cbc4bcb93"/&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=3e97a2b7-43f8-43e7-a23a-fa143c02a136&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_prototype/&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/model&gt;&lt;model_id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;a994846e1bf3b890d575979cbc4bcb93&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:55&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT IN2194846e1bf3b890d575979cbc4bcb9b"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;script&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;script&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;2194846e1bf3b890d575979cbc4bcb9b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:13&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_hub_action_plan action="delete_multiple" query="action_id=ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT IN0cc4c86e1bf3b890d575979cbc4bcb9d"/&gt;&lt;sys_hub_action_plan action="INSERT_OR_UPDATE"&gt;&lt;action_id display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/action_id&gt;&lt;plan&gt;{"persistor":{"@class":".ChunkingPlanPersistor","table":"sys_hub_action_plan","id":"0cc4c86e1bf3b890d575979cbc4bcb9d","name":"plan"}}&lt;/plan&gt;&lt;snapshot&gt;808fa43d4758051024307601e36d43dd&lt;/snapshot&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;0cc4c86e1bf3b890d575979cbc4bcb9d&lt;/sys_id&gt;&lt;sys_mod_count&gt;131&lt;/sys_mod_count&gt;&lt;sys_overrides/&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-08 19:55:40&lt;/sys_updated_on&gt;&lt;/sys_hub_action_plan&gt;&lt;sys_hub_action_type_snapshot action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;action_template/&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description&gt;Write ATN BR&lt;/description&gt;&lt;internal_name&gt;write_atn_br&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"{{action._}}","label":"action➛","type":"action","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].variable}}","label":"Write BR Scriptstep➛➛variable","type":"step","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}","label":"Write BR Scriptstep➛➛script","type":"step","ref":""}]&lt;/label_cache&gt;&lt;master&gt;true&lt;/master&gt;&lt;name&gt;Write ATN BR&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;outputs/&gt;&lt;parent_action display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/parent_action&gt;&lt;sys_class_name&gt;sys_hub_action_type_snapshot&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:55&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_overrides/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-08 19:55:39&lt;/sys_updated_on&gt;&lt;system_level&gt;false&lt;/system_level&gt;&lt;type/&gt;&lt;/sys_hub_action_type_snapshot&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=b3b4c86e1bf3b890d575979cbc4bcb55"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=b3b4c86e1bf3b890d575979cbc4bcb55"/&gt;&lt;sys_element_mapping action="delete_multiple" query="id=b3b4c86e1bf3b890d575979cbc4bcb55"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;script&lt;/field&gt;&lt;id&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;ffb4c86e1bf3b890d575979cbc4bcb73&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55&lt;/table&gt;&lt;value&gt;{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=b3b4c86e1bf3b890d575979cbc4bcb55^sys_idNOT IN77b4c86e1bf3b890d575979cbc4bcb59"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Write ATN BR"&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/action&gt;&lt;cid&gt;7af21b36-f34e-4789-b9f3-bb813a1eb0cc&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;label&gt;Write BR Script&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="Script"&gt;106afb6647032200b4fad7527c9a71e7&lt;/step_type&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:55&lt;/sys_created_on&gt;&lt;sys_id&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/sys_id&gt;&lt;sys_mod_count&gt;133&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:48:19&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=77b4c86e1bf3b890d575979cbc4bcb59"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/document_key&gt;&lt;order&gt;600&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;77b4c86e1bf3b890d575979cbc4bcb67&lt;/sys_id&gt;&lt;sys_mod_count&gt;128&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:48:19&lt;/sys_updated_on&gt;&lt;value&gt;JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &amp;gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&amp;lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function execute(inputs, outputs) {
	var norm_obj = {};
  	var source_norm_obj = {};
  	var full_source_norm_obj = {};
    var field_norm_obj = {};
    var source_field_norm_obj = {};
    var rx_obj = {};
    var source_rx_obj = {};
    var field_rx_obj = {};
    var source_field_rx_obj = {};  
  	var source_rx_inside = {};
  	var source_field_rx_inside = {}; 
  
  // norm object for non-source-specific additional_info-based normalization policies    
  	var normsGR = new GlideRecord('u_alert_tag_normalization');
	normsGR.addQuery('u_active',"=",true);
	normsGR.addQuery('u_source_key_type',"=","alert_additional_info");    
  	normsGR.addNullQuery('u_applies_to_source');
  	normsGR.orderByDesc('u_normalized_key');
	normsGR.query();
	var sourceKey;
  	var normKey;
  	var norm_rx = {};
  	var norm_rx_inside = {};
  	var norm_inside = {};
    while(normsGR.next()) {
      sourceKey = normsGR.u_source_key;
      normKey = normsGR.u_normalized_key;

      if(normsGR.u_regex_transform) {
      	norm_rx_inside["regex"] = "/" + normsGR.u_regex_function + "/, " + normsGR.u_regex_new_value;
        norm_rx[normKey] = norm_rx_inside;
        norm_inside[sourceKey] = norm_rx;           
      } else {
        norm_rx[normKey] = {};
        norm_inside[sourceKey] = norm_rx;       
      }
      norm_rx_inside = {};
    }
  
  norm_obj = JSON.stringify(norm_inside);
  // norm object for source-specific additional_info-based normalization policies  
  var sourceNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceNormsGR.addQuery('u_active',"=",true);
	sourceNormsGR.addQuery('u_source_key_type',"=","alert_additional_info");  
  	sourceNormsGR.addNotNullQuery('u_applies_to_source');
	sourceNormsGR.orderBy('u_applies_to_source');
  	sourceNormsGR.orderByDesc('u_normalized_key');
	sourceNormsGR.query();
  	var source;
  	var i = 0;
  
    while(sourceNormsGR.next()) { 
        source = sourceNormsGR.u_applies_to_source;
        sourceKey = sourceNormsGR.u_source_key;
        normKey = sourceNormsGR.u_normalized_key;
        var source_norm_inside = {};
        source_rx_inside = {};
        var source_rx = {};
      	if(full_source_norm_obj.hasOwnProperty(source)) {
		  	source_norm_inside = full_source_norm_obj[source]; 
          }
      	if(sourceNormsGR.u_regex_transform) {
                source_rx_inside["regex"] = "/" + sourceNormsGR.u_regex_function + "/, '" + sourceNormsGR.u_regex_new_value + "'";
          		source_rx[normKey] = source_rx_inside;
                source_norm_inside[sourceKey] = source_rx;               	  
            } else { 
          		source_rx[normKey] = {};
                source_norm_inside[sourceKey] = source_rx; 
            }  
          	full_source_norm_obj[source] = source_norm_inside;         
      	
      	source_norm_inside = {};
      source_rx_inside = {};
    }
  
  full_source_norm_obj = JSON.stringify(full_source_norm_obj);
  
  // norm object for non-source-specific field-based normalization policies
  
    var fieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	fieldNormsGR.addQuery('u_active',"=",true);
	fieldNormsGR.addQuery('u_source_key_type',"=","alert_field");    
  	fieldNormsGR.addNullQuery('u_applies_to_source');
  	fieldNormsGR.orderByDesc('u_normalized_key');  
	fieldNormsGR.query();
  	var field_norm_rx = {};
  	var field_norm_rx_inside = {};
  	var field_norm_inside = {};  
  
    while(fieldNormsGR.next()) {
      	var fNDictGR = new GlideRecord('sys_dictionary');
      	fNDictGR.addQuery('sys_id', '=', fieldNormsGR.u_source_alert_field.getValue());
        fNDictGR.query();
      	while(fNDictGR.next()) {
	        sourceKey = fNDictGR.element;
        }
      normKey = fieldNormsGR.u_normalized_key;
      if(fieldNormsGR.u_regex_transform) {
      	field_norm_rx_inside["regex"] = "/" + fieldNormsGR.u_regex_function + "/, " + fieldNormsGR.u_regex_new_value;
        field_norm_rx[normKey] = field_norm_rx_inside;
        field_norm_inside[sourceKey] = field_norm_rx;           
      } else {
        field_norm_rx[normKey] = {};
        field_norm_inside[sourceKey] = field_norm_rx;       
      }
      field_norm_inside = {};
    }
  
  field_norm_obj = JSON.stringify(field_norm_inside);
  
  // norm object for source-specific field-based normalization policies
  var sourceFieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceFieldNormsGR.addQuery('u_active',"=",true);
	sourceFieldNormsGR.addQuery('u_source_key_type',"=","alert_field");  
  	sourceFieldNormsGR.addNotNullQuery('u_applies_to_source');
	sourceFieldNormsGR.orderBy('u_applies_to_source');
  	sourceFieldNormsGR.orderByDesc('u_normalized_key'); 
	sourceFieldNormsGR.query();
  	i = 0;
  	var source_field_norm_inside = {};
    source_field_rx_inside = {};
    var source_field_rx = {};
    while(sourceFieldNormsGR.next()) { 
        source = sourceFieldNormsGR.u_applies_to_source;
      	var sFNDictGR = new GlideRecord('sys_dictionary');
      	sFNDictGR.addQuery('sys_id', '=', sourceFieldNormsGR.u_source_alert_field.getValue());
        sFNDictGR.query();
      	while(sFNDictGR.next()) {
	        sourceKey = sFNDictGR.element;
        }
        normKey = sourceFieldNormsGR.u_normalized_key;
				
      	if(source_field_norm_obj.hasOwnProperty(source)) {
		  	source_field_norm_inside = source_field_norm_obj[source];
        }
      	if(sourceFieldNormsGR.u_regex_transform) {
                source_field_rx_inside["regex"] = "/" + sourceFieldNormsGR.u_regex_function + "/, '" + sourceFieldNormsGR.u_regex_new_value + "'";
          		source_field_rx[normKey] = source_field_rx_inside;
                source_field_norm_inside[sourceKey] = source_field_rx;               	  
            } else { 
          		source_field_rx[normKey] = {};
                source_field_norm_inside[sourceKey] = source_field_rx; 
            }  
          	source_field_norm_obj[source] = source_field_norm_inside;         
      	
      	source_field_norm_inside = {};
      source_field_rx_inside = {};
    }
  
  source_field_norm_obj = JSON.stringify(source_field_norm_obj);
  rx_obj = JSON.stringify(rx_obj);  
  source_rx_obj = JSON.stringify(source_rx_obj);  
  source_field_rx_obj = JSON.stringify(source_field_rx_obj);  
  field_rx_obj = JSON.stringify(field_rx_obj);   
  
  //compose script
  
  
  var script = '';
  
  script = 'JSON.unflatten = function(data) {\
    "use strict";\
    if (Object(data) !== data || Array.isArray(data))\
        return data;\
    var result = {}, cur, prop, idx, last, temp;\
    for(var p in data) {\
        cur = result, prop = "", last = 0;\
        do {\
            idx = p.indexOf(".", last);\
            temp = p.substring(last, idx !== -1 ? idx : undefined);\
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));\
            prop = temp;\
            last = idx + 1;\
        } while(idx &amp;gt;= 0);\
        cur[prop] = data[p];\
    }\
    return result[""];\
};\
\
JSON.flatten = function(data) {\
    var result = {};\
    function recurse (cur, prop) {\
        if (Object(cur) !== cur) {\
            result[prop] = cur;\
        } else if (Array.isArray(cur)) {\
             for(var i=0, l=cur.length; i&amp;lt;l; i++)\
                 recurse(cur[i], prop ? prop+"."+i : ""+i);\
            if (l == 0)\
                result[prop] = [];\
        } else {\
            var isEmpty = true;\
            for (var p in cur) {\
                isEmpty = false;\
                recurse(cur[p], prop ? prop+"."+p : p);\
            }\
            if (isEmpty)\
                result[prop] = {};\
        }\
    }\
    recurse(data, "");\
    return result;\
};\
\
(function executeRule(current, previous /*null when async*/ ) {\
';
script = script + '\	var norm_obj = ' + norm_obj + ';\
';
script = script + '\	var source_norm_obj = ' + full_source_norm_obj + ';\
'; 
script = script + '\	var field_norm_obj = ' + field_norm_obj + ';\
';
script = script + '\	var source_field_norm_obj = ' + source_field_norm_obj + ';\
';

script = script +'\    var info = current.additional_info;\
	var formatRx = new RegExp(/\\\/(.*)\\\/, \'(.*)\'/);\
	var newKey;\
	var newValue;\
    info = info.replace(/\\|/g, "~");\
    info = info.replace(/\\./g, "|");\
    var parser = new JSONParser();\
    var data = parser.parse(info);\
    data = JSON.flatten(data);\
    var key;\
    var nKey;\
	var tags_obj = {};\
    for (key in norm_obj) {\
        if (data.hasOwnProperty(key)) {\
            var nInside = norm_obj[key];\
            for (nKey in nInside) {\
                newKey = nKey;\
                newValue = data[key];\
                var att = nInside[nKey];\
                if (att) {\
                    var rx = att["regex"];\
                    if (rx) {\
                        var rxMatch = formatRx.exec(rx);\
                        var rxFunc = new RegExp(rxMatch[1], "gm");\
                        var rxTest = rxFunc.test(newValue);\
                        var rxRep = rxMatch[2];\
                        if (rxMatch &amp;amp;&amp;amp; rxTest) {\
                            newValue = newValue.replace(rxFunc, rxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
    var source = current.source;\
    if (source_norm_obj.hasOwnProperty(source)) {\
        var sourceNorm = source_norm_obj[source];\
        sourceNorm = JSON.stringify(sourceNorm);\
        sourceNorm = parser.parse(sourceNorm);\
        var sKey;\
        var sNKey;\
        for (sKey in sourceNorm) {\
            if (data.hasOwnProperty(sKey)) {\
                var sNInside = sourceNorm[sKey];\
                for (sNKey in sNInside) {\
                    newKey = sNKey;\
                    newValue = data[sKey];\
                    var sAtt = sNInside[sNKey];\
                    if (sAtt) {\
                        var sRx = sAtt["regex"];\
                        if (sRx) {\
                            var sRxMatch = formatRx.exec(sRx);\
                            var sRxFunc = new RegExp(sRxMatch[1], "gm");\
                            var sRxTest = sRxFunc.test(newValue);\
                            var sRxRep = sRxMatch[2];\
                            if (sRxMatch &amp;amp;&amp;amp; sRxTest) {\
                                newValue = newValue.replace(sRxFunc, sRxRep);\
                            } else {\
                                newValue = null;\
                            }\
                        }\
                    }\
                    if (newValue) {\
                        data[newKey] = newValue.toLowerCase();\
						tags_obj[newKey] = newValue.toLowerCase();\
                    }\
                }\
            }\
        }\
    }\
\
    var fKey;\
    var fNKey;\
    for (fKey in field_norm_obj) {\
        if (current.getValue(fKey)) {\
            var fNInside = field_norm_obj[fKey];\
            for (fNKey in fNInside) {\
                newKey = fNKey;\
                newValue = current.getValue(fKey);\
                var fAtt = fNInside[fNKey];\
                if (fAtt) {\
                    var fRx = fAtt["regex"];\
                    if (fRx) {\
                        var fRxMatch = formatRx.exec(fRx);\
                        var fRxFunc = new RegExp(fRxMatch[1], "gm");\
                        var fRxTest = fRxFunc.test(newValue);\
                        var fRxRep = fRxMatch[2];\
                        if (fRxMatch &amp;amp;&amp;amp; fRxTest) {\
                            newValue = newValue.replace(fRxFunc, fRxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
   if (source_field_norm_obj.hasOwnProperty(source)) {\
        var sourceFieldNorm = source_field_norm_obj[source];\
        sourceFieldNorm = JSON.stringify(sourceFieldNorm);\
        sourceFieldNorm = parser.parse(sourceFieldNorm);\
        var sFKey;\
		var sFNKey;\
        for (sFKey in sourceFieldNorm) {\
            if (current.getValue(sFKey)) {\
				var sFNInside = sourceFieldNorm[sFKey];\
				for (sFNKey in sFNInside) {\
                newKey = sFNKey;\
                newValue = current.getValue(sFKey);\
				var sFAtt = sFNInside[sFNKey];\
				if(sFAtt) {\
					var sFRx = sFAtt["regex"];\
					if (sFRx) {\
						var sFRxMatch = formatRx.exec(sFRx);\
						var sFRxFunc = new RegExp(sFRxMatch[1], "gm");\
						var sFRxTest = sFRxFunc.test(newValue);\
						var sFRxRep = sFRxMatch[2];\
						if (sFRxMatch &amp;amp;&amp;amp; sFRxTest) {\
							newValue = newValue.replace(sFRxFunc, sFRxRep);\
						} else {\
							newValue = null;\
						}\
						}\
					}\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
				}\
            }\
        }\
    }\
	data["itom_tags"] = tags_obj;\
    data = JSON.unflatten(data);\
    var ai_string = JSON.stringify(data, null, "	");\
    ai_string = ai_string.replace(/\\|/g, ".");\
    ai_string = ai_string.replace(/~/g, "|");\
    current.additional_info = ai_string;\
    current.update();\
\
})(current, previous);\
';

  outputs.script = script;
}) (inputs, outputs);&lt;/value&gt;&lt;variable display_value="Script"&gt;71aa7f6647032200b4fad7527c9a719b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b3b4c86e1bf3b890d575979cbc4bcb67&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;value&gt;35aa573fd7802200bdbaee5b5e610375&lt;/value&gt;&lt;variable display_value="MID Application"&gt;f5e56d79b3101300176b051a16a8dce4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=77b4c86e1bf3b890d575979cbc4bcb59^sys_idNOT INf3b4c86e1bf3b890d575979cbc4bcb5d"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=9d3b7cd0-93a7-4902-97d2-8a86e7c680fb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write BR Script"&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/model&gt;&lt;model_id&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_77b4c86e1bf3b890d575979cbc4bcb59&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;f3b4c86e1bf3b890d575979cbc4bcb5d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_hub_action_output action="delete_multiple" query="model=b3b4c86e1bf3b890d575979cbc4bcb55^sys_idNOT INb3b4c86e1bf3b890d575979cbc4bcb6a"/&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=3e97a2b7-43f8-43e7-a23a-fa143c02a136&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_prototype/&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write ATN BR"&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/model&gt;&lt;model_id&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b3b4c86e1bf3b890d575979cbc4bcb6a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55^sys_idNOT INbfb4c86e1bf3b890d575979cbc4bcb70"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;script&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;script&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;bfb4c86e1bf3b890d575979cbc4bcb70&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_hub_action_type_definition action="update"&gt;&lt;sys_id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/sys_id&gt;&lt;latest_snapshot&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/latest_snapshot&gt;&lt;/sys_hub_action_type_definition&gt;&lt;/record_update&gt;</payload>
<payload_hash>65579783</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>464f2dd047b6851024307601e36d4368</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17f4706c48f0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>Write ATN BR</target_name>
<type>Action Type</type>
<update_domain>global</update_domain>
<update_guid>39c9002c4a8a81108961d212228e0e0a</update_guid>
<update_guid_history>39c9002c4a8a81108961d212228e0e0a:65579783,6dc9cce8978a8110c3e12c4bcc213799:446607101,448fe43df958051071071c7a3da3fb28:-1507401164,448fa43d36580510243d3f8aaec1a0b7:-64694673,e53fa4f9b35805105a4cb230b73c9669:-605464654,a53fa4f92758051086801a2546753a29:1691139729,5a2eac39cd580510c06f239817aa2076:-1392471002,922eac393558051033d1cf54a5f23944:1184509846,911de4b5cb5805100944d5e53d93d3e7:-1455501872,5d1de4b5435805102a7b090db9e53069:-864890959,913c6435c758051001d4afe044f51345:432794974,5d3c6435dd58051005f9a18f79fa8f13:-1463753987,e20cacf13b580510898f1035b51542e3:-1411445122,d60cacf11c580510fdba5cf5358807b0:1982577569,6ad62c39e01805102f3c8dddbb70d30e:1692417549,6d732871961805103e2e73fc3de82703:1530973327,928c5cb1c0d40510f42e904752c494ff:1819670150,40b1bfa5f05005103ac806cc2ba60914:-2136880992,37a17fa5d6500510e3c61cf6252e1dd5:-1212011181,525fa761775005100e86d71ac7e97904:-1936140091,c65f676126500510b3ecb56e889047ad:241560777,462f6f21ea5005102ef4d2ac3763ff38:-1039214534,352f2f21bd5005102ee21005a6fc9ee0:1786909890,5c7d6f2d0910051077287bdc131b59dc:-135246106,0c7d6f2d62100510b08de5498f24e6aa:-1765616302,95dce7e98910051022a604d8226a7785:-1769015597,dddce7e969100510cbba2b1239850952:-1258497158,5e3c63a958100510a54ec27bc9144f72:942069565,c23c63a9c71005101d4f5d6665331927:-814030843,071b2be5bb1005103e05eeefde2219be:-1487392510,471b2be5f910051043f7903de8a8838b:608910568,077d7da104dc81104ef3c1f17692fd4a:2101966372,fa7d3da17bdc8110b6d06a7d047929e5:1488657220,5b7c392142dc81106e222de0d07f485d:902135934,9f7c3921d3dc81102a029c5b37debb2a:1433435789,fb4ab5e9b99c8110480db6d89c97b875:1452154564,e34ab5e9f19c81100f2e143f012c6606:1774227733,621afda9159c8110d151cd03bc25ee14:-2107254732,161abda9dc9c8110d6b2079fb2f6d3a3:1938995969,11e18429a39c4110d03b0d1b9da8f3c4:1298658097,dde18429569c411077c4e646fbb3fd90:1419726722,0bd6fcabcac48d1077a3a6fbf2337c94:30067353,0fd6bcabe1c48d102a4b836b097f2cf1:1272677350,e27cac6b06848d10fcd25b28cb4bfcef:1547695211,d67cac6b97848d1075ed78a679b7b697:1193188632,e63bace73e848d108934885732c1460f:-704831516,163b6ce73f848d108de1ad31cf6ccfd0:-1992413038,6eb49c67ed048d103ab072ccbd191fe0:-1867416275,62b49c6760048d1082cdf4bae05b82ae:820498482,b4d98067f9c08d1026c0f8f411b22da2:-1200087219,a8d9806782c08d101b02b81e55a7d46f:1981099362,53fff757e3808d10c87cf9dbfe27a1e4:1178255294,87fff757d5808d10fefc9f108942d4b1:1471681668,1b2f0fdb514c4d106eb620f71bf25130:441729648,032fcbdbe14c4d10b42b3082e27464fe:153016333,ba92674fb9840d100f18688af85f9d15:-1730802937,a292274f49840d10072938896274dbd7:-1990758604,6d326b0ffd840d103836bf469e6288a6:239136188,9d326b0f81840d105f5771d88f3b7d67:200889941,440c3a83ddc00d1046e0267bd8b38e7c:-1243566854,73fb3a8390c00d10aa1c53825097683e:-547021081,119b3e4326c00d10827f927d9fd73721:-852800499,059bfa4331c00d1020e904efed2fa1c9:1977678392,523b32436ac00d1059abd32fd2f87c3b:-1878976382,063b3243abc00d10b79ff64ee904d009:-1007127155,f5aafecf46800d1028fcc25d5dc37dfd:762094673,edaafecf29800d100d2b6f5f2864978d:-1292827294,286af6cf02800d102c974fd626ba0175:761246031,546af6cf99800d10c6921da48f012f36:1391887592,04297a4f36800d1017a704fe7e159999:-1180517947,08297a4f6f800d10a4e8983b18210141:1073473739,67c73acb80800d109fdab7033a7a836b:-59696440,13c73acb5e800d1004a0a2fc0d0dd73a:571122055,249732cbf7800d10c17ca099040fb44f:-1174014250,6c97fe8beb800d10a1e9895ed1431dea:-1900017033,1266b24b35800d1002245dbe223920bc:2120581544,8e66b24b1d800d107150a52b24db1064:2066480359,01e5b20be3800d100872b6a754b84973:-933734451,34e5b20b18800d10326cf03ae386ac41:1245563703,b64dae8b1e400d10ca3d3020387a83f8:462444557,a64dae8b2d400d101172f5f4d5a17f88:-1655256070,a76ca64bae400d10fba72b2dcced83af:756291029,5b6ca64b49400d103c0d6ea64735e163:1794587636,6e6e5676fe8489108031f03535bb2ed4:1933823520,126e56763284891081f58ed533efc389:-31645052,3339661e7e04c510df00672392ea9351:-1774750801,2b39661e8104c510bf781c9a7a98fe1e:-393749746,6b356a562704c5104034ccbcd91730b4:826697122,9b356a567904c51050241d39335a6e69:-271475506,b6313874438049d0afc18ef8da4b5627:-1810584383,6e31f4742d8049d086e57529cb19acdb:1570079556,65a07834a18049d0cbb525dd5093c25f:-965045494,69a07834bf8049d0d50d5ee14c5eca2c:1443102230,5520b8f0028049d0b36c3175063ce152:-138053275,1d20b8f0398049d0e7515f1ff7c80820:1785366226,cdffe0f04c8049d0a0c56cbbb7e1ece2:1537910419,f4ffe0f0448049d07af468c45eb48041:-109330373,c3efa0f0d88049d0d99f17f5cf5bca20:-1226974398,32ef60f08d8049d09cf534ff7e9f83e1:-282849071,298e2c30d98049d0ed566712f684c59f:-915628997,e18e2c30f78049d09b34bec2b2ace16d:-1816209074,9f4e6430cd8049d05839f1603c5150bd:-1119351778,c34e6430668049d0c1101e558913c28b:-1501579355,8fbc687c9d4049d0095dfb9979bdbb60:-4688738,76bc687c724049d00f604f3d4c74dd15:441398996,90fb243c8c4049d051b57fbf60f73f1c:-1501916566,80fbe03c044049d0eb6acf918ced90c4:305402180,c06b24f8214049d03c5242822b5962b3:-237933019,c06b24f8ae4049d014aa07ea61916775:-413994448,953bacb8c44049d00eb52f58a775c1a3:-823409397,dd3bacb81b4049d0ef6c10fd23c49858:617969744,97fae4b88b4049d0ea2d0801696b49bf:-697109159,07fae4b8a64049d09671b3a0f41e8080:-1373541750,aef72c74744049d0709a0d0d88e0d549:880416329,12f7e8748a4049d063cd82375afc59f3:611822270,fb77ec34b94049d00a45c60b91db2030:-179577572,bb77ac34484049d0a5fca524478174fe:-487136167,ea6624f0444049d0c4ac4c09ffff7c36:-2106472457,ee66e0f06c4049d00cef8bfe53165ed1:-510648631,8a35e070584049d0273b917085f47d0f:748982332,5535a070194049d05a6f7efc04ced16c:1459026615,1254e8fc270049d06b513a4704fb5b20:-292498713,0e54a8fcc20049d09f90c122fe69e8ec:-1358711379,d5e16cf85c0049d096e4168884cf3997:343706659,fa5da2e8e04409d08cd0496f9eddaa59:911644733,b71d2ea8d64409d0a789eea5ac686bf2:1707034729,9cfb6268a04409d0109198113897b6e0:-1034844327,be914cebacbf30d06a1a8990b4c6605a:1689696513,5e914ceb3cbf30d0d652fbbf2ee9e002:-876969758,a59e3b973bbf30d0eaac266e5c41e1f2:205056449,559e3b9795bf30d0710a78200b15839a:-1109729956,b23db31774bf30d026fb5995c291ec09:-2040240435,a23d7317b6bf30d082c121460148b2d6:714006219,d543fbd31d7f30d03c0921cbba23d78b:-306706356,8543fbd3e57f30d0e53567f4f358b958:317362001,7b47a497cc7bfc90856b6921dbd37571:-324188202,af47a497047bfc90f940e81d0b674d0c:805845699,c6742c13377bfc90e69a12f2eafafaf0:68077682,b9742c13b97bfc903db3964e4109d38b:-817144263,b753689f7a3bfc9094eb66b6bc1faff5:655162598,eb53689f603bfc907d3f97370a96b4a9:-806658156,79e2685f8a3bfc9090c31c5eb7bf5e0e:2052707713,e5e2285f6c3bfc90e1a5da48a6cdfacf:-1537872710,1dce90d7fd3bfc90f00866f84ec3a9c6:763136265,d1ce90d7fa3bfc905dce55ae3f9b9e95:703313691,f7be50d73e3bfc90e4277c52129f7290:-1811541066,27be50d7e33bfc908e3785c424bac045:353881335,1c5ed097463bfc90e86da55bb4b556af:-500756575,c05ed097e83bfc90c8fdd14ce1ef347e:1737250284,db2edc57373bfc903567016f5b64a429:-2032357361,872e9c57283bfc907c3552aa876eabf7:1412972476,e0dd5457053bfc9004e0458b0b06082e:461553809,d0dd1457bc3bfc90a5916e8e075372fb:-1090243979,b44b1453063bfc908fe08358d663fce7:-1506367397,f04b1453983bfc902fd525fb7a054ab5:-1467022962,72ea9813683bfc905918aeded632b397:537855744,76ea98132b3bfc906e2ddc2b912d6d64:-738011816,44563dcb7177bc901a35ef66283aa9cd:367215192,ff463dcb5f77bc906d1d333af2245475:2054247008,c675b58b9477bc90507b03a31cd3442e:-75939257,f575758b0177bc90b3bc19313de560fb:1227745244,30a2bd47d277bc90849f31082c5d5ad6:1995689434,7ca2bd471a77bc90ca0ceb3de5e2bf59:-1047580594,72727947f477bc9002696abef406df41:-892599792,627279479c77bc90a941a3a054289103:-1044844674,c16275474f77bc90361743f85f60fdaa:-1453182835,b86275472277bc9032534f7cc1ff9478:669492637,de22bd073377bc90c18d411745f54517:-710652235,0a227d07b677bc9057d61ae25e9a8bcd:660088364,16d135070477bc90a7c7a925f004935e:1550014871,82d135075577bc9063234bc0df27ac1f:-2127652037,9b913dc33377bc90703ae2fee4cf2f8b:-750661244,43913dc36f77bc90c65be59a7106fe40:746929821,c5117d836177bc90b538db6729b224de:-257343554,05117d83dc77bc9096d984e520669a6d:1995569922,9afbad8bab37bc9045898e01b4d7e3f8:-737323513,12fbad8be937bc902fcd512845963ead:-349426094,b09e7db249fb3c90d09bace1d9d916e0:1745867978,389e7db28afb3c90b266ac40a16155a1:-1944850876,055eb5b22ffb3c90a4597e780afe7999:-81335332,0e0e7d728bfb3c9094023c75a0d07ba5:-1019466308,f50e7d7207fb3c90f82d3ca2e78d2473:1758926697,c9cd7d326bfb3c9097108389ebd52968:-988256842,34cd3d32aafb3c90c46a4124d24b7388:1620290133,0cfc31fe08bb3c9068edee86c3884308:-1061971394,b3ecfdbe3abb3c905a703faf53f86eb1:-44753568,d41c397ebebb3c90caa4fbae896fa265:-932552397,d81c397e25bb3c905426e842aac44a26:-1636631817,86cb317ea3bb3c909dbb786091641201:-1672322654,b9cbfd3e6cbb3c90ffa7ef27b3c5b5c2:-986917350,6b1bbdfaeabb3c9044d697e1c7730cd9:682511800,971bbdfad2bb3c90ce706c4d15e4ea8e:1079381413,8edab5fa95bb3c90e1dbbf2368787479:1785438567,bddab5fabbbb3c9084994ac9a22d7e46:-1343242622,7ba87df643bb3c90dc9308dc716b164b:1889154224,27a87df67abb3c9068e3f1538c513319:-173438167,3dd7b5b641bb3c905c25a20ef38a8e6a:1435102547,69d7b5b606bb3c90c482aa7e9725fa1f:-565190413,503735765bbb3c90b7063a98fd5fb718:472147992,8c37f17609bb3c90d9b58222897cf1a6:1639528485,0bc6f53657bb3c90f1c8c8f8345463df:-1363956917,bac6f53644bb3c90e3155c845b239688:50608694,15767df29abb3c906ddd461b4cbac3e4:-560299921,c9767df22ebb3c9009f4633d0e8696b2:1313329340,e146b5f29cbb3c907cff37d7a9e7ef77:1607788654,d146b5f28fbb3c905c65a870a1981339:-72382639,65e5b9b263bb3c90d3455e02a08390f5:517349266,65e5b9b204bb3c906d0e6a43436ffdb7:-1785497650,34c575b2afbb3c906513040aba94ccf9:-1896044219,64c575b23fbb3c906bbee290d9d05eae:-234775270,e915f1720ebb3c907530e3ad7a23b41d:-71825688,9115b172b6bb3c90c8859ab50989dcec:1245306631,31b43932ddbb3c9001d5e9b219bbf71e:-1482808653,65b4f53297bb3c90dfbfdb1e7c8548a1:2100583885,5274bdfe4c7b3c90ef688a461b555d06:1764611271,8e747dfed37b3c9038112eaffb336e95:-1242360298,fff331fef77b3c9089751936cbfe8e4a:-401026678,33f331fe017b3c90b4a012ba9db4c200:-1041718195,c2b3f5bec97b3c908e1483686502db39:1960771304,42b3b5beae7b3c90a3c8e7e72d193dfa:-1868787184,a113b17ec07b3c906e5c58e3325422a7:133026935,5d13b17e4c7b3c9091ebf168fa79a374:653101886,c3d2b93e077b3c90442aea6263ef6c8e:-344954511,f2d2b93e077b3c90272b22ad5cc3b950:447032661,1cb2353ee07b3c901eaafcded4355cfe:-43237562,9cb2353e827b3c90a27eb808eb9906a7:-1160064561,2882fdfa3a7b3c904eb2e58defa39b48:-808343625,dc82fdfa047b3c900bb8e6e0bc0ea916:1696935385,6302b1fa727b3c90cca0d08ea15cb3ab:-931792701,a302b1faa27b3c90dd6d2befc995f660:2082314318,9241bd7a277b3c907c54928fae62c193:-397324893,c241bd7a547b3c907d0cd6f728f20848:-896973729,e1e0f17ab57b3c904107118bf4500b2e:-1914130527,e5e0b17af07b3c907f5d8cfdafaab8be:-1276483694,37b07d3a567b3c90c6f23b3a8d89a6a6:270559319,e7b07d3a6e7b3c9052e4091269220b5a:533048274,4cbf61f6177b3c90bd0119f1f8533c3a:1391480689,3baf61f6517b3c90f541921389848308:400758250,bd2f61b6e37b3c90751c463ece09bab0:-469724451,a12f61b6b87b3c90e4dd3a113e4a5a72:478721174,0afee976e37b3c90809f1debcc2eb8a2:380537528,8efee9760d7b3c90ff3c7cb7c8a9b74a:1031998337,7a9e2176087b3c907e0f4f83a06b6eb8:-514399655,ee9e2176ef7b3c90e648568bfe1ba560:-2042129249,626ea9363a7b3c9099d2b457c5dc0473:2128783686,de6ea936157b3c90040ec8074bc03633:-388334005,c13de9b2b27b3c90a747a7535b1249c1:-260078645,f43de9b24d7b3c90e4043dec354bd982:1657520162,dedc21b2387b3c90e7f229fd5b9bd539:340490205,8adc21b2b07b3c9060d1d036118e7c07:1534014828,558ca5728c7b3c9005c4186e1878c294:-955038571,dd8ca572027b3c902528a08c032b3654:-2056701774,752ca932e67b3c9018f5c33f53260c20:1684725995,ed2c6932087b3c902ebc5e5aae137dc8:-963520790,53bb6dfee53b3c9015b3f7d018ce083a:1713327303,1bbb6dfe933b3c90378ae76bac4c6d08:1489241176,306ba1febe3b3c905cca29225726248e:-64535184,606ba1fecd3b3c909214444642c2005b:1961813139,690aed3e283b3c908ce91bc6753aa997:-2084029783,dd0aed3e4e3b3c90be5e37ad905c3b57:-78388260,3e1bc42a4637b8904a7a00ab3f53e2d6:2111482290,6a1bc42ace37b8903f794bc94212f95a:571160837,1a0b442a2037b890252ca53032b5d73a:-743901172,c60b442a8337b890a5535f15b5148f07:-1798853947,f2780426d237b89080a244da75a07575:-397686393,7e7804269337b8901e8c8c78e249ed35:290629780,547708a2bb37b8901c2c72928afec760:-329507289,107708a29137b890cb4f7545cfd8532e:1763817196,00174c629037b890c98497c8b28a390b:-1122029899,77070c62ed37b890c06e4f64a54de9a6:-344354417,fa564422e337b890b871e54df0737b16:1516604933,66560422e237b890435df070ff6162d7:-90562763,88c4c86e9bf3b89056ff222f78ceab8e:889929009,7fb4c86e0ef3b8905d9ca20ee24c824f:-1992179362,2d94846e7df3b8900fcb809551e793ab:709543894,ae2300ea4ff3b890ca842de0b83258b7:-1790622679</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_25feffd21bf3b890d575979cbc4bcb4b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value&lt;/description&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '')
		return;
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:50:17&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;25feffd21bf3b890d575979cbc4bcb4b&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_25feffd21bf3b890d575979cbc4bcb4b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-19 06:09:41&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1588538391</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>464f2dd047b6851024307601e36d436b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d36d0a02a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>633c3793bdbf30d0053a8719b626f678</update_guid>
<update_guid_history>633c3793bdbf30d0053a8719b626f678:-1588538391,089f335613f3b89017d74f85658d1218:1818244866</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_47d5130b1b440d10d575979cbc4bcb10</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_function&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex (func)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') == "false") {	
		return;
    }
    if (g_form.getValue('u_regex_transform') == "true") {	
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'), 'gm');
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 18:59:13&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;47d5130b1b440d10d575979cbc4bcb10&lt;/sys_id&gt;&lt;sys_mod_count&gt;27&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex (func)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_47d5130b1b440d10d575979cbc4bcb10&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:26:22&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1028332420</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>464f2dd047b6851024307601e36d436e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96ca55e50000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex (func)</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>07aab719a95c4110a46b0fa866f66743</update_guid>
<update_guid_history>07aab719a95c4110a46b0fa866f66743:-1028332420,6c6a73d5805c4110bee2af3d34221501:404435748,453ab395c55c4110ff3082ec4376a37e:1134063466,c40a3f95555c41105de0546c80f2062c:-2063779492,e5f97395385c41109bd7ca91b0de1261:1315221566,f0b9f7916b5c41105d236e3ef2379ce8:-35975171,72193f156f5c411029cfbc20fa9eda09:161637096,0573ffd5c51c411023b2c3e467dda5b7:-203222341,8611bad523d041103f94c0ff78b0c913:161637096,fef076d5aad0411097c2d8a5f57ced1a:-203222341,93e0f2d5bfd04110c5cd7c5a8855baa6:161637096,7dc03e9594d04110d71b14f729f303c5:-203222341,c18b185177540950e6b23e686e3b0d33:161637096,79dad411dc540950ba883ac3c2ccb9bb:-203222341,29ab6a89c5580950ec2451b094091997:161637096,8f4be649e95809505feeea39eae1f49d:122042523,62a1016f2d088d10e1799757c1d0e392:161637096,e5f0096b16088d10556f7d3edf0a2db5:616178758,093e3ca7f0088d1079e896e874624166:575560299,6acdf0a7ee088d10dae0ee3c0b713b12:-444122408,14cd3ca715088d10acfbbf0ab37399ee:-1940085019,eefb3ce32d088d10808be66a91ed9758:-444122408,e67b7ca3b4088d1021151ddba903e698:-1940085019,cf5bb8a36a088d109ba0c92a18a3f383:-444122408,5b3b38a350088d10005050f7a3cfefbc:-1940085019,231b3c630a088d10a3b17ff09ce1bbc2:-444122408,691bf0a3a0088d107b08b14dc8e647fa:-1940085019,4bd5130be1440d10d6442e609506c412:-444122408</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_applies_to_source</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_applies_to_source" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Applies to Source (optional)&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_applies_to_source&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;50&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-17 05:59:16&lt;/sys_created_on&gt;&lt;sys_id&gt;4a96a1f61b3b3c90d575979cbc4bcb3b&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Applies to Source (optional)&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_applies_to_source&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-17 05:59:38&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>1147616478</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>464fa5d047b6851024307601e36d435b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d2c7ab6210000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Applies to Source (optional)</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>74c629f6263b3c90678fb223b477c385</update_guid>
<update_guid_history>74c629f6263b3c90678fb223b477c385:1147616478,dfa625f6c13b3c905732a34a4c7fddd6:-1835270176</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_test_value</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_test_value" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Test Value&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_test_value&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;500&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:18:09&lt;/sys_created_on&gt;&lt;sys_id&gt;8d283b1a1bb3b890d575979cbc4bcbcb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Test Value&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_test_value&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 03:18:09&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2061006950</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4a4f2dd047b6851024307601e36d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26c07fa80000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Test Value</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>9938fb1a06b3b890a72e43e6cf02a33d</update_guid>
<update_guid_history>9938fb1a06b3b890a72e43e6cf02a33d:-2061006950</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_test_alert_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_test_alert" label="Test Alert" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_test_alert</element><help/><hint/><label>Test Alert</label><language>en</language><name>u_alert_tag_normalization</name><plural>Test Alerts</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:57:01</sys_created_on><sys_id>fb5337de1b73b890d575979cbc4bcb69</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Test Alert</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_test_alert_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:57:01</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-1685864619</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4a4f2dd047b6851024307601e36d4367</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ad27f40000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Test Alert</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>84633312beb3b890960b13ea8d3291a8</update_guid>
<update_guid_history>84633312beb3b890960b13ea8d3291a8:-1685864619</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_2002b8b41b8049d0d575979cbc4bcb8a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Flattened Data&lt;/description&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Flattened Data onLoad&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
				 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onLoad() {
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var data_string = JSON.stringify(data, null, "\t");
	
	g_form.setValue("u_flattened_data", data_string);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 07:17:01&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;2002b8b41b8049d0d575979cbc4bcb8a&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Flattened Data onLoad&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_2002b8b41b8049d0d575979cbc4bcb8a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:18:02&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1240958685</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4a4f2dd047b6851024307601e36d436a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d919c58e50000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Flattened Data onLoad</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>432fe2015898095064a9c8a1fd49e50d</update_guid>
<update_guid_history>432fe2015898095064a9c8a1fd49e50d:-1240958685,666daa4de4580950fcc2b702b69c39a8:-533533706,8cfcae0d0658095014ed7885277c497f:-1240958685,70fcf467be088d104a10069967f5d289:-563847798,5eccb06747088d103ea6bca39904e788:-1680581673,db70c9b4214449d0cb95537dd2748b25:-563847798,886041b4364449d0a87560fa831d106d:-1680581673,1b8fbcbca80449d032dca0b4f61a10e8:-563847798,917ffc30634449d0f2d8785297c0aec2:-1680581673,494fb4fc820449d093325be15a37f2d0:-563847798,8a3f7cbce60449d02d69d4269397bcfd:-1680581673,7bd23438308049d0c0fe02b67268fdcd:-563847798,6a02f8b46b8049d01018c49646724211:-1107088383,a402b8b47e8049d086ee888ef8e84c8c:950994627</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_432df8bc1bc049d0d575979cbc4bcb3b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
    if(!g_form.getValue('u_test_value')) {
		g_form.setValue('u_test_value', g_form.getValue('u_raw_value'));		
	}

    var raw = g_form.getValue('u_raw_value');

    var regExp = new RegExp(g_form.getValue('u_regex_function'));
    var replace = g_form.getValue('u_regex_new_value');

    var value = raw.replace(regExp, replace);
    g_form.setValue('u_test_value', value);
    //Type appropriate comment here, and begin script below

}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:05:47&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;432df8bc1bc049d0d575979cbc4bcb3b&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_432df8bc1bc049d0d575979cbc4bcb3b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:08:20&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-980025824</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4a4f2dd047b6851024307601e36d436d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d9193778f0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>89fcae0dc5580950401df7df5dcfebe2</update_guid>
<update_guid_history>89fcae0dc5580950401df7df5dcfebe2:-980025824,34cc306743088d101c01341e6077aaf2:573985606,4d9a3463d1088d10c11424dd40b16040:-1221874445,fa8ab8ef53c48d103a291d672d06812d:573985606,9a59f4eff2c48d109069152d674e0e6e:-1221874445,0c49bcaf5dc48d10acd7534e4bbecf2b:-1136661697,60acf2c383c00d107b900db2d15e8340:1528862933,45edf8f47e0449d05e706abf9a59647a:2048518882,032df8bcdfc049d062464ba290e5063d:1528862933</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_a3d3a5a41b8cc5d0d575979cbc4bcb21</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Raw Value - alert field&lt;/description&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};

    function recurse(cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
            for (var i = 0, l = cur.length; i &lt; l; i++)
                recurse(cur[i], prop ? prop + "." + i : "" + i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop + "." + p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading) {
        return;
    }
    var value;
    var dictGR;

    if (g_form.getValue('u_source_key_type') === 'alert_additional_info') {
        if (g_form.getValue('u_source_key')) {
            var info = g_form.getReference("u_test_alert").additional_info;
            info = info.replace(/\|/g, "~");
            info = info.replace(/\./g, "|");
            var data = JSON.parse(info);
            data = JSON.flatten(data);
            var key = g_form.getValue('u_source_key');
            if (data[key]) {
                value = data[key];
                g_form.setValue("u_raw_value", value);
            }
        } else {
            g_form.setValue('u_raw_value', '');
        }
    }
    if (g_form.getValue('u_source_key_type') === 'alert_field') {
        if (g_form.getValue('u_source_alert_field')) {
            var column = g_form.getReference("u_source_alert_field").element;
            value = eval("g_form.getReference('u_test_alert')." + column);
            g_form.setValue("u_raw_value", value);
        } else {
            g_form.setValue('u_raw_value', '');
        }

    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 16:16:22&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a3d3a5a41b8cc5d0d575979cbc4bcb21&lt;/sys_id&gt;&lt;sys_mod_count&gt;84&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_a3d3a5a41b8cc5d0d575979cbc4bcb21&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:14:40&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>2100927099</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4a4f2dd047b6851024307601e36d4370</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96bf9f490000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>63f73751485c411010a2ba3fe322a8e5</update_guid>
<update_guid_history>63f73751485c411010a2ba3fe322a8e5:2100927099,be57fb11015c4110532c0858049fab6a:-1733761147,2737f311635c41107b34d86081d17fe6:2095397388,6017bfdd911c41101145e7146f4200a3:1361679106,acf6bfdd941c41106176be8e43e57722:-529814844,bbc63bdd031c411081377092f51cb197:43685839,84857b1d961c4110a32141dacc825196:134760641,d365b3d9481c4110aa79247b4da3881f:-1186385628,e1147759291c411031ae243198caa90e:702610533,523d439538d44110bbc27faf1ec09bc3:1731526729,02ec0b5540d44110d9ba7ddf072de96e:599404046,bf3c43151dd4411090c0d7a11d24edb9:849160073,630c8b51dad4411001f7e275ce843382:2024905370,3aab4f9102d44110539fe02d2813c9c4:-177829832,98aac3113ed441106ea6e76d9cdea5a0:-1140612916,636a83113dd44110558503dac2e9143a:-1657677677,cea3c711f89441106f8c85c8cfbf83c3:-1178145250,46334f116f944110e72d3f554d7ab912:-972010494,b8628f5dec544110543ce805146e248b:2074998274,ea91835dba54411056db954c67a8267f:1921074089,2c99bed9ed144110e24e97bf70484bc5:-600750851,3f19b699fc144110cc811ea8eb0bce04:152682807,ddc83299b71441104f0a857581bc4899:-1781726704,e448f2198d144110f1d36181dfc21b15:745675279,e7e73ad5af14411095b0e91b65435eb0:1581231415,1b777695021441106aa5e0ae4deb4a10:-935867436,7d073655bf1441109859d9eda9984c1c:-1950002403,c8a672559d14411068ab984860cd85cb:705171691,8e56bad199144110e766b740d2f7f612:-1386652087,61c5fe9150144110a2904b80f47c2171:187173128,5031bed51cd0411064effddb02ce1950:1493778696,2121bad5a8d041104c1c93b14b495568:-2183915,c5ade2dd52904110de1309b9f255d408:1493778696,90ab34e303088d10027c512a1f412a2a:-7275896,c99bb0e3bd088d10c21c662ed0d217f2:-2016132133,105bb8a360088d10497b744a325a7811:-7275896,5b3b38a380088d102395f95e0d6e49c4:-2016132133,422bf0a308088d10010022a16a09580b:-7275896,902bb0a316088d10daf1b1e377ea87d4:-2016132133,7565b2c772800d107efda4f53e2032d9:-7275896,1035f64798800d10f2b41d3a46b72b81:-733437147,1fd43a87b3800d103c28d57d769a9c6b:1202847834,73747e4717800d10f515a7b0ba81b3ae:1923730956,9370c9b4e54449d0de1471e97ac5ff3a:736414914,086041b45f4449d0e438e307c378f78e:383974165,e37ff030694449d09e78202c05b36e92:736414914,917ffc30014449d060fcd1b673c8ceba:383974165,512ff47c800449d0322ecb9cef1cdbe6:736414914,f71f30bcc30449d09719aa7aeaeccd4b:383974165,96ce3cb85e0449d02aa174a16725281a:736414914,c7b74eec784009d0d69af0715af4ca54:269249108,e4a5c22ca84009d0c2f036e1b5794084:-954878383,69418224014009d04c6ad11c5c8bb19e:791315001,4e1106e0bd4009d05ba7209d20268c65:452193344,adc002a0df4009d0703b7ec1d4e296fd:1427869655,5030ce60094009d0fca5ec3c00739a17:-2059441879,b5efbd60bb4009d057be8d1ca0bdeb6d:-472893979,525fbd2c3e0009d0da00dd8c46b38fe0:231823898,8919bd643c0009d05d280673fe01581e:98144437,70f8b5e4670009d06d92969dda9c3f56:1081465785,76d835a4830009d0ed3e642082e693b9:1585280487,bd983964fe0009d03f169d4118cd0de6:1235220601,6b68bd641a0009d061bbe64baca3f931:1063521640,fe87b164600009d01d7977860fa6da16:57547023,b7477924d00009d0b9d927518ec32521:-1026971255,6437b124300009d0345c45b04ba24ba6:-1693118537,55177524b30009d0566ba8b661ab3129:702215886,15c675a0090009d0ef6f48158a64426c:-754099468,0706f1a0d20009d0155dae8905c52683:1903353647,32b571a0450009d06901c9580709cf06:-1635620589,bf95f9608c0009d05f131a4b7d947f4d:1805391041,1565bd6c5eccc5d0227ca11cce3625e0:-1828992497,1845f520c10009d07d52841605430dc6:1759384449,ca44b9aca2ccc5d04f5ffac4a0787169:68704456,734371a8faccc5d0434369c5dfb07f1e:-472154952,6792756c45ccc5d069ce092a65895b4c:1725387135,3be669a8458cc5d0f572ea339309d2fb:-1712050665,9e5625a8e28cc5d0c41cb7e4c2bef8f3:269592143,5b1629a8488cc5d0469d2cf39b4b74df:-1478409824,24a52d28cc8cc5d02f204c2748681487:1438484512,6ec469e4ea8cc5d07ab290bb6dbdec15:-1711615084,b7b42528e88cc5d01bd2d1dfa4166abc:-314720003,285429e4af8cc5d04d5cf72a34dc2aba:-1144658860,a7d3a5a46a8cc5d0b3890652fd4b0e23:-868289424</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_complex_object_f4f014150f023300ecf0cc52ff767eed</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_complex_object"><sys_complex_object action="INSERT_OR_UPDATE"><label/><name>FDCollection</name><namespace>FlowDesigner</namespace><scope_name>global</scope_name><serialized_content>{"FlowDesigner:FDCollection":{"$COCollectionField":[{"FDChangeDetails":{"previous_display_value":"String","previous_display_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Previous Display Value\",\"mandatory\":\"false\",\"order\":\"4\",\"max_length\":\"0\"}"},"previous_value":"String","previous_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Previous Value\",\"mandatory\":\"false\",\"order\":\"2\",\"max_length\":\"0\"}"},"current_display_value":"String","current_display_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Current Display Value\",\"mandatory\":\"false\",\"order\":\"5\",\"max_length\":\"0\"}"},"current_value":"String","current_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Current Value\",\"mandatory\":\"false\",\"order\":\"3\",\"max_length\":\"0\"}"},"field_name":"String","field_name.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Field Name\",\"mandatory\":\"false\",\"order\":\"1\",\"max_length\":\"0\"}"}}}],"$COCollectionField.$type_facets":{"SimpleMapFacet":"{\"pwd2droppable\":\"true\",\"default_value\":\"\",\"label\":\"Changed Fields\",\"mandatory\":\"false\",\"child_name\":\"FDChangeDetails\",\"uiTypeLabel\":\"Array.Object\",\"co_type_name\":\"FDCollection\",\"child_label\":\"FDChangeDetails\",\"child_type_label\":\"Object\",\"element_mapping_provider\":\"com.glide.flow_design.action.data.FlowDesignVariableMapper\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"array.object\",\"child_type\":\"object\",\"order\":\"100\",\"max_length\":\"4000\"}"},"$COCollectionField.$field_facets":{"SimpleMapFacet":"{\"up-shift-collection-level\":\"true\"}"}},"FlowDesigner:FDCollection.$type_facets":{"SimpleMapFacet":"{\"pwd2droppable\":\"true\",\"default_value\":\"\",\"label\":\"Changed Fields\",\"mandatory\":\"false\",\"child_name\":\"FDChangeDetails\",\"uiTypeLabel\":\"Array.Object\",\"co_type_name\":\"FDCollection\",\"child_label\":\"FDChangeDetails\",\"child_type_label\":\"Object\",\"element_mapping_provider\":\"com.glide.flow_design.action.data.FlowDesignVariableMapper\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"array.object\",\"child_type\":\"object\",\"order\":\"100\",\"max_length\":\"4000\"}"}}</serialized_content><sys_class_name>sys_complex_object</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-06-13 23:19:20</sys_created_on><sys_domain>global</sys_domain><sys_domain_path/><sys_id>f4f014150f023300ecf0cc52ff767eed</sys_id><sys_mod_count>169</sys_mod_count><sys_name>FDCollection</sys_name><sys_overrides/><sys_package display_value="Flow Designer Designer Model" source="com.glide.hub.designer_backend.model">97f8464adb872010d4f93fd3e2961955</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_complex_object_f4f014150f023300ecf0cc52ff767eed</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:39:03</sys_updated_on><type>complex_object_collection</type></sys_complex_object></record_update>]]></payload>
<payload_hash>-703914273</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4a4fa5d047b6851024307601e36d435a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337c9aa70000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>FDCollection</target_name>
<type>Complex Object</type>
<update_domain>global</update_domain>
<update_guid>8b37a097ec7bfc909f257befe7f0fb40</update_guid>
<update_guid_history>8b37a097ec7bfc909f257befe7f0fb40:-703914273,3e3760979c7bfc906815a97c9783bbe6:50094527,ed42c0804eb0f0500b15671690d262bd:-703914273,8142808099b0f0506a449afbdeb608e1:50094527,1612c4405ab0f050a8161c4e3cc65d4d:-703914273,a51284408cb0f05038e9ef0ed2bc5a3e:50094527,eac1c000e6b0f0507a426cf3a3484a54:-703914273,0ec18000dfb0f050b85edd6030bc5458:50094527,968ee2cb4ed8301020196eaacc2a4c5d:-703914273,6d8ea2cbdbd8301067a5d14619946b54:50094527,3482f2f2fcd83c50f66a081f683f8c85:-703914273,d882b2f2ecd83c5087d8a5c07b03c0b3:50094527,0722b2b26dd83c5051ab8f53dd3917d2:-703914273,562272b252d83c502e92ce3699d14eae:50094527,2171b23252d83c507f874814677eea1e:-703914273,017172329fd83c50a7dbbe8164c95a59:50094527,e57b6eb2ec983c50f5e18c9c4a76eb95:-703914273,f07b2eb29a983c5035eb70f316ac8577:50094527,30fa2a72bc983c503f685ea53954210c:-703914273,0cfae67219983c5050135187618b1d69:50094527,28daae32f5983c5095c00ac9cf4499cd:-703914273,ffca6e3236983c50353f169d5f0d26b0:50094527,df08639a144cfc10a7c803ee1b545443:-703914273,3e08239a884cfc10a8946b3ce51dbfa1:50094527,ae875312570cfc1094aad6524bf74ab9:-703914273,c6875312660cfc10920908f6cb660011:50094527,b1361f5e2cc8fc10fb81be99f081bc84:-703914273,5136db5eb4c8fc10a493181956e3a2d4:50094527,2fc88b4ae244bc10dc36cad6a393839c:-703914273,87c88b4ad944bc100cc40581574f5f0a:50094527,be89a24e724c7c108b86c25668098345:-703914273,5a89624efb4c7c106131cdf6083ea5a0:50094527,a9f502463f00bc10aaf6f896f8e85981:-703914273,c1f5ce061900bc10e6ddcbd2d82a8c9f:50094527,2736e08a71087c106a305e3088c3b5ac:-703914273,8b36a08a25087c1047cd2aa74dbe47f2:50094527,87e784ca45447c10e2643d7530a80e9d:-703914273,e6e784ca6e447c10358ca484bc92b902:50094527,e5b700cace447c10269a75cb3590f957:-703914273,41b7cc8aa4447c10fcae835f1cac4fb1:50094527,ae1771b1d4883c10cf758721be7849bd:-703914273,1e1771b13e883c10fefdd9697de19616:50094527,18e6397180883c105fda2201fdb16233:-703914273,7fd6f57182883c104729388619bdd782:50094527,2996f931ec883c10d2088dedb4c4f3b7:-703914273,0d96b93100883c10dd5633f3a24937f0:50094527,601eb0698240f81093b453b942d5e280:-703914273,4c1e70694040f810c7ee1d462f264b87:50094527,f3cd7429e340f810cc9ae9df0e64fbe6:-703914273,5bcd74295240f81053e1a9d850832f29:50094527,f447b46da200f810685ff5270c4d7685:-703914273,1847746d2100f81045798dcc4a1a4de8:50094527,804f8c69294cb810128602053caa4ca1:-703914273,a33f4c698d4cb81038dfd0e523cdf8f7:50094527,b83f8869514cb81026dd4c21b2d71b2a:-703914273,2c3f4869da4cb8109bb6035a0b075393:50094527,56db29d5eccc781079aef14541d13b3c:-703914273,8edbe5d58bcc7810b5572acbe6d2d6a9:50094527,dd8b2d95dbcc7810d5f5c4b91545c90b:-703914273,418be99562cc781009af500989172855:50094527,fa87eddd868c781073ade95f678fc257:-703914273,e687adddbd8c7810426471086216aec1:50094527,9f8b0cd43380341070153c9ba2a5426d:-703914273,0b8bc8d489803410e52b568249b2f5f0:50094527,fac1e70ce9c834108a7e36c948621bdb:-703914273,d2c1e70c45c834104ff83a859a7fd163:50094527,bbfc17442fc834104907a4f5decaaf03:-703914273,e3fcd344cac83410be479418bbaf2437:50094527,6ffcd34481c83410bfa7998409bfd135:-703914273</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_source_key</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_source_key" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function calculatedFieldValue(current) {

	var sourceKeys = [];
	var tAlert = new GlideRecord('em_alert');
	tAlert.addQuery('sys_id',"=",current.u_test_alert);
	tAlert.query();
	
	while(tAlert.next()) {
		var info = tAlert.additional_info;
	}
	
	var parser = new JSONParser();
	var data = parser.parse(info);
	data = JSON.flatten(data);
	var key;
	for (key in data) {
		sourceKeys.push(key);
	}
	
	return sourceKeys;  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field&gt;category&lt;/choice_field&gt;&lt;choice_table/&gt;&lt;column_label&gt;Source Key&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;true&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_source_key&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;100&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:04:34&lt;/sys_created_on&gt;&lt;sys_id&gt;db7377121bb3b890d575979cbc4bcbda&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;Source Key&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_source_key&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:25:14&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>341175063</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4e4f2dd047b6851024307601e36d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d336ff5250000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Key</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>bc142013f17bfc9061f381cfe44e74d1</update_guid>
<update_guid_history>bc142013f17bfc9061f381cfe44e74d1:341175063,090abb9a35b3b8905d445aa8abcacd1c:-1800938680,c028f71ab0b3b89082fe514f1b96b550:149085646,cdc7bbd679b3b890d562c5a70f704838:175424729,da3673565fb3b8908862fd7a6853a1dd:-1434138631,a9f5bb16b4b3b8902c14696a1d51b661:-1321125070,d6d573168bb3b890efb69561efcb2e52:1937342178,dd657bd25ab3b890a1438580a3183a68:-469196903,ea15ff9234b3b8906c0f67844ae6aa57:1609538184</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_regex_transform_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_regex_transform" label="Regex Transform" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_regex_transform</element><help/><hint/><label>Regex Transform</label><language>en</language><name>u_alert_tag_normalization</name><plural>Regex Transforms</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 18:25:38</sys_created_on><sys_id>4d710a241b4009d0d575979cbc4bcbbb</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Regex Transform</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_regex_transform_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 18:25:38</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>677140509</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4e4f2dd047b6851024307601e36d4366</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48e57a6f0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Regex Transform</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>45710a24d54009d0b066dbd63bb731fb</update_guid>
<update_guid_history>45710a24d54009d0b066dbd63bb731fb:677140509</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_077df0741b0449d0d575979cbc4bcbc8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
	var value;
	if(g_form.getValue('u_test_value')) {
		value = g_form.getValue('u_test_value');
	}
	
	g_form.setValue("u_test_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:07:09&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;077df0741b0449d0d575979cbc4bcbc8&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_077df0741b0449d0d575979cbc4bcbc8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:07:44&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>582621697</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4e4f2dd047b6851024307601e36d4369</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77d31d380000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>1fdc346719088d1063dea05c9fa30395</update_guid>
<update_guid_history>1fdc346719088d1063dea05c9fa30395:582621697,20dcf0671a088d103525495d4a7e42e5:1273396014,3f8c3c27e1088d1069af755924ab7b0b:582621697,6f0cfce39a088d10e56823c72c47e23e:1273396014,98f8386f6cc48d10ea444fbf78bb3c9f:582621697,5058f06f74c48d103aa2b3e13f028f85:1195763263,1828746f60c48d1079026d9baaff57ac:619290892,9370c9b4204449d0a23686d8db26c536:1195763263,086041b4724449d0341a05cf42ce8d8a:619290892,318ffc309e4449d09594eaa24eb81ce8:1195763263,917ffc30634449d0c838f56042d40cbe:619290892,4d3fb47c7c0449d0abe9584afa667fb7:1195763263,f92ff0fc2b0449d00f8763e4928acaf0:619290892,905eb4b8870449d0a689122b220e1a54:1195763263,3c4e34f4880449d0aaa34daa2f61aa92:619290892,7badb0b4390449d03aa0a6f3d8a80bf4:793566588,c37df074970449d086a860958633daca:-121777489</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_409b7b9f1b408d10d575979cbc4bcbb3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value - addl info OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onLoad() {
	if(g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field') {
		return;		
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
//	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 16:22:25&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;409b7b9f1b408d10d575979cbc4bcbb3&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value - addl info OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_409b7b9f1b408d10d575979cbc4bcbb3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:08:20&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>851309319</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4e4f2dd047b6851024307601e36d436c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d919377d10000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value - addl info OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>85fcae0d185809504903575ca4d1dce7</update_guid>
<update_guid_history>85fcae0d185809504903575ca4d1dce7:851309319,07bc3067dc088d104f97faccfee225ed:180015666,3b9a746307088d108b200fea33b68bcf:-1753196257,5d9a7cef96c48d1067b382fddee83cdf:180015666,25a7342f25c48d10a7ae03a38056fb3c:-1753196257,606770eb38c48d10213368aea14e5807:-762346521,c89b7b9fbf408d10236c6259700d76b6:185013772</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_6eb7302f1bc48d10d575979cbc4bcb89</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_raw_value&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field' || g_form.getValue('u_regex_transform') === true) {
		return;
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 20:45:17&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;6eb7302f1bc48d10d575979cbc4bcb89&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_6eb7302f1bc48d10d575979cbc4bcb89&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:19:14&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2052415434</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4e4f2dd047b6851024307601e36d436f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95b126c70000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>4c64badd91d0411096e214e8574573c2</update_guid>
<update_guid_history>4c64badd91d0411096e214e8574573c2:-2052415434,4991be1982d041100a344192ea422740:163934761,4581fa19c7d0411092b2b3bdeb502328:-2052415434,ac61fed565d041108ac1837d1c1631d3:163934761,8110725595d04110cf05992519e7e1dc:-2052415434,900e6611cdd041101340097098b81d93:332545241,d1abbca30c088d1063280e8af870b4b5:-558575994,d33bf4a339088d10f4f242344d509259:332545241,93caf86348088d10fc8fb27e91927fec:-558575994,bccaf0638f088d1008fea2132228a93c:332545241,14d7342f35c48d10a1e86da5c793f630:-558575994,62b7302f92c48d1022091e02245e7a8c:-316302327</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_module_1d36e4531b7bfc90d575979cbc4bcb35</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Event Management">c1e9a9d5ff023100995cffffffffff60</application><assessment/><device_type/><filter table="u_alert_tag_normalization">u_active=true^EQ<item endquery="false" field="u_active" goto="false" newquery="false" operator="=" or="false" value="true"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint>Tag Normalization Strategy</hint><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Alert Tag Normalization</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>u_alert_tag_normalization</name><order>75.5</order><override_menu_roles>false</override_menu_roles><query/><report/><roles>evt_mgmt_admin</roles><sys_class_name>sys_app_module</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-18 14:35:29</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>1d36e4531b7bfc90d575979cbc4bcb35</sys_id><sys_mod_count>5</sys_mod_count><sys_name>Alert Tag Normalization</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_module_1d36e4531b7bfc90d575979cbc4bcb35</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 16:03:12</sys_updated_on><timeline_page/><title>Alert Tag Normalization</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<payload_hash>-1123703939</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>4e4fa5d047b6851024307601e36d4359</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d33c9a5790000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>b37af017d3fbfc904357840eaa38e5ea</update_guid>
<update_guid_history>b37af017d3fbfc904357840eaa38e5ea:-1123703939,99eaacd73efb7c904c64a7f649530628:-1264381985,80f66057757bfc905297259dadda7e27:1061041659,f2c6ac17c27bfc90543c60727618c7ea:1209215057,e8a6e817227bfc90309a3f2dc40dec75:82104380,3a66e8d31d7bfc9016610d00645398d8:1209215057</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_d1f8f39a1bb3b890d575979cbc4bcbb8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Flattened Data&lt;/description&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Flattened Data&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '')
		return;
	var info = g_form.getReference("u_test_alert").additional_info;
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var data_string = JSON.stringify(data);
	
	g_form.setValue("u_flattened_data", data_string);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:25:35&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d1f8f39a1bb3b890d575979cbc4bcbb8&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Flattened Data&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_d1f8f39a1bb3b890d575979cbc4bcbb8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 03:46:46&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>2117936572</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>524f2dd047b6851024307601e36d4372</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26dab1070000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Flattened Data</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>2ccebf9243f3b89023ae00bd572097eb</update_guid>
<update_guid_history>2ccebf9243f3b89023ae00bd572097eb:2117936572,228e77d2b9f3b890661dc26c62b6b521:-297628260,ca4ebf9216f3b890bc25f9b16749e486:1017968236,631dfb1223f3b8902f8608a99b05c66b:-1935874890,d8bbb75e27b3b890489a225d47c82bab:-322919022,d4baffda33b3b89084cfd866fab110b9:-410035185,1ee9b35aafb3b8905fd73da5c880c975:-1406172186</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_fde693cb1b440d10d575979cbc4bcb37</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex (flag)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:03:47&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;fde693cb1b440d10d575979cbc4bcb37&lt;/sys_id&gt;&lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex (flag)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_fde693cb1b440d10d575979cbc4bcb37&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:49&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1549945303</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>524f2dd047b6851024307601e36d4373</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e66afe0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex (flag)</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>48b1892fba088d1086ca4c26bc78ebe8</update_guid>
<update_guid_history>48b1892fba088d1086ca4c26bc78ebe8:1549945303,dc5e7ca773088d103101cca97bb04e49:-1768212289,f34e78e74e088d10439849bc52560015:-1532698740,2c4e70e7ec088d10976728cfe652c5f8:-1768212289,14cd3ca7a5088d10e15691e75784b7ea:-1532698740,52db34e366088d10209efb439bdb1877:-1768212289,1babb4e39d088d10e4cc9572a4f9cf35:1732061306,269bf0e3e0088d105bc5192bb5b88680:90432071,8e7b34a3f8088d100ccd0d9f457e13bb:1732061306,ce6b70a3b5088d1031cbe3747ccd7564:90432071,a75bf8a313088d103c35f5b87e91dc96:1732061306,5b3b38a341088d105ef508fc0b0d7fb4:90432071,b20bf0a3e1088d10c7aef1907c3a3404:1732061306,780bf86346088d10ee4be8fc09bceb9d:90432071,b6f6d7cbd8440d107132c827e0891d00:1732061306,bde693cb30440d104aefb68a5efb5739:1380824611</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_a06025ec1b4cc5d0d575979cbc4bcb15</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;conditions table="u_alert_tag_normalization"&gt;u_source_key_type=alert_additional_info^EQ&lt;item display_value="Alert additional info" endquery="false" field="u_source_key_type" goto="false" newquery="false" operator="=" or="false" value="alert_additional_info"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/conditions&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;100&lt;/order&gt;&lt;reverse_if_false&gt;false&lt;/reverse_if_false&gt;&lt;run_scripts&gt;true&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;ATN addl info source type&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 16:01:08&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a06025ec1b4cc5d0d575979cbc4bcb15&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN addl info source type&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_a06025ec1b4cc5d0d575979cbc4bcb15&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 16:12:30&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>-782468211</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>524f2dd047b6851024307601e36d4376</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d486b98dd0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN addl info source type</target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>c3f2ed24988cc5d0a72606d8680425b4</update_guid>
<update_guid_history>c3f2ed24988cc5d0a72606d8680425b4:-782468211,a0606520978cc5d0119c2d79a6bd13df:-511189206</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_fdc069201b8cc5d0d575979cbc4bcb59</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;false&lt;/on_load&gt;&lt;order&gt;200&lt;/order&gt;&lt;reverse_if_false&gt;false&lt;/reverse_if_false&gt;&lt;run_scripts&gt;true&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;ATN no source type&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 16:02:52&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;fdc069201b8cc5d0d575979cbc4bcb59&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN no source type&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_fdc069201b8cc5d0d575979cbc4bcb59&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 16:24:43&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>513934443</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>524f2dd047b6851024307601e36d4379</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d76d001b70000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN no source type</target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>a91c7b9f58408d10b1e96c0ba67ed992</update_guid>
<update_guid_history>a91c7b9f58408d10b1e96c0ba67ed992:513934443,b4236964c58cc5d0159757960b6ed3af:653215994,ee11a960068cc5d0205812260d49bbda:-1857640026,39c069206f8cc5d001e62d5937f2da5b:-780409341</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_a9579f4b1b440d10d575979cbc4bcbbe</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field' || g_form.getValue('u_test_value')!=='') {
		return;		
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:05:40&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a9579f4b1b440d10d575979cbc4bcbbe&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_a9579f4b1b440d10d575979cbc4bcbbe&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:02:24&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1054849014</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>564f2dd047b6851024307601e36d4371</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77ce3b870000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>91ab34e331088d10cba2bea3d533219a</update_guid>
<update_guid_history>91ab34e331088d10cba2bea3d533219a:1054849014,5b3b38a368088d10a5d2c1e6138621b0:1446090435,140b30a337088d104014843454247b59:1054849014,52faf863d7088d10f660edc381780ff3:1446090435,59d7dfcb41440d1013d38545a8a3b0a0:1054849014,2957530ffe440d101bad1082c1f41f64:-1603241223</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_application_4df2b3de1b73b890d575979cbc4bcb55</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_application"><sys_ui_application action="INSERT_OR_UPDATE"><active>true</active><hint/><name>Alert Tag Normalization</name><order/><roles>u_alert_tag_normalization_user</roles><sys_class_name>sys_ui_application</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:11</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>4df2b3de1b73b890d575979cbc4bcb55</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Alert Tag Normalization</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_application_4df2b3de1b73b890d575979cbc4bcb55</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:11</sys_updated_on></sys_ui_application></record_update>]]></payload>
<payload_hash>1789603606</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>564f2dd047b6851024307601e36d4375</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab78730000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>Alert Tag Normalization</target_name>
<type>Application Menu</type>
<update_domain>global</update_domain>
<update_guid>c1f2b3ded273b89091b623a5d6507958</update_guid>
<update_guid_history>c1f2b3ded273b89091b623a5d6507958:1789603606</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_df3342281b4009d0d575979cbc4bcbbd</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_regex_function</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 18:33:37</sys_created_on><sys_id>df3342281b4009d0d575979cbc4bcbbd</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_regex_function</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_df3342281b4009d0d575979cbc4bcbbd</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 18:33:37</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="Hide Regex Function">d82302a41b4009d0d575979cbc4bcb4a</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>2144739542</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>564f2dd047b6851024307601e36d4378</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48ecc8c30000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_regex_function</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>4a434ee4854009d0abf2a508def06364</update_guid>
<update_guid_history>4a434ee4854009d0abf2a508def06364:2144739542</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_89f2b3de1b73b890d575979cbc4bcb65</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:11</sys_created_on><sys_id>89f2b3de1b73b890d575979cbc4bcb65</sys_id><sys_mod_count>1</sys_mod_count><sys_name>u_alert_tag_normalization.evt_mgmt_admin</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_alert_tag_normalization">8df2b3de1b73b890d575979cbc4bcb5c</sys_security_acl><sys_update_name>sys_security_acl_role_89f2b3de1b73b890d575979cbc4bcb65</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:33:30</sys_updated_on><sys_user_role display_value="evt_mgmt_admin" name="evt_mgmt_admin">600be631eb12110045e1a5115206fe38</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>-811151437</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>5a4f2dd047b6851024307601e36d4374</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d3377830e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization.evt_mgmt_admin</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>25f568d3bf7bfc90ad1382bf062f7b38</update_guid>
<update_guid_history>25f568d3bf7bfc90ad1382bf062f7b38:-811151437,c1f2b3dedc73b890c3b7d967dfdd056a:-1341563460</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_c77069201b8cc5d0d575979cbc4bcbb8</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_source_key</field><mandatory>true</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 16:01:44</sys_created_on><sys_id>c77069201b8cc5d0d575979cbc4bcbb8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_source_key</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_c77069201b8cc5d0d575979cbc4bcbb8</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 16:01:44</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN addl info source type">a06025ec1b4cc5d0d575979cbc4bcb15</ui_policy><visible>true</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>-1767941781</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>5a4f2dd047b6851024307601e36d4377</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4861bc780000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_source_key</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>5d806920278cc5d0b9e6415446019654</update_guid>
<update_guid_history>5d806920278cc5d0b9e6415446019654:-1767941781</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_c1f2b3de1b73b890d575979cbc4bcb6b</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_alert_tag_normalization</description><name>u_alert_tag_normalization</name><operation display_value="read">read</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:11</sys_created_on><sys_id>c1f2b3de1b73b890d575979cbc4bcb6b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_alert_tag_normalization</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_c1f2b3de1b73b890d575979cbc4bcb6b</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:11</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>2035667093</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>5e4f2dd047b6851024307601e36d4373</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab7aa60000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>05f2b3de3a73b890468d56050e17738a</update_guid>
<update_guid_history>05f2b3de3a73b890468d56050e17738a:2035667093</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_812e92e01b0409d0d575979cbc4bcb28</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_regex_new_value</field><mandatory>true</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:31:04</sys_created_on><sys_id>812e92e01b0409d0d575979cbc4bcb28</sys_id><sys_mod_count>2</sys_mod_count><sys_name>u_regex_new_value</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_812e92e01b0409d0d575979cbc4bcb28</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:31:14</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN regex">dad146641b4009d0d575979cbc4bcb89</ui_policy><visible>true</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>1886648739</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>5e4f2dd047b6851024307601e36d4376</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4958774e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_regex_new_value</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>703e52605a0409d0c4c1ec9afb32a8d8</update_guid>
<update_guid_history>703e52605a0409d0c4c1ec9afb32a8d8:1886648739,983ed2e0e40409d07b5f242d0687fed1:1437939871,ee2e1aa0ef0409d0372a2f23be88f49d:784769755</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_comments_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_comments" label="Comments" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_comments</element><help/><hint/><label>Comments</label><language>en</language><name>u_alert_tag_normalization</name><plural>Comments</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 03:51:42</sys_created_on><sys_id>74ef7b561bf3b890d575979cbc4bcb67</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Comments</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_comments_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 03:51:42</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>911296794</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>824f2dd047b6851024307601e36d4365</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26df37070000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Comments</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>bcef7b5671f3b890cada12d200d56770</update_guid>
<update_guid_history>bcef7b5671f3b890cada12d200d56770:911296794</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_hub_action_type_definition_ee2388aa1bf3b890d575979cbc4bcb54</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_hub_action_type_definition"&gt;&lt;sys_hub_action_type_definition action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;action_template/&gt;&lt;active&gt;true&lt;/active&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description&gt;Write ATN BR&lt;/description&gt;&lt;ih_action&gt;false&lt;/ih_action&gt;&lt;internal_name&gt;write_atn_br&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"{{action._}}","label":"action➛","type":"action","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].variable}}","label":"Write BR Scriptstep➛➛variable","type":"step","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}","label":"Write BR Scriptstep➛➛script","type":"step","ref":""}]&lt;/label_cache&gt;&lt;master_snapshot&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/master_snapshot&gt;&lt;name&gt;Write ATN BR&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;outputs/&gt;&lt;state&gt;published&lt;/state&gt;&lt;sys_class_name&gt;sys_hub_action_type_definition&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:06:01&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/sys_id&gt;&lt;sys_mod_count&gt;546&lt;/sys_mod_count&gt;&lt;sys_name&gt;Write ATN BR&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_hub_action_type_definition_ee2388aa1bf3b890d575979cbc4bcb54&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-04-06 19:51:54&lt;/sys_updated_on&gt;&lt;system_level&gt;false&lt;/system_level&gt;&lt;type/&gt;&lt;/sys_hub_action_type_definition&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=ee2388aa1bf3b890d575979cbc4bcb54"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=ee2388aa1bf3b890d575979cbc4bcb54"/&gt;&lt;sys_element_mapping action="delete_multiple" query="id=ee2388aa1bf3b890d575979cbc4bcb54"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;script&lt;/field&gt;&lt;id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:55&lt;/sys_created_on&gt;&lt;sys_id&gt;33b4c86e1bf3b890d575979cbc4bcb42&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:55&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54&lt;/table&gt;&lt;value&gt;{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT IN1194846e1bf3b890d575979cbc4bcb7a"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/action&gt;&lt;cid&gt;7af21b36-f34e-4789-b9f3-bb813a1eb0cc&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;label&gt;Write BR Script&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="Script"&gt;106afb6647032200b4fad7527c9a71e7&lt;/step_type&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/sys_id&gt;&lt;sys_mod_count&gt;142&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-04-06 19:51:53&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=1194846e1bf3b890d575979cbc4bcb7a"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;1d94846e1bf3b890d575979cbc4bcb8f&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:13&lt;/sys_updated_on&gt;&lt;value&gt;35aa573fd7802200bdbaee5b5e610375&lt;/value&gt;&lt;variable display_value="MID Application"&gt;f5e56d79b3101300176b051a16a8dce4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/document_key&gt;&lt;order&gt;600&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;d594846e1bf3b890d575979cbc4bcb90&lt;/sys_id&gt;&lt;sys_mod_count&gt;137&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-04-06 19:51:53&lt;/sys_updated_on&gt;&lt;value&gt;JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &amp;gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&amp;lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function execute(inputs, outputs) {
	var norm_obj = {};
  	var source_norm_obj = {};
  	var full_source_norm_obj = {};
    var field_norm_obj = {};
    var source_field_norm_obj = {};
    var rx_obj = {};
    var source_rx_obj = {};
    var field_rx_obj = {};
    var source_field_rx_obj = {};  
  	var source_rx_inside = {};
  	var source_field_rx_inside = {}; 
  
  // norm object for non-source-specific additional_info-based normalization policies    
  	var normsGR = new GlideRecord('u_alert_tag_normalization');
	normsGR.addQuery('u_active',"=",true);
	normsGR.addQuery('u_source_key_type',"=","alert_additional_info");    
  	normsGR.addNullQuery('u_applies_to_source');
  	normsGR.orderByDesc('u_normalized_key');
	normsGR.query();
	var sourceKey;
  	var normKey;
  	var norm_rx = {};
  	var norm_rx_inside = {};
  	var norm_inside = {};
    while(normsGR.next()) {
      sourceKey = normsGR.u_source_key;
      normKey = normsGR.u_normalized_key;

      if(normsGR.u_regex_transform) {
      	norm_rx_inside["regex"] = "/" + normsGR.u_regex_function + "/, " + normsGR.u_regex_new_value;
        norm_rx[normKey] = norm_rx_inside;
        norm_inside[sourceKey] = norm_rx;           
      } else {
        norm_rx[normKey] = {};
        norm_inside[sourceKey] = norm_rx;       
      }
      norm_rx_inside = {};
    }
  
  norm_obj = JSON.stringify(norm_inside);
  // norm object for source-specific additional_info-based normalization policies  
  var sourceNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceNormsGR.addQuery('u_active',"=",true);
	sourceNormsGR.addQuery('u_source_key_type',"=","alert_additional_info");  
  	sourceNormsGR.addNotNullQuery('u_applies_to_source');
	sourceNormsGR.orderBy('u_applies_to_source');
  	sourceNormsGR.orderByDesc('u_normalized_key');
	sourceNormsGR.query();
  	var source;
  	var i = 0;
  
    while(sourceNormsGR.next()) { 
        source = sourceNormsGR.u_applies_to_source;
        sourceKey = sourceNormsGR.u_source_key;
        normKey = sourceNormsGR.u_normalized_key;
        var source_norm_inside = {};
        source_rx_inside = {};
        var source_rx = {};
      	if(full_source_norm_obj.hasOwnProperty(source)) {
		  	source_norm_inside = full_source_norm_obj[source]; //name
        }
      	if(source_norm_inside.hasOwnProperty(sourceKey)) {
        	source_rx = source_norm_inside[sourceKey]; //location
        }
      	if(sourceNormsGR.u_regex_transform) {
                source_rx_inside["regex"] = "/" + sourceNormsGR.u_regex_function + "/, '" + sourceNormsGR.u_regex_new_value + "'";
          		source_rx[normKey] = source_rx_inside;
                source_norm_inside[sourceKey] = source_rx;               	  
            } else { 
          		source_rx[normKey] = {};
                source_norm_inside[sourceKey] = source_rx; 
            }  
          	full_source_norm_obj[source] = source_norm_inside;         
      	
      	source_norm_inside = {};
      	source_rx = {};
      	source_rx_inside = {};
    }
  
  full_source_norm_obj = JSON.stringify(full_source_norm_obj);
  
  // norm object for non-source-specific field-based normalization policies
  
    var fieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	fieldNormsGR.addQuery('u_active',"=",true);
	fieldNormsGR.addQuery('u_source_key_type',"=","alert_field");    
  	fieldNormsGR.addNullQuery('u_applies_to_source');
  	fieldNormsGR.orderByDesc('u_normalized_key');  
	fieldNormsGR.query();
  	var field_norm_rx = {};
  	var field_norm_rx_inside = {};
  	var field_norm_inside = {};  
  
    while(fieldNormsGR.next()) {
      	var fNDictGR = new GlideRecord('sys_dictionary');
      	fNDictGR.addQuery('sys_id', '=', fieldNormsGR.u_source_alert_field.getValue());
        fNDictGR.query();
      	while(fNDictGR.next()) {
	        sourceKey = fNDictGR.element;
        }
      normKey = fieldNormsGR.u_normalized_key;
      if(fieldNormsGR.u_regex_transform) {
      	field_norm_rx_inside["regex"] = "/" + fieldNormsGR.u_regex_function + "/, " + fieldNormsGR.u_regex_new_value;
        field_norm_rx[normKey] = field_norm_rx_inside;
        field_norm_inside[sourceKey] = field_norm_rx;           
      } else {
        field_norm_rx[normKey] = {};
        field_norm_inside[sourceKey] = field_norm_rx;       
      }
      field_norm_inside = {};
    }
  
  field_norm_obj = JSON.stringify(field_norm_inside);
  
  // norm object for source-specific field-based normalization policies
  var sourceFieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceFieldNormsGR.addQuery('u_active',"=",true);
	sourceFieldNormsGR.addQuery('u_source_key_type',"=","alert_field");  
  	sourceFieldNormsGR.addNotNullQuery('u_applies_to_source');
	sourceFieldNormsGR.orderBy('u_applies_to_source');
  	sourceFieldNormsGR.orderByDesc('u_normalized_key'); 
	sourceFieldNormsGR.query();
  	i = 0;
  	var source_field_norm_inside = {};
    source_field_rx_inside = {};
    var source_field_rx = {};
    while(sourceFieldNormsGR.next()) { 
        source = sourceFieldNormsGR.u_applies_to_source;
      	var sFNDictGR = new GlideRecord('sys_dictionary');
      	sFNDictGR.addQuery('sys_id', '=', sourceFieldNormsGR.u_source_alert_field.getValue());
        sFNDictGR.query();
      	while(sFNDictGR.next()) {
	        sourceKey = sFNDictGR.element;
        }
        normKey = sourceFieldNormsGR.u_normalized_key;
				
      	if(source_field_norm_obj.hasOwnProperty(source)) {
		  	source_field_norm_inside = source_field_norm_obj[source];
        }
      	if(sourceFieldNormsGR.u_regex_transform) {
                source_field_rx_inside["regex"] = "/" + sourceFieldNormsGR.u_regex_function + "/, '" + sourceFieldNormsGR.u_regex_new_value + "'";
          		source_field_rx[normKey] = source_field_rx_inside;
                source_field_norm_inside[sourceKey] = source_field_rx;               	  
            } else { 
          		source_field_rx[normKey] = {};
                source_field_norm_inside[sourceKey] = source_field_rx; 
            }  
          	source_field_norm_obj[source] = source_field_norm_inside;         
      	
      	source_field_norm_inside = {};
      source_field_rx_inside = {};
    }
  
  source_field_norm_obj = JSON.stringify(source_field_norm_obj);
  rx_obj = JSON.stringify(rx_obj);  
  source_rx_obj = JSON.stringify(source_rx_obj);  
  source_field_rx_obj = JSON.stringify(source_field_rx_obj);  
  field_rx_obj = JSON.stringify(field_rx_obj);   
  
  //compose script
  
  
  var script = '';
  
  script = 'JSON.unflatten = function(data) {\
    "use strict";\
    if (Object(data) !== data || Array.isArray(data))\
        return data;\
    var result = {}, cur, prop, idx, last, temp;\
    for(var p in data) {\
        cur = result, prop = "", last = 0;\
        do {\
            idx = p.indexOf(".", last);\
            temp = p.substring(last, idx !== -1 ? idx : undefined);\
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));\
            prop = temp;\
            last = idx + 1;\
        } while(idx &amp;gt;= 0);\
        cur[prop] = data[p];\
    }\
    return result[""];\
};\
\
JSON.flatten = function(data) {\
    var result = {};\
    function recurse (cur, prop) {\
        if (Object(cur) !== cur) {\
            result[prop] = cur;\
        } else if (Array.isArray(cur)) {\
             for(var i=0, l=cur.length; i&amp;lt;l; i++)\
                 recurse(cur[i], prop ? prop+"."+i : ""+i);\
            if (l == 0)\
                result[prop] = [];\
        } else {\
            var isEmpty = true;\
            for (var p in cur) {\
                isEmpty = false;\
                recurse(cur[p], prop ? prop+"."+p : p);\
            }\
            if (isEmpty)\
                result[prop] = {};\
        }\
    }\
    recurse(data, "");\
    return result;\
};\
\
(function executeRule(current, previous /*null when async*/ ) {\
';
script = script + '\	var norm_obj = ' + norm_obj + ';\
';
script = script + '\	var source_norm_obj = ' + full_source_norm_obj + ';\
'; 
script = script + '\	var field_norm_obj = ' + field_norm_obj + ';\
';
script = script + '\	var source_field_norm_obj = ' + source_field_norm_obj + ';\
';

script = script +'\    var info = current.additional_info;\
	var formatRx = new RegExp(/\\\/(.*)\\\/, \'(.*)\'/);\
	var newKey;\
	var newValue;\
    info = info.replace(/\\|/g, "~");\
    info = info.replace(/\\./g, "|");\
    var parser = new JSONParser();\
    var data = parser.parse(info);\
    data = JSON.flatten(data);\
    var key;\
    var nKey;\
	var tags_obj = {};\
    for (key in norm_obj) {\
        if (data.hasOwnProperty(key)) {\
            var nInside = norm_obj[key];\
            for (nKey in nInside) {\
                newKey = nKey;\
                newValue = data[key];\
                var att = nInside[nKey];\
                if (att) {\
                    var rx = att["regex"];\
                    if (rx) {\
                        var rxMatch = formatRx.exec(rx);\
                        var rxFunc = new RegExp(rxMatch[1], "gm");\
                        var rxTest = rxFunc.test(newValue);\
                        var rxRep = rxMatch[2];\
                        if (rxMatch &amp;amp;&amp;amp; rxTest) {\
                            newValue = newValue.replace(rxFunc, rxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
    var source = current.source;\
    if (source_norm_obj.hasOwnProperty(source)) {\
        var sourceNorm = source_norm_obj[source];\
        sourceNorm = JSON.stringify(sourceNorm);\
        sourceNorm = parser.parse(sourceNorm);\
        var sKey;\
        var sNKey;\
        for (sKey in sourceNorm) {\
            if (data.hasOwnProperty(sKey)) {\
                var sNInside = sourceNorm[sKey];\
                for (sNKey in sNInside) {\
                    newKey = sNKey;\
                    newValue = data[sKey];\
                    var sAtt = sNInside[sNKey];\
                    if (sAtt) {\
                        var sRx = sAtt["regex"];\
                        if (sRx) {\
                            var sRxMatch = formatRx.exec(sRx);\
                            var sRxFunc = new RegExp(sRxMatch[1], "gm");\
                            var sRxTest = sRxFunc.test(newValue);\
                            var sRxRep = sRxMatch[2];\
                            if (sRxMatch &amp;amp;&amp;amp; sRxTest) {\
                                newValue = newValue.replace(sRxFunc, sRxRep);\
                            } else {\
                                newValue = null;\
                            }\
                        }\
                    }\
                    if (newValue) {\
                        data[newKey] = newValue.toLowerCase();\
						tags_obj[newKey] = newValue.toLowerCase();\
                    }\
                }\
            }\
        }\
    }\
\
    var fKey;\
    var fNKey;\
    for (fKey in field_norm_obj) {\
        if (current.getValue(fKey)) {\
            var fNInside = field_norm_obj[fKey];\
            for (fNKey in fNInside) {\
                newKey = fNKey;\
                newValue = current.getValue(fKey);\
                var fAtt = fNInside[fNKey];\
                if (fAtt) {\
                    var fRx = fAtt["regex"];\
                    if (fRx) {\
                        var fRxMatch = formatRx.exec(fRx);\
                        var fRxFunc = new RegExp(fRxMatch[1], "gm");\
                        var fRxTest = fRxFunc.test(newValue);\
                        var fRxRep = fRxMatch[2];\
                        if (fRxMatch &amp;amp;&amp;amp; fRxTest) {\
                            newValue = newValue.replace(fRxFunc, fRxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
   if (source_field_norm_obj.hasOwnProperty(source)) {\
        var sourceFieldNorm = source_field_norm_obj[source];\
        sourceFieldNorm = JSON.stringify(sourceFieldNorm);\
        sourceFieldNorm = parser.parse(sourceFieldNorm);\
        var sFKey;\
		var sFNKey;\
        for (sFKey in sourceFieldNorm) {\
            if (current.getValue(sFKey)) {\
				var sFNInside = sourceFieldNorm[sFKey];\
				for (sFNKey in sFNInside) {\
                newKey = sFNKey;\
                newValue = current.getValue(sFKey);\
				var sFAtt = sFNInside[sFNKey];\
				if(sFAtt) {\
					var sFRx = sFAtt["regex"];\
					if (sFRx) {\
						var sFRxMatch = formatRx.exec(sFRx);\
						var sFRxFunc = new RegExp(sFRxMatch[1], "gm");\
						var sFRxTest = sFRxFunc.test(newValue);\
						var sFRxRep = sFRxMatch[2];\
						if (sFRxMatch &amp;amp;&amp;amp; sFRxTest) {\
							newValue = newValue.replace(sFRxFunc, sFRxRep);\
						} else {\
							newValue = null;\
						}\
						}\
					}\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
				}\
            }\
        }\
    }\
	data["itom_tags"] = tags_obj;\
    data = JSON.unflatten(data);\
    var ai_string = JSON.stringify(data, null, "	");\
    ai_string = ai_string.replace(/\\|/g, ".");\
    ai_string = ai_string.replace(/~/g, "|");\
    current.additional_info = ai_string;\
    current.update();\
\
})(current, previous);\
';

  outputs.script = script;
}) (inputs, outputs);&lt;/value&gt;&lt;variable display_value="Script"&gt;71aa7f6647032200b4fad7527c9a719b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=1194846e1bf3b890d575979cbc4bcb7a^sys_idNOT INd194846e1bf3b890d575979cbc4bcb83"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=9d3b7cd0-93a7-4902-97d2-8a86e7c680fb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write BR Script"&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/model&gt;&lt;model_id&gt;1194846e1bf3b890d575979cbc4bcb7a&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_1194846e1bf3b890d575979cbc4bcb7a&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;d194846e1bf3b890d575979cbc4bcb83&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:13&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_hub_action_output action="delete_multiple" query="model=ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT INa994846e1bf3b890d575979cbc4bcb93"/&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=3e97a2b7-43f8-43e7-a23a-fa143c02a136&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_prototype/&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/model&gt;&lt;model_id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;a994846e1bf3b890d575979cbc4bcb93&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:55&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT IN2194846e1bf3b890d575979cbc4bcb9b"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;script&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;script&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_ee2388aa1bf3b890d575979cbc4bcb54&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:13&lt;/sys_created_on&gt;&lt;sys_id&gt;2194846e1bf3b890d575979cbc4bcb9b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:13&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_hub_action_plan action="delete_multiple" query="action_id=ee2388aa1bf3b890d575979cbc4bcb54^sys_idNOT IN0cc4c86e1bf3b890d575979cbc4bcb9d"/&gt;&lt;sys_hub_action_plan action="INSERT_OR_UPDATE"&gt;&lt;action_id display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/action_id&gt;&lt;plan&gt;{"persistor":{"@class":".ChunkingPlanPersistor","table":"sys_hub_action_plan","id":"0cc4c86e1bf3b890d575979cbc4bcb9d","name":"plan"}}&lt;/plan&gt;&lt;snapshot&gt;61c9cce81b8a81100305edf9bc4bcbf1&lt;/snapshot&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;0cc4c86e1bf3b890d575979cbc4bcb9d&lt;/sys_id&gt;&lt;sys_mod_count&gt;132&lt;/sys_mod_count&gt;&lt;sys_overrides/&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:48:20&lt;/sys_updated_on&gt;&lt;/sys_hub_action_plan&gt;&lt;sys_hub_action_type_snapshot action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;action_template/&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description&gt;Write ATN BR&lt;/description&gt;&lt;internal_name&gt;write_atn_br&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"{{action._}}","label":"action➛","type":"action","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].variable}}","label":"Write BR Scriptstep➛➛variable","type":"step","ref":""},{"name":"{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}","label":"Write BR Scriptstep➛➛script","type":"step","ref":""}]&lt;/label_cache&gt;&lt;master&gt;true&lt;/master&gt;&lt;name&gt;Write ATN BR&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;outputs/&gt;&lt;parent_action display_value="Write ATN BR"&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/parent_action&gt;&lt;sys_class_name&gt;sys_hub_action_type_snapshot&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:55&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_overrides/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-08 19:55:39&lt;/sys_updated_on&gt;&lt;system_level&gt;false&lt;/system_level&gt;&lt;type/&gt;&lt;/sys_hub_action_type_snapshot&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=b3b4c86e1bf3b890d575979cbc4bcb55"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=b3b4c86e1bf3b890d575979cbc4bcb55"/&gt;&lt;sys_element_mapping action="delete_multiple" query="id=b3b4c86e1bf3b890d575979cbc4bcb55"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;script&lt;/field&gt;&lt;id&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/id&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;ffb4c86e1bf3b890d575979cbc4bcb73&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55&lt;/table&gt;&lt;value&gt;{{step[7af21b36-f34e-4789-b9f3-bb813a1eb0cc].script}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=b3b4c86e1bf3b890d575979cbc4bcb55^sys_idNOT IN77b4c86e1bf3b890d575979cbc4bcb59"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Write ATN BR"&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/action&gt;&lt;cid&gt;7af21b36-f34e-4789-b9f3-bb813a1eb0cc&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;label&gt;Write BR Script&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="Script"&gt;106afb6647032200b4fad7527c9a71e7&lt;/step_type&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:55&lt;/sys_created_on&gt;&lt;sys_id&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/sys_id&gt;&lt;sys_mod_count&gt;134&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-04-06 19:51:54&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=77b4c86e1bf3b890d575979cbc4bcb59"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/document_key&gt;&lt;order&gt;600&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;77b4c86e1bf3b890d575979cbc4bcb67&lt;/sys_id&gt;&lt;sys_mod_count&gt;129&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-04-06 19:51:54&lt;/sys_updated_on&gt;&lt;value&gt;JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &amp;gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&amp;lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function execute(inputs, outputs) {
	var norm_obj = {};
  	var source_norm_obj = {};
  	var full_source_norm_obj = {};
    var field_norm_obj = {};
    var source_field_norm_obj = {};
    var rx_obj = {};
    var source_rx_obj = {};
    var field_rx_obj = {};
    var source_field_rx_obj = {};  
  	var source_rx_inside = {};
  	var source_field_rx_inside = {}; 
  
  // norm object for non-source-specific additional_info-based normalization policies    
  	var normsGR = new GlideRecord('u_alert_tag_normalization');
	normsGR.addQuery('u_active',"=",true);
	normsGR.addQuery('u_source_key_type',"=","alert_additional_info");    
  	normsGR.addNullQuery('u_applies_to_source');
  	normsGR.orderByDesc('u_normalized_key');
	normsGR.query();
	var sourceKey;
  	var normKey;
  	var norm_rx = {};
  	var norm_rx_inside = {};
  	var norm_inside = {};
    while(normsGR.next()) {
      sourceKey = normsGR.u_source_key;
      normKey = normsGR.u_normalized_key;

      if(normsGR.u_regex_transform) {
      	norm_rx_inside["regex"] = "/" + normsGR.u_regex_function + "/, " + normsGR.u_regex_new_value;
        norm_rx[normKey] = norm_rx_inside;
        norm_inside[sourceKey] = norm_rx;           
      } else {
        norm_rx[normKey] = {};
        norm_inside[sourceKey] = norm_rx;       
      }
      norm_rx_inside = {};
    }
  
  norm_obj = JSON.stringify(norm_inside);
  // norm object for source-specific additional_info-based normalization policies  
  var sourceNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceNormsGR.addQuery('u_active',"=",true);
	sourceNormsGR.addQuery('u_source_key_type',"=","alert_additional_info");  
  	sourceNormsGR.addNotNullQuery('u_applies_to_source');
	sourceNormsGR.orderBy('u_applies_to_source');
  	sourceNormsGR.orderByDesc('u_normalized_key');
	sourceNormsGR.query();
  	var source;
  	var i = 0;
  
    while(sourceNormsGR.next()) { 
        source = sourceNormsGR.u_applies_to_source;
        sourceKey = sourceNormsGR.u_source_key;
        normKey = sourceNormsGR.u_normalized_key;
        var source_norm_inside = {};
        source_rx_inside = {};
        var source_rx = {};
      	if(full_source_norm_obj.hasOwnProperty(source)) {
		  	source_norm_inside = full_source_norm_obj[source]; //name
        }
      	if(source_norm_inside.hasOwnProperty(sourceKey)) {
        	source_rx = source_norm_inside[sourceKey]; //location
        }
      	if(sourceNormsGR.u_regex_transform) {
                source_rx_inside["regex"] = "/" + sourceNormsGR.u_regex_function + "/, '" + sourceNormsGR.u_regex_new_value + "'";
          		source_rx[normKey] = source_rx_inside;
                source_norm_inside[sourceKey] = source_rx;               	  
            } else { 
          		source_rx[normKey] = {};
                source_norm_inside[sourceKey] = source_rx; 
            }  
          	full_source_norm_obj[source] = source_norm_inside;         
      	
      	source_norm_inside = {};
      	source_rx = {};
      	source_rx_inside = {};
    }
  
  full_source_norm_obj = JSON.stringify(full_source_norm_obj);
  
  // norm object for non-source-specific field-based normalization policies
  
    var fieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	fieldNormsGR.addQuery('u_active',"=",true);
	fieldNormsGR.addQuery('u_source_key_type',"=","alert_field");    
  	fieldNormsGR.addNullQuery('u_applies_to_source');
  	fieldNormsGR.orderByDesc('u_normalized_key');  
	fieldNormsGR.query();
  	var field_norm_rx = {};
  	var field_norm_rx_inside = {};
  	var field_norm_inside = {};  
  
    while(fieldNormsGR.next()) {
      	var fNDictGR = new GlideRecord('sys_dictionary');
      	fNDictGR.addQuery('sys_id', '=', fieldNormsGR.u_source_alert_field.getValue());
        fNDictGR.query();
      	while(fNDictGR.next()) {
	        sourceKey = fNDictGR.element;
        }
      normKey = fieldNormsGR.u_normalized_key;
      if(fieldNormsGR.u_regex_transform) {
      	field_norm_rx_inside["regex"] = "/" + fieldNormsGR.u_regex_function + "/, " + fieldNormsGR.u_regex_new_value;
        field_norm_rx[normKey] = field_norm_rx_inside;
        field_norm_inside[sourceKey] = field_norm_rx;           
      } else {
        field_norm_rx[normKey] = {};
        field_norm_inside[sourceKey] = field_norm_rx;       
      }
      field_norm_inside = {};
    }
  
  field_norm_obj = JSON.stringify(field_norm_inside);
  
  // norm object for source-specific field-based normalization policies
  var sourceFieldNormsGR = new GlideRecord('u_alert_tag_normalization');
	sourceFieldNormsGR.addQuery('u_active',"=",true);
	sourceFieldNormsGR.addQuery('u_source_key_type',"=","alert_field");  
  	sourceFieldNormsGR.addNotNullQuery('u_applies_to_source');
	sourceFieldNormsGR.orderBy('u_applies_to_source');
  	sourceFieldNormsGR.orderByDesc('u_normalized_key'); 
	sourceFieldNormsGR.query();
  	i = 0;
  	var source_field_norm_inside = {};
    source_field_rx_inside = {};
    var source_field_rx = {};
    while(sourceFieldNormsGR.next()) { 
        source = sourceFieldNormsGR.u_applies_to_source;
      	var sFNDictGR = new GlideRecord('sys_dictionary');
      	sFNDictGR.addQuery('sys_id', '=', sourceFieldNormsGR.u_source_alert_field.getValue());
        sFNDictGR.query();
      	while(sFNDictGR.next()) {
	        sourceKey = sFNDictGR.element;
        }
        normKey = sourceFieldNormsGR.u_normalized_key;
				
      	if(source_field_norm_obj.hasOwnProperty(source)) {
		  	source_field_norm_inside = source_field_norm_obj[source];
        }
      	if(sourceFieldNormsGR.u_regex_transform) {
                source_field_rx_inside["regex"] = "/" + sourceFieldNormsGR.u_regex_function + "/, '" + sourceFieldNormsGR.u_regex_new_value + "'";
          		source_field_rx[normKey] = source_field_rx_inside;
                source_field_norm_inside[sourceKey] = source_field_rx;               	  
            } else { 
          		source_field_rx[normKey] = {};
                source_field_norm_inside[sourceKey] = source_field_rx; 
            }  
          	source_field_norm_obj[source] = source_field_norm_inside;         
      	
      	source_field_norm_inside = {};
      source_field_rx_inside = {};
    }
  
  source_field_norm_obj = JSON.stringify(source_field_norm_obj);
  rx_obj = JSON.stringify(rx_obj);  
  source_rx_obj = JSON.stringify(source_rx_obj);  
  source_field_rx_obj = JSON.stringify(source_field_rx_obj);  
  field_rx_obj = JSON.stringify(field_rx_obj);   
  
  //compose script
  
  
  var script = '';
  
  script = 'JSON.unflatten = function(data) {\
    "use strict";\
    if (Object(data) !== data || Array.isArray(data))\
        return data;\
    var result = {}, cur, prop, idx, last, temp;\
    for(var p in data) {\
        cur = result, prop = "", last = 0;\
        do {\
            idx = p.indexOf(".", last);\
            temp = p.substring(last, idx !== -1 ? idx : undefined);\
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));\
            prop = temp;\
            last = idx + 1;\
        } while(idx &amp;gt;= 0);\
        cur[prop] = data[p];\
    }\
    return result[""];\
};\
\
JSON.flatten = function(data) {\
    var result = {};\
    function recurse (cur, prop) {\
        if (Object(cur) !== cur) {\
            result[prop] = cur;\
        } else if (Array.isArray(cur)) {\
             for(var i=0, l=cur.length; i&amp;lt;l; i++)\
                 recurse(cur[i], prop ? prop+"."+i : ""+i);\
            if (l == 0)\
                result[prop] = [];\
        } else {\
            var isEmpty = true;\
            for (var p in cur) {\
                isEmpty = false;\
                recurse(cur[p], prop ? prop+"."+p : p);\
            }\
            if (isEmpty)\
                result[prop] = {};\
        }\
    }\
    recurse(data, "");\
    return result;\
};\
\
(function executeRule(current, previous /*null when async*/ ) {\
';
script = script + '\	var norm_obj = ' + norm_obj + ';\
';
script = script + '\	var source_norm_obj = ' + full_source_norm_obj + ';\
'; 
script = script + '\	var field_norm_obj = ' + field_norm_obj + ';\
';
script = script + '\	var source_field_norm_obj = ' + source_field_norm_obj + ';\
';

script = script +'\    var info = current.additional_info;\
	var formatRx = new RegExp(/\\\/(.*)\\\/, \'(.*)\'/);\
	var newKey;\
	var newValue;\
    info = info.replace(/\\|/g, "~");\
    info = info.replace(/\\./g, "|");\
    var parser = new JSONParser();\
    var data = parser.parse(info);\
    data = JSON.flatten(data);\
    var key;\
    var nKey;\
	var tags_obj = {};\
    for (key in norm_obj) {\
        if (data.hasOwnProperty(key)) {\
            var nInside = norm_obj[key];\
            for (nKey in nInside) {\
                newKey = nKey;\
                newValue = data[key];\
                var att = nInside[nKey];\
                if (att) {\
                    var rx = att["regex"];\
                    if (rx) {\
                        var rxMatch = formatRx.exec(rx);\
                        var rxFunc = new RegExp(rxMatch[1], "gm");\
                        var rxTest = rxFunc.test(newValue);\
                        var rxRep = rxMatch[2];\
                        if (rxMatch &amp;amp;&amp;amp; rxTest) {\
                            newValue = newValue.replace(rxFunc, rxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
    var source = current.source;\
    if (source_norm_obj.hasOwnProperty(source)) {\
        var sourceNorm = source_norm_obj[source];\
        sourceNorm = JSON.stringify(sourceNorm);\
        sourceNorm = parser.parse(sourceNorm);\
        var sKey;\
        var sNKey;\
        for (sKey in sourceNorm) {\
            if (data.hasOwnProperty(sKey)) {\
                var sNInside = sourceNorm[sKey];\
                for (sNKey in sNInside) {\
                    newKey = sNKey;\
                    newValue = data[sKey];\
                    var sAtt = sNInside[sNKey];\
                    if (sAtt) {\
                        var sRx = sAtt["regex"];\
                        if (sRx) {\
                            var sRxMatch = formatRx.exec(sRx);\
                            var sRxFunc = new RegExp(sRxMatch[1], "gm");\
                            var sRxTest = sRxFunc.test(newValue);\
                            var sRxRep = sRxMatch[2];\
                            if (sRxMatch &amp;amp;&amp;amp; sRxTest) {\
                                newValue = newValue.replace(sRxFunc, sRxRep);\
                            } else {\
                                newValue = null;\
                            }\
                        }\
                    }\
                    if (newValue) {\
                        data[newKey] = newValue.toLowerCase();\
						tags_obj[newKey] = newValue.toLowerCase();\
                    }\
                }\
            }\
        }\
    }\
\
    var fKey;\
    var fNKey;\
    for (fKey in field_norm_obj) {\
        if (current.getValue(fKey)) {\
            var fNInside = field_norm_obj[fKey];\
            for (fNKey in fNInside) {\
                newKey = fNKey;\
                newValue = current.getValue(fKey);\
                var fAtt = fNInside[fNKey];\
                if (fAtt) {\
                    var fRx = fAtt["regex"];\
                    if (fRx) {\
                        var fRxMatch = formatRx.exec(fRx);\
                        var fRxFunc = new RegExp(fRxMatch[1], "gm");\
                        var fRxTest = fRxFunc.test(newValue);\
                        var fRxRep = fRxMatch[2];\
                        if (fRxMatch &amp;amp;&amp;amp; fRxTest) {\
                            newValue = newValue.replace(fRxFunc, fRxRep);\
                        } else {\
                            newValue = null;\
                        }\
                    }\
                }\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
            }\
        }\
    }\
\
   if (source_field_norm_obj.hasOwnProperty(source)) {\
        var sourceFieldNorm = source_field_norm_obj[source];\
        sourceFieldNorm = JSON.stringify(sourceFieldNorm);\
        sourceFieldNorm = parser.parse(sourceFieldNorm);\
        var sFKey;\
		var sFNKey;\
        for (sFKey in sourceFieldNorm) {\
            if (current.getValue(sFKey)) {\
				var sFNInside = sourceFieldNorm[sFKey];\
				for (sFNKey in sFNInside) {\
                newKey = sFNKey;\
                newValue = current.getValue(sFKey);\
				var sFAtt = sFNInside[sFNKey];\
				if(sFAtt) {\
					var sFRx = sFAtt["regex"];\
					if (sFRx) {\
						var sFRxMatch = formatRx.exec(sFRx);\
						var sFRxFunc = new RegExp(sFRxMatch[1], "gm");\
						var sFRxTest = sFRxFunc.test(newValue);\
						var sFRxRep = sFRxMatch[2];\
						if (sFRxMatch &amp;amp;&amp;amp; sFRxTest) {\
							newValue = newValue.replace(sFRxFunc, sFRxRep);\
						} else {\
							newValue = null;\
						}\
						}\
					}\
                if (newValue) {\
                    data[newKey] = newValue.toLowerCase();\
					tags_obj[newKey] = newValue.toLowerCase();\
                }\
				}\
            }\
        }\
    }\
	data["itom_tags"] = tags_obj;\
    data = JSON.unflatten(data);\
    var ai_string = JSON.stringify(data, null, "	");\
    ai_string = ai_string.replace(/\\|/g, ".");\
    ai_string = ai_string.replace(/~/g, "|");\
    current.additional_info = ai_string;\
    current.update();\
\
})(current, previous);\
';

  outputs.script = script;
}) (inputs, outputs);&lt;/value&gt;&lt;variable display_value="Script"&gt;71aa7f6647032200b4fad7527c9a719b&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/document_key&gt;&lt;order&gt;400&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b3b4c86e1bf3b890d575979cbc4bcb67&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;value&gt;35aa573fd7802200bdbaee5b5e610375&lt;/value&gt;&lt;variable display_value="MID Application"&gt;f5e56d79b3101300176b051a16a8dce4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=77b4c86e1bf3b890d575979cbc4bcb59^sys_idNOT INf3b4c86e1bf3b890d575979cbc4bcb5d"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=9d3b7cd0-93a7-4902-97d2-8a86e7c680fb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write BR Script"&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/model&gt;&lt;model_id&gt;77b4c86e1bf3b890d575979cbc4bcb59&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_77b4c86e1bf3b890d575979cbc4bcb59&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;f3b4c86e1bf3b890d575979cbc4bcb5d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_hub_action_output action="delete_multiple" query="model=b3b4c86e1bf3b890d575979cbc4bcb55^sys_idNOT INb3b4c86e1bf3b890d575979cbc4bcb6a"/&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=3e97a2b7-43f8-43e7-a23a-fa143c02a136&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;script&lt;/element&gt;&lt;element_prototype/&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;script&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Write ATN BR"&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/model&gt;&lt;model_id&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;b3b4c86e1bf3b890d575979cbc4bcb6a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55^sys_idNOT INbfb4c86e1bf3b890d575979cbc4bcb70"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;script&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;script&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_b3b4c86e1bf3b890d575979cbc4bcb55&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:12:56&lt;/sys_created_on&gt;&lt;sys_id&gt;bfb4c86e1bf3b890d575979cbc4bcb70&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 04:12:56&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_hub_action_type_definition action="update"&gt;&lt;sys_id&gt;ee2388aa1bf3b890d575979cbc4bcb54&lt;/sys_id&gt;&lt;latest_snapshot&gt;b3b4c86e1bf3b890d575979cbc4bcb55&lt;/latest_snapshot&gt;&lt;/sys_hub_action_type_definition&gt;&lt;/record_update&gt;</payload>
<payload_hash>52132294</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>824f2dd047b6851024307601e36d4368</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>180006efc7c0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>Write ATN BR</target_name>
<type>Action Type</type>
<update_domain>global</update_domain>
<update_guid>ddd3698005ba0510319daaeb10726b92</update_guid>
<update_guid_history>ddd3698005ba0510319daaeb10726b92:52132294,9dd36980c8ba0510ebb46743ad6ca65f:327133123,39c9002c4a8a81108961d212228e0e0a:65579783,6dc9cce8978a8110c3e12c4bcc213799:446607101,448fe43df958051071071c7a3da3fb28:-1507401164,448fa43d36580510243d3f8aaec1a0b7:-64694673,e53fa4f9b35805105a4cb230b73c9669:-605464654,a53fa4f92758051086801a2546753a29:1691139729,5a2eac39cd580510c06f239817aa2076:-1392471002,922eac393558051033d1cf54a5f23944:1184509846,911de4b5cb5805100944d5e53d93d3e7:-1455501872,5d1de4b5435805102a7b090db9e53069:-864890959,913c6435c758051001d4afe044f51345:432794974,5d3c6435dd58051005f9a18f79fa8f13:-1463753987,e20cacf13b580510898f1035b51542e3:-1411445122,d60cacf11c580510fdba5cf5358807b0:1982577569,6ad62c39e01805102f3c8dddbb70d30e:1692417549,6d732871961805103e2e73fc3de82703:1530973327,928c5cb1c0d40510f42e904752c494ff:1819670150,40b1bfa5f05005103ac806cc2ba60914:-2136880992,37a17fa5d6500510e3c61cf6252e1dd5:-1212011181,525fa761775005100e86d71ac7e97904:-1936140091,c65f676126500510b3ecb56e889047ad:241560777,462f6f21ea5005102ef4d2ac3763ff38:-1039214534,352f2f21bd5005102ee21005a6fc9ee0:1786909890,5c7d6f2d0910051077287bdc131b59dc:-135246106,0c7d6f2d62100510b08de5498f24e6aa:-1765616302,95dce7e98910051022a604d8226a7785:-1769015597,dddce7e969100510cbba2b1239850952:-1258497158,5e3c63a958100510a54ec27bc9144f72:942069565,c23c63a9c71005101d4f5d6665331927:-814030843,071b2be5bb1005103e05eeefde2219be:-1487392510,471b2be5f910051043f7903de8a8838b:608910568,077d7da104dc81104ef3c1f17692fd4a:2101966372,fa7d3da17bdc8110b6d06a7d047929e5:1488657220,5b7c392142dc81106e222de0d07f485d:902135934,9f7c3921d3dc81102a029c5b37debb2a:1433435789,fb4ab5e9b99c8110480db6d89c97b875:1452154564,e34ab5e9f19c81100f2e143f012c6606:1774227733,621afda9159c8110d151cd03bc25ee14:-2107254732,161abda9dc9c8110d6b2079fb2f6d3a3:1938995969,11e18429a39c4110d03b0d1b9da8f3c4:1298658097,dde18429569c411077c4e646fbb3fd90:1419726722,0bd6fcabcac48d1077a3a6fbf2337c94:30067353,0fd6bcabe1c48d102a4b836b097f2cf1:1272677350,e27cac6b06848d10fcd25b28cb4bfcef:1547695211,d67cac6b97848d1075ed78a679b7b697:1193188632,e63bace73e848d108934885732c1460f:-704831516,163b6ce73f848d108de1ad31cf6ccfd0:-1992413038,6eb49c67ed048d103ab072ccbd191fe0:-1867416275,62b49c6760048d1082cdf4bae05b82ae:820498482,b4d98067f9c08d1026c0f8f411b22da2:-1200087219,a8d9806782c08d101b02b81e55a7d46f:1981099362,53fff757e3808d10c87cf9dbfe27a1e4:1178255294,87fff757d5808d10fefc9f108942d4b1:1471681668,1b2f0fdb514c4d106eb620f71bf25130:441729648,032fcbdbe14c4d10b42b3082e27464fe:153016333,ba92674fb9840d100f18688af85f9d15:-1730802937,a292274f49840d10072938896274dbd7:-1990758604,6d326b0ffd840d103836bf469e6288a6:239136188,9d326b0f81840d105f5771d88f3b7d67:200889941,440c3a83ddc00d1046e0267bd8b38e7c:-1243566854,73fb3a8390c00d10aa1c53825097683e:-547021081,119b3e4326c00d10827f927d9fd73721:-852800499,059bfa4331c00d1020e904efed2fa1c9:1977678392,523b32436ac00d1059abd32fd2f87c3b:-1878976382,063b3243abc00d10b79ff64ee904d009:-1007127155,f5aafecf46800d1028fcc25d5dc37dfd:762094673,edaafecf29800d100d2b6f5f2864978d:-1292827294,286af6cf02800d102c974fd626ba0175:761246031,546af6cf99800d10c6921da48f012f36:1391887592,04297a4f36800d1017a704fe7e159999:-1180517947,08297a4f6f800d10a4e8983b18210141:1073473739,67c73acb80800d109fdab7033a7a836b:-59696440,13c73acb5e800d1004a0a2fc0d0dd73a:571122055,249732cbf7800d10c17ca099040fb44f:-1174014250,6c97fe8beb800d10a1e9895ed1431dea:-1900017033,1266b24b35800d1002245dbe223920bc:2120581544,8e66b24b1d800d107150a52b24db1064:2066480359,01e5b20be3800d100872b6a754b84973:-933734451,34e5b20b18800d10326cf03ae386ac41:1245563703,b64dae8b1e400d10ca3d3020387a83f8:462444557,a64dae8b2d400d101172f5f4d5a17f88:-1655256070,a76ca64bae400d10fba72b2dcced83af:756291029,5b6ca64b49400d103c0d6ea64735e163:1794587636,6e6e5676fe8489108031f03535bb2ed4:1933823520,126e56763284891081f58ed533efc389:-31645052,3339661e7e04c510df00672392ea9351:-1774750801,2b39661e8104c510bf781c9a7a98fe1e:-393749746,6b356a562704c5104034ccbcd91730b4:826697122,9b356a567904c51050241d39335a6e69:-271475506,b6313874438049d0afc18ef8da4b5627:-1810584383,6e31f4742d8049d086e57529cb19acdb:1570079556,65a07834a18049d0cbb525dd5093c25f:-965045494,69a07834bf8049d0d50d5ee14c5eca2c:1443102230,5520b8f0028049d0b36c3175063ce152:-138053275,1d20b8f0398049d0e7515f1ff7c80820:1785366226,cdffe0f04c8049d0a0c56cbbb7e1ece2:1537910419,f4ffe0f0448049d07af468c45eb48041:-109330373,c3efa0f0d88049d0d99f17f5cf5bca20:-1226974398,32ef60f08d8049d09cf534ff7e9f83e1:-282849071,298e2c30d98049d0ed566712f684c59f:-915628997,e18e2c30f78049d09b34bec2b2ace16d:-1816209074,9f4e6430cd8049d05839f1603c5150bd:-1119351778,c34e6430668049d0c1101e558913c28b:-1501579355,8fbc687c9d4049d0095dfb9979bdbb60:-4688738,76bc687c724049d00f604f3d4c74dd15:441398996,90fb243c8c4049d051b57fbf60f73f1c:-1501916566,80fbe03c044049d0eb6acf918ced90c4:305402180,c06b24f8214049d03c5242822b5962b3:-237933019,c06b24f8ae4049d014aa07ea61916775:-413994448,953bacb8c44049d00eb52f58a775c1a3:-823409397,dd3bacb81b4049d0ef6c10fd23c49858:617969744,97fae4b88b4049d0ea2d0801696b49bf:-697109159,07fae4b8a64049d09671b3a0f41e8080:-1373541750,aef72c74744049d0709a0d0d88e0d549:880416329,12f7e8748a4049d063cd82375afc59f3:611822270,fb77ec34b94049d00a45c60b91db2030:-179577572,bb77ac34484049d0a5fca524478174fe:-487136167,ea6624f0444049d0c4ac4c09ffff7c36:-2106472457,ee66e0f06c4049d00cef8bfe53165ed1:-510648631,8a35e070584049d0273b917085f47d0f:748982332,5535a070194049d05a6f7efc04ced16c:1459026615,1254e8fc270049d06b513a4704fb5b20:-292498713,0e54a8fcc20049d09f90c122fe69e8ec:-1358711379,d5e16cf85c0049d096e4168884cf3997:343706659,fa5da2e8e04409d08cd0496f9eddaa59:911644733,b71d2ea8d64409d0a789eea5ac686bf2:1707034729,9cfb6268a04409d0109198113897b6e0:-1034844327,be914cebacbf30d06a1a8990b4c6605a:1689696513,5e914ceb3cbf30d0d652fbbf2ee9e002:-876969758,a59e3b973bbf30d0eaac266e5c41e1f2:205056449,559e3b9795bf30d0710a78200b15839a:-1109729956,b23db31774bf30d026fb5995c291ec09:-2040240435,a23d7317b6bf30d082c121460148b2d6:714006219,d543fbd31d7f30d03c0921cbba23d78b:-306706356,8543fbd3e57f30d0e53567f4f358b958:317362001,7b47a497cc7bfc90856b6921dbd37571:-324188202,af47a497047bfc90f940e81d0b674d0c:805845699,c6742c13377bfc90e69a12f2eafafaf0:68077682,b9742c13b97bfc903db3964e4109d38b:-817144263,b753689f7a3bfc9094eb66b6bc1faff5:655162598,eb53689f603bfc907d3f97370a96b4a9:-806658156,79e2685f8a3bfc9090c31c5eb7bf5e0e:2052707713,e5e2285f6c3bfc90e1a5da48a6cdfacf:-1537872710,1dce90d7fd3bfc90f00866f84ec3a9c6:763136265,d1ce90d7fa3bfc905dce55ae3f9b9e95:703313691,f7be50d73e3bfc90e4277c52129f7290:-1811541066,27be50d7e33bfc908e3785c424bac045:353881335,1c5ed097463bfc90e86da55bb4b556af:-500756575,c05ed097e83bfc90c8fdd14ce1ef347e:1737250284,db2edc57373bfc903567016f5b64a429:-2032357361,872e9c57283bfc907c3552aa876eabf7:1412972476,e0dd5457053bfc9004e0458b0b06082e:461553809,d0dd1457bc3bfc90a5916e8e075372fb:-1090243979,b44b1453063bfc908fe08358d663fce7:-1506367397,f04b1453983bfc902fd525fb7a054ab5:-1467022962,72ea9813683bfc905918aeded632b397:537855744,76ea98132b3bfc906e2ddc2b912d6d64:-738011816,44563dcb7177bc901a35ef66283aa9cd:367215192,ff463dcb5f77bc906d1d333af2245475:2054247008,c675b58b9477bc90507b03a31cd3442e:-75939257,f575758b0177bc90b3bc19313de560fb:1227745244,30a2bd47d277bc90849f31082c5d5ad6:1995689434,7ca2bd471a77bc90ca0ceb3de5e2bf59:-1047580594,72727947f477bc9002696abef406df41:-892599792,627279479c77bc90a941a3a054289103:-1044844674,c16275474f77bc90361743f85f60fdaa:-1453182835,b86275472277bc9032534f7cc1ff9478:669492637,de22bd073377bc90c18d411745f54517:-710652235,0a227d07b677bc9057d61ae25e9a8bcd:660088364,16d135070477bc90a7c7a925f004935e:1550014871,82d135075577bc9063234bc0df27ac1f:-2127652037,9b913dc33377bc90703ae2fee4cf2f8b:-750661244,43913dc36f77bc90c65be59a7106fe40:746929821,c5117d836177bc90b538db6729b224de:-257343554,05117d83dc77bc9096d984e520669a6d:1995569922,9afbad8bab37bc9045898e01b4d7e3f8:-737323513,12fbad8be937bc902fcd512845963ead:-349426094,b09e7db249fb3c90d09bace1d9d916e0:1745867978,389e7db28afb3c90b266ac40a16155a1:-1944850876,055eb5b22ffb3c90a4597e780afe7999:-81335332,0e0e7d728bfb3c9094023c75a0d07ba5:-1019466308,f50e7d7207fb3c90f82d3ca2e78d2473:1758926697,c9cd7d326bfb3c9097108389ebd52968:-988256842,34cd3d32aafb3c90c46a4124d24b7388:1620290133,0cfc31fe08bb3c9068edee86c3884308:-1061971394,b3ecfdbe3abb3c905a703faf53f86eb1:-44753568,d41c397ebebb3c90caa4fbae896fa265:-932552397,d81c397e25bb3c905426e842aac44a26:-1636631817,86cb317ea3bb3c909dbb786091641201:-1672322654,b9cbfd3e6cbb3c90ffa7ef27b3c5b5c2:-986917350,6b1bbdfaeabb3c9044d697e1c7730cd9:682511800,971bbdfad2bb3c90ce706c4d15e4ea8e:1079381413,8edab5fa95bb3c90e1dbbf2368787479:1785438567,bddab5fabbbb3c9084994ac9a22d7e46:-1343242622,7ba87df643bb3c90dc9308dc716b164b:1889154224,27a87df67abb3c9068e3f1538c513319:-173438167,3dd7b5b641bb3c905c25a20ef38a8e6a:1435102547,69d7b5b606bb3c90c482aa7e9725fa1f:-565190413,503735765bbb3c90b7063a98fd5fb718:472147992,8c37f17609bb3c90d9b58222897cf1a6:1639528485,0bc6f53657bb3c90f1c8c8f8345463df:-1363956917,bac6f53644bb3c90e3155c845b239688:50608694,15767df29abb3c906ddd461b4cbac3e4:-560299921,c9767df22ebb3c9009f4633d0e8696b2:1313329340,e146b5f29cbb3c907cff37d7a9e7ef77:1607788654,d146b5f28fbb3c905c65a870a1981339:-72382639,65e5b9b263bb3c90d3455e02a08390f5:517349266,65e5b9b204bb3c906d0e6a43436ffdb7:-1785497650,34c575b2afbb3c906513040aba94ccf9:-1896044219,64c575b23fbb3c906bbee290d9d05eae:-234775270,e915f1720ebb3c907530e3ad7a23b41d:-71825688,9115b172b6bb3c90c8859ab50989dcec:1245306631,31b43932ddbb3c9001d5e9b219bbf71e:-1482808653,65b4f53297bb3c90dfbfdb1e7c8548a1:2100583885,5274bdfe4c7b3c90ef688a461b555d06:1764611271,8e747dfed37b3c9038112eaffb336e95:-1242360298,fff331fef77b3c9089751936cbfe8e4a:-401026678,33f331fe017b3c90b4a012ba9db4c200:-1041718195,c2b3f5bec97b3c908e1483686502db39:1960771304,42b3b5beae7b3c90a3c8e7e72d193dfa:-1868787184,a113b17ec07b3c906e5c58e3325422a7:133026935,5d13b17e4c7b3c9091ebf168fa79a374:653101886,c3d2b93e077b3c90442aea6263ef6c8e:-344954511,f2d2b93e077b3c90272b22ad5cc3b950:447032661,1cb2353ee07b3c901eaafcded4355cfe:-43237562,9cb2353e827b3c90a27eb808eb9906a7:-1160064561,2882fdfa3a7b3c904eb2e58defa39b48:-808343625,dc82fdfa047b3c900bb8e6e0bc0ea916:1696935385,6302b1fa727b3c90cca0d08ea15cb3ab:-931792701,a302b1faa27b3c90dd6d2befc995f660:2082314318,9241bd7a277b3c907c54928fae62c193:-397324893,c241bd7a547b3c907d0cd6f728f20848:-896973729,e1e0f17ab57b3c904107118bf4500b2e:-1914130527,e5e0b17af07b3c907f5d8cfdafaab8be:-1276483694,37b07d3a567b3c90c6f23b3a8d89a6a6:270559319,e7b07d3a6e7b3c9052e4091269220b5a:533048274,4cbf61f6177b3c90bd0119f1f8533c3a:1391480689,3baf61f6517b3c90f541921389848308:400758250,bd2f61b6e37b3c90751c463ece09bab0:-469724451,a12f61b6b87b3c90e4dd3a113e4a5a72:478721174,0afee976e37b3c90809f1debcc2eb8a2:380537528,8efee9760d7b3c90ff3c7cb7c8a9b74a:1031998337,7a9e2176087b3c907e0f4f83a06b6eb8:-514399655,ee9e2176ef7b3c90e648568bfe1ba560:-2042129249,626ea9363a7b3c9099d2b457c5dc0473:2128783686,de6ea936157b3c90040ec8074bc03633:-388334005,c13de9b2b27b3c90a747a7535b1249c1:-260078645,f43de9b24d7b3c90e4043dec354bd982:1657520162,dedc21b2387b3c90e7f229fd5b9bd539:340490205,8adc21b2b07b3c9060d1d036118e7c07:1534014828,558ca5728c7b3c9005c4186e1878c294:-955038571,dd8ca572027b3c902528a08c032b3654:-2056701774,752ca932e67b3c9018f5c33f53260c20:1684725995,ed2c6932087b3c902ebc5e5aae137dc8:-963520790,53bb6dfee53b3c9015b3f7d018ce083a:1713327303,1bbb6dfe933b3c90378ae76bac4c6d08:1489241176,306ba1febe3b3c905cca29225726248e:-64535184,606ba1fecd3b3c909214444642c2005b:1961813139,690aed3e283b3c908ce91bc6753aa997:-2084029783,dd0aed3e4e3b3c90be5e37ad905c3b57:-78388260,3e1bc42a4637b8904a7a00ab3f53e2d6:2111482290,6a1bc42ace37b8903f794bc94212f95a:571160837,1a0b442a2037b890252ca53032b5d73a:-743901172,c60b442a8337b890a5535f15b5148f07:-1798853947,f2780426d237b89080a244da75a07575:-397686393,7e7804269337b8901e8c8c78e249ed35:290629780,547708a2bb37b8901c2c72928afec760:-329507289,107708a29137b890cb4f7545cfd8532e:1763817196,00174c629037b890c98497c8b28a390b:-1122029899,77070c62ed37b890c06e4f64a54de9a6:-344354417,fa564422e337b890b871e54df0737b16:1516604933,66560422e237b890435df070ff6162d7:-90562763,88c4c86e9bf3b89056ff222f78ceab8e:889929009,7fb4c86e0ef3b8905d9ca20ee24c824f:-1992179362,2d94846e7df3b8900fcb809551e793ab:709543894,ae2300ea4ff3b890ca842de0b83258b7:-1790622679</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_25feffd21bf3b890d575979cbc4bcb4b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field')
		return;
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:50:17&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;25feffd21bf3b890d575979cbc4bcb4b&lt;/sys_id&gt;&lt;sys_mod_count&gt;20&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_25feffd21bf3b890d575979cbc4bcb4b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:02:24&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1105952804</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>824f2dd047b6851024307601e36d436b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77ce3c5d0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>59ab34e377088d105a491d39e7d3f9b6</update_guid>
<update_guid_history>59ab34e377088d105a491d39e7d3f9b6:-1105952804,d33bf4a369088d10f9b47bfaf584375d:267653039,cada78639f088d1024f1048f256993ef:-1105952804,33ca3c63d6088d10b0eec1461953ab67:267653039,23e8578fd0440d1084b2bdd7faf76d14:-1105952804,c770c1742c4449d0bde5e1fedd3a8c32:-1612401151,0c608974434449d0596e9bb4884a4c45:-959662380,d71ffc7c320449d03515501ae166da86:-1612401151,691f7cbc460449d0a4426d4c854e69f8:-959662380,12fe30bc880449d0b670a5b3f7f65346:-1612401151,13a70aec2b4009d0b17d8b66f394dea2:-1105952804,0c264e2c4d4009d0aa5c43b7697ba1c7:1646345686,77e58ae8ec4009d0759a8662054e53ce:-1761150854,d9f63da0950009d086dd70aa9f0e853a:-1904761949,00e67de0c20009d08242ae0704c74440:-1828907344,15f369a4438cc5d03410d547b986dc58:-1904761949,18c369a4428cc5d0f203bf4496bbe552:-1976085432,7ca3e564398cc5d01ec77ca334c46b3e:-1154947144,87c2ed244a8cc5d050dd456afc57d9ac:1593126757,633c3793bdbf30d0053a8719b626f678:-1588538391,089f335613f3b89017d74f85658d1218:1818244866</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_472081ab1b088d10d575979cbc4bcbe3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_source_key_type&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:22:11&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;472081ab1b088d10d575979cbc4bcbe3&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_472081ab1b088d10d575979cbc4bcbe3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:26:05&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1485861625</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>824f2dd047b6851024307601e36d436e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95b76a370000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>18f532d19c1441105231840f16106482</update_guid>
<update_guid_history>18f532d19c1441105231840f16106482:-1485861625,8611bad5f2d04110a9c98a03060a770b:-32475206,af01f6d572d04110a09867f3162162bd:-1485861625,c98b185141540950fd0eb62500f28d3a:-32475206,35dad4117a540950d5c9fc767ca8edce:-1485861625,a6a1016f13088d106eca8472c7445475:-32475206,4b2081ab56088d10fd68a7f9ffbe0de5:997027941</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_a9579f4b1b440d10d575979cbc4bcbbe</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field' || g_form.getValue('u_test_value')!=='') {
		return;		
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:05:40&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a9579f4b1b440d10d575979cbc4bcbbe&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_a9579f4b1b440d10d575979cbc4bcbbe&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:08:55&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1446090435</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>824f2dd047b6851024307601e36d4371</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d9194019c0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>2d1d2a0d2a5809509514faac2718459a</update_guid>
<update_guid_history>2d1d2a0d2a5809509514faac2718459a:1446090435,91ab34e331088d10cba2bea3d533219a:1054849014,5b3b38a368088d10a5d2c1e6138621b0:1446090435,140b30a337088d104014843454247b59:1054849014,52faf863d7088d10f660edc381780ff3:1446090435,59d7dfcb41440d1013d38545a8a3b0a0:1054849014,2957530ffe440d101bad1082c1f41f64:-1603241223</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_active</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_active" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Active&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value&gt;true&lt;/default_value&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_active&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value=""&gt;boolean&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;10&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 04:07:35&lt;/sys_created_on&gt;&lt;sys_id&gt;a27348ea1bf3b890d575979cbc4bcb4d&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Active&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_active&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-17 06:02:10&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>478465103</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>824fa5d047b6851024307601e36d435b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d2c7d06e40000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Active</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>3d57253ac53b3c90f4e24ceb75206255</update_guid>
<update_guid_history>3d57253ac53b3c90f4e24ceb75206255:478465103,e18388ea88f3b890a133fe5857576cf6:1046254786</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_test_alert</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_test_alert" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Test Alert&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_test_alert&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="Reference"&gt;reference&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;32&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference display_value="" name="em_alert"&gt;em_alert&lt;/reference&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 02:57:01&lt;/sys_created_on&gt;&lt;sys_id&gt;76033bde1b73b890d575979cbc4bcb34&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Test Alert&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_test_alert&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 02:57:01&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>2013250820</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>864f2dd047b6851024307601e36d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ad27d10000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Test Alert</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>c8633312b2b3b890ab0422258bdbefa6</update_guid>
<update_guid_history>c8633312b2b3b890ab0422258bdbefa6:2013250820</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_source_key_type_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_source_key_type" label="Source Key Type" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_source_key_type</element><help/><hint/><label>Source Key Type</label><language>en</language><name>u_alert_tag_normalization</name><plural>Source Key Types</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 15:51:01</sys_created_on><sys_id>c81e512c1b4cc5d0d575979cbc4bcbee</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Source Key Type</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_source_key_type_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 15:51:01</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>444578461</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>864f2dd047b6851024307601e36d4367</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4857ec3b0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Key Type</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>901e912c524cc5d037bd1b1c80dd9a20</update_guid>
<update_guid_history>901e912c524cc5d037bd1b1c80dd9a20:444578461</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_1330cd6b1b088d10d575979cbc4bcb85</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:22:28&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;1330cd6b1b088d10d575979cbc4bcb85&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_1330cd6b1b088d10d575979cbc4bcb85&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:42&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-524751751</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>864f2dd047b6851024307601e36d436a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e6504d0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>2aa1016f40088d1010fa1e233340557d</update_guid>
<update_guid_history>2aa1016f40088d1010fa1e233340557d:-524751751,df30cd6b70088d1057a00258cb4d3086:1907029958</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_4148974f1b440d10d575979cbc4bcb64</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - alert field&lt;/description&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - alert field&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_source_key_type') === 'alert_additional_info') {
		return; 
	}
    var dictGR;
    var value;

    dictGR = g_form.getReference('u_source_alert_field', getColumn);

    function getColumn(dictGR) {
        var column = dictGR.element;
        var tAlert = g_form.getReference('u_test_alert', getValue);

        function getValue(tAlert) {
            value = tAlert.getValue(column);
            g_form.setValue("u_test_value", value);
            g_form.setValue("u_raw_value", value);
        }
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:09:44&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4148974f1b440d10d575979cbc4bcb64&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - alert field&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_4148974f1b440d10d575979cbc4bcb64&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:02:24&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>2092786372</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>864f2dd047b6851024307601e36d436d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77ce3bf40000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - alert field</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>91ab34e3e0088d10537a369ec5cc06a2</update_guid>
<update_guid_history>91ab34e3e0088d10537a369ec5cc06a2:2092786372,5b3b38a398088d10b2f9929567c0dfa8:819769111,8bea386345088d10d8a942b527e0c680:2092786372,99ea3463be088d10b772840442956dc1:819769111,0148974ffa440d105dc756b32bebf166:2092786372</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_8530cde71b088d10d575979cbc4bcb03</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:22:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;8530cde71b088d10d575979cbc4bcb03&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_8530cde71b088d10d575979cbc4bcb03&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:15:22&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1482353684</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>864f2dd047b6851024307601e36d4370</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95ad9b730000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>db73b25dadd04110597be8da42675fdd</update_guid>
<update_guid_history>db73b25dadd04110597be8da42675fdd:1482353684,4a11bad510d0411064a8bf1d6874da61:-1748443775,5101b6d5fed04110565c61ded5a0ebfb:1482353684,c58b1851cb540950c10ac1828cd7f43e:-1748443775,79dad4110c540950064815cfc47feaca:1482353684,22a1016fec088d104e68e8452bf4518e:-1748443775,4530cde74b088d104843a527b5912205:-2136193602</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_complex_object_b0960c221b37b890d575979cbc4bcb57</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_complex_object"><sys_complex_object action="INSERT_OR_UPDATE"><label/><name>FDfc960c223537b89006c0d2c69b938156</name><namespace>FlowDesigner</namespace><scope_name>global</scope_name><serialized_content>{"FlowDesigner:FDfc960c223537b89006c0d2c69b938156":{"$COCollectionField":[{"FDChangeDetails":{"previous_display_value":"String","previous_display_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Previous Display Value\",\"mandatory\":\"false\",\"order\":\"4\",\"max_length\":\"0\"}"},"previous_value":"String","previous_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Previous Value\",\"mandatory\":\"false\",\"order\":\"2\",\"max_length\":\"0\"}"},"current_display_value":"String","current_display_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Current Display Value\",\"mandatory\":\"false\",\"order\":\"5\",\"max_length\":\"0\"}"},"current_value":"String","current_value.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Current Value\",\"mandatory\":\"false\",\"order\":\"3\",\"max_length\":\"0\"}"},"field_name":"String","field_name.$field_facets":{"SimpleMapFacet":"{\"uiTypeLabel\":\"String\",\"read_only\":\"false\",\"hint\":\"\",\"uiType\":\"string\",\"default_value\":\"\",\"label\":\"Field Name\",\"mandatory\":\"false\",\"order\":\"1\",\"max_length\":\"0\"}"}}}],"$COCollectionField.$type_facets":{"SimpleMapFacet":"{\"pwd2droppable\":\"true\",\"default_value\":\"\",\"label\":\"Changed Fields\",\"mandatory\":\"false\",\"child_name\":\"FDChangeDetails\",\"uiTypeLabel\":\"Array.Object\",\"co_type_name\":\"FDfc960c223537b89006c0d2c69b938156\",\"child_label\":\"FDChangeDetails\",\"child_type_label\":\"Object\",\"element_mapping_provider\":\"com.glide.flow_design.action.data.FlowDesignVariableMapper\",\"read_only\":\"false\",\"hint\":null,\"uiType\":\"array.object\",\"child_type\":\"object\",\"order\":\"100\",\"max_length\":\"4000\"}"},"$COCollectionField.$field_facets":{"SimpleMapFacet":"{\"up-shift-collection-level\":\"true\"}"}},"FlowDesigner:FDfc960c223537b89006c0d2c69b938156.$type_facets":{"SimpleMapFacet":"{\"pwd2droppable\":\"true\",\"default_value\":\"\",\"label\":\"Changed Fields\",\"mandatory\":\"false\",\"child_name\":\"FDChangeDetails\",\"uiTypeLabel\":\"Array.Object\",\"co_type_name\":\"FDfc960c223537b89006c0d2c69b938156\",\"child_label\":\"FDChangeDetails\",\"child_type_label\":\"Object\",\"element_mapping_provider\":\"com.glide.flow_design.action.data.FlowDesignVariableMapper\",\"read_only\":\"false\",\"hint\":null,\"uiType\":\"array.object\",\"child_type\":\"object\",\"order\":\"100\",\"max_length\":\"4000\"}"}}</serialized_content><sys_class_name>sys_complex_object</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 04:20:54</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>b0960c221b37b890d575979cbc4bcb57</sys_id><sys_mod_count>0</sys_mod_count><sys_name>FDfc960c223537b89006c0d2c69b938156</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_complex_object_b0960c221b37b890d575979cbc4bcb57</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 04:20:54</sys_updated_on><type>complex_object_collection</type></sys_complex_object></record_update>]]></payload>
<payload_hash>-1213167090</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>864fa5d047b6851024307601e36d435a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26f9f46f0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>FDfc960c223537b89006c0d2c69b938156</target_name>
<type>Complex Object</type>
<update_domain>global</update_domain>
<update_guid>b0960c22c437b8906619ae50e3102b59</update_guid>
<update_guid_history>b0960c22c437b8906619ae50e3102b59:-1213167090</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_source_alert_field</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_source_alert_field" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice&gt;3&lt;/choice&gt;&lt;choice_field&gt;choice&lt;/choice_field&gt;&lt;choice_table&gt;sys_dictionary&lt;/choice_table&gt;&lt;column_label&gt;Source Alert Field&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_source_alert_field&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="Reference"&gt;reference&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;32&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference display_value="" name="sys_dictionary"&gt;sys_dictionary&lt;/reference&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual&gt;name=em_alert^EQ&lt;/reference_qual&gt;&lt;reference_qual_condition table="sys_dictionary"&gt;name=em_alert^EQ&lt;item endquery="false" field="name" goto="false" newquery="false" operator="=" or="false" value="em_alert"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/reference_qual_condition&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 15:53:56&lt;/sys_created_on&gt;&lt;sys_id&gt;e48edd2c1b4cc5d0d575979cbc4bcb5d&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Source Alert Field&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_source_alert_field&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 15:56:19&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>549597315</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8a4f2dd047b6851024307601e36d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d485cc6400000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Alert Field</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>f14f9d6c8c4cc5d0707898c4abcc0813</update_guid>
<update_guid_history>f14f9d6c8c4cc5d0707898c4abcc0813:549597315,47be156cb74cc5d0ded1ed2556b254d2:1862019286</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_regex_new_value_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_regex_new_value" label="Regex New Value" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_regex_new_value</element><help/><hint/><label>Regex New Value</label><language>en</language><name>u_alert_tag_normalization</name><plural>Regex New Values</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:07:35</sys_created_on><sys_id>dac852a81bc009d0d575979cbc4bcb9e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Regex New Value</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_regex_new_value_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:07:35</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-1609190371</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8a4f2dd047b6851024307601e36d4366</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4942d0270000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Regex New Value</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>6ec856a81fc009d060faee2ab3f9c467</update_guid>
<update_guid_history>6ec856a81fc009d060faee2ab3f9c467:-1609190371</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_077df0741b0449d0d575979cbc4bcbc8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
	var value;
	if(g_form.getValue('u_test_value')) {
		value = g_form.getValue('u_test_value');
	}
	
	g_form.setValue("u_test_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:07:09&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;077df0741b0449d0d575979cbc4bcbc8&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_077df0741b0449d0d575979cbc4bcbc8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-06 21:08:20&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1120594930</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8a4f2dd047b6851024307601e36d4369</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d919377510000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>05fca60d23580950442b4cfe57c58306</update_guid>
<update_guid_history>05fca60d23580950442b4cfe57c58306:-1120594930,1fdc346719088d1063dea05c9fa30395:582621697,20dcf0671a088d103525495d4a7e42e5:1273396014,3f8c3c27e1088d1069af755924ab7b0b:582621697,6f0cfce39a088d10e56823c72c47e23e:1273396014,98f8386f6cc48d10ea444fbf78bb3c9f:582621697,5058f06f74c48d103aa2b3e13f028f85:1195763263,1828746f60c48d1079026d9baaff57ac:619290892,9370c9b4204449d0a23686d8db26c536:1195763263,086041b4724449d0341a05cf42ce8d8a:619290892,318ffc309e4449d09594eaa24eb81ce8:1195763263,917ffc30634449d0c838f56042d40cbe:619290892,4d3fb47c7c0449d0abe9584afa667fb7:1195763263,f92ff0fc2b0449d00f8763e4928acaf0:619290892,905eb4b8870449d0a689122b220e1a54:1195763263,3c4e34f4880449d0aaa34daa2f61aa92:619290892,7badb0b4390449d03aa0a6f3d8a80bf4:793566588,c37df074970449d086a860958633daca:-121777489</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_4067dfcb1b440d10d575979cbc4bcbbf</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};

    function recurse(cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
            for (var i = 0, l = cur.length; i &lt; l; i++)
                recurse(cur[i], prop ? prop + "." + i : "" + i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop + "." + p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading) {
        return;
    }
    var value;
    var dictGR;

    if (g_form.getValue('u_source_key_type') === 'alert_additional_info') {
        if (g_form.getValue('u_source_key')) {
            var info = g_form.getReference("u_test_alert").additional_info;
            info = info.replace(/\|/g, "~");
            info = info.replace(/\./g, "|");
            var data = JSON.parse(info);
            data = JSON.flatten(data);
            var key = g_form.getValue('u_source_key');
            if (data[key]) {
                value = data[key];
                g_form.setValue("u_raw_value", value);
            }
        } else {
            g_form.setValue('u_raw_value', '');
        }
    }
    if (g_form.getValue('u_source_key_type') === 'alert_field') {
        if (g_form.getValue('u_source_alert_field')) {
            var column = g_form.getReference("u_source_alert_field").element;
            value = eval("g_form.getReference('u_test_alert')." + column);
            g_form.setValue("u_raw_value", value);
        } else {
            g_form.setValue('u_raw_value', '');
        }

    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:05:50&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4067dfcb1b440d10d575979cbc4bcbbf&lt;/sys_id&gt;&lt;sys_mod_count&gt;29&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_4067dfcb1b440d10d575979cbc4bcbbf&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:14:53&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1559232904</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8a4f2dd047b6851024307601e36d436c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96bfd22a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>3608f3916e5c41107550c7e28253c560</update_guid>
<update_guid_history>3608f3916e5c41107550c7e28253c560:1559232904,1377f351b45c4110dc2abb0285b866db:1852391128,bdd67bdd381c41100f76aa4dc47d34b9:1821936156,c4857b1d1b1c41103624b22e2dbbeb9a:1184937876,13143b59651c4110b23e2ac13e9c41d9:1971437752,ef3d4f558bd4411017ff3f4f6705c698:859804566,42ec0b5569d441109b7f730b98f3ef72:-1204840037,3f5c0fd125d441104822cff32756d1c3:1582605974,091c0fd15fd441104290ff4d78ee0e8c:1890225901,f4bb4f9124d441101d52766a568fc7cd:-1597462005,c2aa8711bed44110f318d02c0e5eae58:-1334555745,8e7a071179d44110a7c959af1b04a418:-476632986,0c438f11b5944110061080712e19c576:418780181,4b6203dde654411083b975e4a1a853e4:1533184149,52b1c75d3f544110455bf85f0f76b228:246683580,6299321d6f144110f47bcc276628a52e:897744464,5229fe995f144110b6cd24d4882f8107:59919364,d1d83299f0144110720b8573e58d74f7:584296797,88d83299911441102d083bf253e20482:-1848693854,968872596a144110279a45c4dc72a821:-188006462,27a43a115b144110406dbd8fb0c48305:-944552341,4991be1944d04110e01ec1146913ef48:-1052605508,4581fa193bd041109d2a52deb8e78430:351570575,59ab34e394088d1095813537658d34b2:-1052605508,5b3b38a39e088d105d39891ad0455fa4:351570575,78eaf863ad088d100fac85c5e59b8697:-1052605508,bada7c63d1088d10bbff0a155c944a55:351570575,4398d38f4a440d108bba3f6fb32cf334:-1052605508,7bf7170f3c440d103e24841a1e0d7347:2101573178,0067dfcbdb440d10b158f6b24ee50fc1:1138786613</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_6a04ca681b4009d0d575979cbc4bcb1d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_new_value&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:41:07&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;6a04ca681b4009d0d575979cbc4bcb1d&lt;/sys_id&gt;&lt;sys_mod_count&gt;49&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_6a04ca681b4009d0d575979cbc4bcb1d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:42&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>993171990</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8a4f2dd047b6851024307601e36d436f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e650f70000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>a2a1016f4f088d108e27302376fec196</update_guid>
<update_guid_history>a2a1016f4f088d108e27302376fec196:993171990,6c11012fcb088d106d8bf3cf8315891c:471875222,90ce302b2a088d103e4e564036b07d4f:1123413120,6a7e3ce724088d1090fecfb150687339:1101805079,c57ebce76a088d1065ff8ad4080b63fa:1027683140,fe6ebce76a088d103cf76860c7b52801:1101805079,096e3ce7a1088d10abe2dae8abd7defe:1027683140,ff4eb8e7ff088d10107691730208a0dc:1101805079,2c4eb0e746088d10b1e5783486354800:1027683140,14cd3ca7ef088d10c28dc18597402ef6:1101805079,26fb7ce38d088d101ce9f362cdc4bc51:1027683140,848b30e39e088d10971351690503d4da:1101805079,aa5b30a358088d107cb782f7a8232551:1027683140,5b3b38a304088d101c877ae36ca7a7c0:1101805079,e83bf4a321088d108b9c93d58fdd2c3d:1027683140,ee2bf0a367088d1038de03fc9afb4b7c:1101805079,5295534bd3440d109d8d137c93c5d28e:1027683140,b8a0c5f4ef4449d09940cd0f5cef25d9:901296668,887001b45c4449d0b50ac504353a0501:562737598,886041b40a4449d065f29811e4153865:2038624587,039f7870764449d07ce61c34ca47c6ed:562737598,117ffc30364449d0ef74fd4fd0d870e3:2038624587,ce5fb0306a4449d00a395e9e4fdc9d31:562737598,ff4fb030bd4449d04f1d8f8c4b7b6f2c:2038624587,44cd1260620409d00211645c163483ac:562737598,925bd2acfbc009d0a0aeeb5886014ec4:-1675585477,b50b526c0bc009d0bf4d8d7426ccced8:1082805016,bdda1e2c86c009d07e6bea1918e236cb:-521410952,b26a526c9bc009d00488f64b24a82c94:331409815,e93a562c53c009d05c6485532a183b4d:-2039345425,36f9562c81c009d05e392e94ce4958f8:-1155434817,f899dae876c009d08c9325f3b404f248:-2129773675,ebd8de686bc009d00d64d22a0f2ffe18:1985130521,e3285668d8c009d0691209ca33d56b33:898968537,00f79a2858c009d0516fcfd2aa020060:80285767,edb71a2871c009d03ff5a1d430c3d908:2086744874,dda7d62823c009d0e113518a4830b0b1:982774073,b126de6449c009d017592f87c1fb2f0d:-1762217364,925986a0f08009d0b72dc7b4f24b07ea:-1134277823,a8290a20368009d0e8c559a8b52ebc01:-1862969260,45580eac594009d08e18f773429cf6b4:-888630402,d328ceec444009d0a5f125acccfe33d8:-1862969260,1a970aeca84009d0a2a837204269a79d:-268479900,63c68a6ca24009d0ad3a2fffec3dd237:457819932,0a96826caf4009d0a55436504c95435b:1432158790,d6564e2c0f4009d0ebaad52698c9b7a4:1438253068,e5064e2c504009d002656e868dc69c8f:-1573754742,9cc5c22cd64009d05025610f09c0bd88:275661277,fc3506e8454009d0f60015b7f3f11879:-1573754742,b7f482e8604009d02b5a3af09ac71d5e:1408221117</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_app_module_0df2b3de1b73b890d575979cbc4bcb38</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="DELETE"><active>true</active><application display_value="Event Management">c1e9a9d5ff023100995cffffffffff60</application><assessment/><device_type/><filter/><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Alert Tag Normalizations</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>u_alert_tag_normalization</name><order>73.5</order><override_menu_roles>false</override_menu_roles><query/><report/><roles>u_alert_tag_normalization_user</roles><sys_class_name>sys_app_module</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:11</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>0df2b3de1b73b890d575979cbc4bcb38</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Alert Tag Normalizations</sys_name><sys_overrides/><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_app_module_0df2b3de1b73b890d575979cbc4bcb38</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:35:51</sys_updated_on><timeline_page/><title>Alert Tag Normalizations</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload>
<payload_hash>-1282714649</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8a4fa5d047b6851024307601e36d4359</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337a5eb00000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalizations</target_name>
<type>Module</type>
<update_domain>global</update_domain>
<update_guid>5ba620576a7bfc90f4022c3fd19e1274</update_guid>
<update_guid_history>5ba620576a7bfc90f4022c3fd19e1274:-1282714649,94866817c57bfc90d4764e6d5595c979:238996699,89f2b3ded673b89069be6302d944b254:531053588</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_raw_value</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_raw_value" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Raw Value&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_raw_value&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;4000&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:52:04&lt;/sys_created_on&gt;&lt;sys_id&gt;7567c2ec1b4009d0d575979cbc4bcb42&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Raw Value&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_raw_value&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 18:52:04&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>1754200139</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8a4fa5d047b6851024307601e36d435c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48fdafc80000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Raw Value</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>e48746ec454009d0ee4cfbc189a952ef</update_guid>
<update_guid_history>e48746ec454009d0ee4cfbc189a952ef:1754200139</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_number_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_number" label="Number" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_number</element><help/><hint/><label>Number</label><language>en</language><name>u_alert_tag_normalization</name><plural>Numbers</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-18 14:33:29</sys_created_on><sys_id>a1f568d31b7bfc90d575979cbc4bcb23</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Number</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_number_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:33:29</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-903241985</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8e4f2dd047b6851024307601e36d4365</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337781f90000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Number</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>21f568d3d67bfc902a808cc660c3892f</update_guid>
<update_guid_history>21f568d3d67bfc902a808cc660c3892f:-903241985</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_212472281bab3410d575979cbc4bcb7b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;em_alert&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;TBAC Tag Normalization BR&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[JSON.unflatten = function(data) {
    "use strict";
    if (Object(data) !== data || Array.isArray(data))
        return data;
    var result = {}, cur, prop, idx, last, temp;
    for(var p in data) {
        cur = result, prop = "", last = 0;
        do {
            idx = p.indexOf(".", last);
            temp = p.substring(last, idx !== -1 ? idx : undefined);
            cur = cur[prop] || (cur[prop] = (!isNaN(parseInt(temp)) ? [] : {}));
            prop = temp;
            last = idx + 1;
        } while(idx &gt;= 0);
        cur[prop] = data[p];
    }
    return result[""];
};

JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

(function executeRule(current, previous /*null when async*/ ) {
	var norm_obj = {};
	var source_norm_obj = {};
	var field_norm_obj = {};
	var source_field_norm_obj = {};
    var info = current.additional_info;
	var formatRx = new RegExp(/\/(.*)\/, '(.*)'/);
	var newKey;
	var newValue;
    info = info.replace(/\|/g, "~");
    info = info.replace(/\./g, "|");
    var parser = new JSONParser();
    var data = parser.parse(info);
    data = JSON.flatten(data);
    var key;
    var nKey;
	var tags_obj = {};
    for (key in norm_obj) {
        if (data.hasOwnProperty(key)) {
            var nInside = norm_obj[key];
            for (nKey in nInside) {
                newKey = nKey;
                newValue = data[key];
                var att = nInside[nKey];
                if (att) {
                    var rx = att["regex"];
                    if (rx) {
                        var rxMatch = formatRx.exec(rx);
                        var rxFunc = new RegExp(rxMatch[1], "gm");
                        var rxTest = rxFunc.test(newValue);
                        var rxRep = rxMatch[2];
                        if (rxMatch &amp;&amp; rxTest) {
                            newValue = newValue.replace(rxFunc, rxRep);
                        } else {
                            newValue = null;
                        }
                    }
                }
                if (newValue) {
                    data[newKey] = newValue.toLowerCase();
					tags_obj[newKey] = newValue.toLowerCase();
                }
            }
        }
    }

    var source = current.source;
    if (source_norm_obj.hasOwnProperty(source)) {
        var sourceNorm = source_norm_obj[source];
        sourceNorm = JSON.stringify(sourceNorm);
        sourceNorm = parser.parse(sourceNorm);
        var sKey;
        var sNKey;
        for (sKey in sourceNorm) {
            if (data.hasOwnProperty(sKey)) {
                var sNInside = sourceNorm[sKey];
                for (sNKey in sNInside) {
                    newKey = sNKey;
                    newValue = data[sKey];
                    var sAtt = sNInside[sNKey];
                    if (sAtt) {
                        var sRx = sAtt["regex"];
                        if (sRx) {
                            var sRxMatch = formatRx.exec(sRx);
                            var sRxFunc = new RegExp(sRxMatch[1], "gm");
                            var sRxTest = sRxFunc.test(newValue);
                            var sRxRep = sRxMatch[2];
                            if (sRxMatch &amp;&amp; sRxTest) {
                                newValue = newValue.replace(sRxFunc, sRxRep);
                            } else {
                                newValue = null;
                            }
                        }
                    }
                    if (newValue) {
                        data[newKey] = newValue.toLowerCase();
						tags_obj[newKey] = newValue.toLowerCase();
                    }
                }
            }
        }
    }

    var fKey;
    var fNKey;
    for (fKey in field_norm_obj) {
        if (current.getValue(fKey)) {
            var fNInside = field_norm_obj[fKey];
            for (fNKey in fNInside) {
                newKey = fNKey;
                newValue = current.getValue(fKey);
                var fAtt = fNInside[fNKey];
                if (fAtt) {
                    var fRx = fAtt["regex"];
                    if (fRx) {
                        var fRxMatch = formatRx.exec(fRx);
                        var fRxFunc = new RegExp(fRxMatch[1], "gm");
                        var fRxTest = fRxFunc.test(newValue);
                        var fRxRep = fRxMatch[2];
                        if (fRxMatch &amp;&amp; fRxTest) {
                            newValue = newValue.replace(fRxFunc, fRxRep);
                        } else {
                            newValue = null;
                        }
                    }
                }
                if (newValue) {
                    data[newKey] = newValue.toLowerCase();
					tags_obj[newKey] = newValue.toLowerCase();
                }
            }
        }
    }

   if (source_field_norm_obj.hasOwnProperty(source)) {
        var sourceFieldNorm = source_field_norm_obj[source];
        sourceFieldNorm = JSON.stringify(sourceFieldNorm);
        sourceFieldNorm = parser.parse(sourceFieldNorm);
        var sFKey;
		var sFNKey;
        for (sFKey in sourceFieldNorm) {
            if (current.getValue(sFKey)) {
				var sFNInside = sourceFieldNorm[sFKey];
				for (sFNKey in sFNInside) {
                newKey = sFNKey;
                newValue = current.getValue(sFKey);
				var sFAtt = sFNInside[sFNKey];
				if(sFAtt) {
					var sFRx = sFAtt["regex"];
					if (sFRx) {
						var sFRxMatch = formatRx.exec(sFRx);
						var sFRxFunc = new RegExp(sFRxMatch[1], "gm");
						var sFRxTest = sFRxFunc.test(newValue);
						var sFRxRep = sFRxMatch[2];
						if (sFRxMatch &amp;&amp; sFRxTest) {
							newValue = newValue.replace(sFRxFunc, sFRxRep);
						} else {
							newValue = null;
						}
						}
					}
                if (newValue) {
                    data[newKey] = newValue.toLowerCase();
					tags_obj[newKey] = newValue.toLowerCase();
                }
				}
            }
        }
    }
	data["itom_tags"] = tags_obj;
    data = JSON.unflatten(data);
    var ai_string = JSON.stringify(data, null, "	");
    ai_string = ai_string.replace(/\|/g, ".");
    ai_string = ai_string.replace(/~/g, "|");
    current.additional_info = ai_string;
    current.update();

})(current, previous);
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-10-29 01:49:09&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;212472281bab3410d575979cbc4bcb7b&lt;/sys_id&gt;&lt;sys_mod_count&gt;228&lt;/sys_mod_count&gt;&lt;sys_name&gt;TBAC Tag Normalization BR&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_212472281bab3410d575979cbc4bcb7b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-03-01 19:50:59&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=212472281bab3410d575979cbc4bcb7b"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>-286437134</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8e4f2dd047b6851024307601e36d4368</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17f470934fe0000002</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>em_alert</table>
<target_name>TBAC Tag Normalization BR</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid>f86a806ce48a81109a7beff60450ca61</update_guid>
<update_guid_history>f86a806ce48a81109a7beff60450ca61:-286437134,1fd9c02cf38a8110b102e6a03d1b7f5a:-1714627758,06d9802c598a8110a6228baae2c74bc4:1215435256,58594ca8d38a8110628752b2c433f6a9:-1609892477,8e9684e4608a81104037ea20d6cf144c:-119763105,e4d5cc64fc8a8110cac2bf2bd4be30cd:-2032204916,30a5c8646a8a81108a2da8c7c3cef22c:686948166,2bd40424838a81106afb8e0e972d766e:990515803,9faafeba6e8981105dcf9680323c5807:-119763105,927f643d4c58051021b839e33a81d881:-305294081,827f643ddc580510ee8964345d9e2428:-1169716758,585f6cf9a9580510ebef6a3f884e0570:-305294081,183e2079d5580510fc639c9740323143:-119763105,345ce835305805100cdeaf75e518efdb:987780786,380b20fda018051063e33aa55b0df346:-2003960475,0fb86c3d641805108bab7805304cfb03:-1027626409,59c173e58c500510a22c80d1efff16de:-330816823,a261f3a5d55005107eaa6bd00b461461:-1104654578,22513365bd50051077f43fb220dd9a67:1322859454,66f0336504500510c1847a5218b1cb7e:-1027242072,dbb07b25e5500510387c09ceed1d06f7:697016920,e4a0772590500510daa8580a55a2cbf9:1618962399,2b00b7615050051035220446fc4da81e:86377619,c3bf67a1d85005101cca4955c99830c9:697016920,a0afa3a19550051098cf12c618298b00:79485688,486fe761cd500510d9b4f77ea0cde6af:-45310321,2fdc6be99310051013a9bd5588b1e8c3:785931991,a92babe58c100510bb22283b8a7a0491:600821435,93f92365dd100510f0e6513597030ff9:697016920,a90923e14c100510abf5166f0df9f348:77629432,8fb8a7a14e1005106ee3ffbaffab8c20:-1391548264,14972fedbbdcc110db267be7ae3a1291:785931991,9d57e3edb8dcc11000598402be0e83ca:-101223183,66dbd3a5da9cc1105a7a2ce2a63db061:-1391548264,c18dfda183dc811028f5cf25d2f24c60:785931991,88acbd2152dc8110bcbd2c3479bc3f3b:471853552,958cb921cedc81107a7cdfa5ce829a44:-51634006,7deb71ed369c81108a6f1fdbc21bf507:-293433925,e5dbbdad359c8110976ecf601bbc3726:1798905044,a3ca792df59c811035fe1b93eb00d79c:-293433925,94babde9f59c8110052bc87b033a5929:1798905044,839a712d6e9c81102bf591700a665970:-293433925,9d8abde9979c81109663e440228f48b9:2014233753,0e5fade15d5c8110cb303e01a038ed47:119694471,7b6eed618f5c81101b393f2ef587a83c:-1571940651,1a4e69619f5c81106b1ce5f6d9da2d5f:597585344,f80e2121a55c81109f512d1ad5d7e19d:-458163831,ec9de9ad861c81109020cf921780d12d:433830686,92fce16d1b1c8110915d57b749c9d5c5:-45070813,09ac6d6d681c8110e44a50f416e9cb38:-759529731,f5cbede9591c8110e5b6e80e33086233:-86804687,339aad29761c8110a2318a2a76368c7c:1086975764,59170025e4dc4110474162754712770c:1100262212,a34680a1aadc411070b39a7caa97f66c:1798905044,606f33d1b69c4110b657abdcb88399ff:-843255192,acde3f517a9c411030d2c9a61f8059d8:892622028,9efaf359165c4110c7c584f7f8f7414a:-1224624701,7cbaf719c35c4110d5178d521a5485ba:892839513,802a33d5665c4110e86f9395a3c433b9:-1224624701,f01abf95bf5c4110d5794de881b1ecdb:126217507,08eb22c96f580950fe0ce14bd1b7d7e3:-1224624701,7578fc6f8dc48d10030d0b764614c30f:717474772,3f68bc6ffec48d10781e7cf97f371c06:1825827361,b277f02fc4c48d10aa9d2847a7332400:717474772,eae6b0ebd2c48d10618ab740b03cb7ac:-1711183499,6c95f02ba4c48d109f2be14e4dcd1a1d:-271434195,7315b02bc4c48d1012dda25ffdb750d5:-521598497,ac24b8a7e1c48d107d497b36400f9c95:233588972,ed93f86736c48d10728bb796f1a739f8:2092179547,e233fce399c48d1066617826bfba8f95:1009836339,9e623ce324c48d107053efa0614f33c8:-1519399338,98c13ca320c48d10995655c074d919c0:609571595,0e7174a3e5c48d10f27b6c45d553fe90:184696955,c411786385c48d10e36e88c7fd1790b1:1493604266,d37cec6b77848d107005fc4e7fb3f352:-1233045875,d17b242b7b848d108434edeeff9d1344:-913913411,3dba98ef5e048d102cf5af4770e5f1b4:-648354432,945adcaf56048d108356255bfdfbde99:2109273392,f4d990afd1048d1061d5360ea8d31c6a:-2111850024,dbd8982fef048d10d2f174a3c72a6ae9:-1080624412,30e4d0a75b048d10f4f704c4f8bb89a6:84307165,dcd450a7dd048d10ca2869e28458d7dd:-787451909,9cc1d463d5048d10ad28f756a23c3f45:258108157,b4b154631c048d10561e1d2cde10bac2:1991422048,527154efdbc08d10cb5d341019520c37:-1669822803,3ee98467f2c08d10e60707cdc43ab5a7:-874337347,81964cef06808d1009d78687362ee133:-384924148,df14802f90808d100c146ff913f25ef2:-2093292153,58434cabac808d10f6c91d334653e74a:1916653354,b433c8aba7808d10c32fb3e257f2cea1:1922875019,b600886758808d10b5e3f162a4a92756:-355792874,e50f331781808d10775851389353546b:-1712305797,f40d3353ce808d108acdd95085942846:1916653354,c8d4b71798408d10dc30be13a4b32536:-667417173,0d943fd3b4408d108fa3528fa25213d1:-1522772877,7b845b17428c4d10c827af0c696abf54:1632015549,4564d717528c4d1073d9be96b833192e:-1039139975,02245bd3be8c4d1094b62a94bf6ee935:-1629545129,fec3d7d3fd8c4d10822b52928f3dc34b:1632015549,50535b933e8c4d107c555fc9fb808abb:2033288157,4ae29f536f8c4d1040a574fc47d806d0:1750311583,fa72d3131e8c4d10904d52e8a9b08448:-389440519,c0d15313948c4d106bcbc5648d6459e5:320905669,3d715bdf834c4d104b64c09d5be50758:-345645876,5e2153df1e4c4d10bc1630f5483a5048:-407416993,5ce09b9ff14c4d1091e058684adb842e:470873486,55309f1f374c4d1016145813d9c93321:-1691750969,02af8b1fce4c4d1062e52eb0402d7bb2:-1146449770,c95f87db8d4c4d10d1c5824abcdd1f2e:-1621633369,e8fe8f5bfd4c4d10826b6a377604cab7:-2069742641,bbed435b714c4d107b9bedecd35c1bfa:2096617101,7ead4f1bc34c4d10dfeb27ac9dd52b08:74854802,e53d4fd76b4c4d107ed39f2f7e8ddaea:-69348846,37483f8f06080d10b414b248140b7a24:1927507020,c6a2e74f71840d10f2035f66c078a0ac:-2143180863,d0422f0f3e840d10ddfda1223892fa02:1677729921,10eebac700c00d109e974e4ced3b6dd2:1939814869,3c1c3e8382c00d10e9033f9b766d0bbe:544768013,d37a2a87f2400d108ba8e118c425ff1d:-917896273,8779a29a0204c510a8d2a2a8911f4cfb:1786787080,91e662d6d904c51027b682bdcf73465c:563781753,c675a296bc04c5100450fc088e287972:2070223088,cbc46e161404c510baf523f61aa4a229:486063679,13412edefec0c510a4ce8be4b997f2ff:271634915,9da06a9eb5c0c510daaa2acceb111a9e:1596527157,03537c38008049d08003468cb183aae1:-1129484876,d941b874258049d0fae6918aea0dbe1b:1596527157,84303cf0f98049d03807c088d77d479c:1834467466,095ee4304a8049d026335044ba252180:-687795566,3b7d20fc1d4049d09a9eeeba49c6eba5:-538685816,4b7d20fc404049d0f3293acc5704ce40:710174269,324d68bca64049d0423ea693ed9f9cf5:-538685816,d2cc2c7ccc4049d05c8ff2f11eda7f24:2062287898,49fd1c74430049d047fc096ccab38802:746842077,a78d5834800049d000d54df2c062bc9f:3816999,673d90f0ef0049d033840658bda5cee7:1508275341,f3dc18f0050049d0317e4f5c2e70262e:-1643822599,ae4c1cb0230049d088479149f696aa6d:-1188499091,2deb54b02b0049d0e7fd469338732c37:541989049,6d1bdc30960049d08da4aacdf303ac9b:-1875284952,fe852eacb80409d0e075d717e27c15af:-435112272,c225e22cb00409d0cb37cf53c067f7fe:-101975550,01f4ae6c010409d034ba34b810c31e58:247202925,f0e36a684d0409d03c087a6902171f0f:135360151,3363a2e8ae0409d0cf657310b55690e3:1696527687,cbc26aa8050409d0501766f5a5e3f1a4:1224128535,81c1ae28720409d07797de4fbcfd35bb:21744462,8532ade0358cc5d055619d4ba4fcd9bf:-1367265123,1ea1002fc6bf30d0811755e6b440beb9:-964982788,6c50486be7bf30d0d60839e4d4ea3fff:833220592,37ae3f970bbf30d0bdcbf0183769fcae:1651012603,d71efb57adbf30d05bef3a7e595178d9:-714000988,98fdf75736bf30d0574029b6104e6eac:1749015900,a85d77176dbf30d0f95e6b068d8da8d0:-104141681,694cbb93c5bf30d01411d8cfdaf67604:479359753,37c97b9f4f7f30d03f0f02aee9cbea00:-1467828204,e019f35fec7f30d001e817e6e94e4ea1:1269455024,4ab87f1f567f30d0fc82a367d8aff03d:1575040807,e4d73b9bdf7f30d02661f08ee8af4d97:1986999539,6fb6fb5bc67f30d013ca8d43b8029620:1232565127,0a26fb1be87f30d09fdebcba07d0a190:-2036186265,1beaa593e63330d09ee8c0b1d495180d:2101842934,fe3aa153543330d0a37e7a31f866f027:527616678,bcdd9d1fc1bffc90c6e0e4b566b707bf:558257910,e7dc55db51bffc90182fe79cde0573e2:2101842934,764c959b93bffc90e5fccd5bd0f49405:558257910,612524939c7bfc908e3c596b61b9a77e:-1457439286,421568536f7bfc9081b8f8f83875aff8:-1076843746,8413209fbb3bfc90de9c09c511d43018:-1861718275,85f22c5fc93bfc90eab4e62209a211bf:-721306723,dcde54d7f63bfc90651abe9ec18187ac:136033560,0f5e9497cc3bfc90b49e4979b9f847f3:-519837512,67ddd457683bfc9004a9f5049b910f5e:-1894588796,654b2d4b9b37bc90e4cdea5508cfa646:2115104901,4b8e808b1dfb7c90f6b5a55be6a9f6c4:-1450057030,8bcd7172cdfb3c90a1837d8a3753b8d0:2115104901,02fc71fed7bb3c90403dcca593a56463:1310908123,061cb97e26bb3c9009e29aecf5bf9d1e:1728297004,0cebf17ee5bb3c905e8c67cb26063ac3:1310908123,c9dbb17e94bb3c903088bd1aca3e6e31:1728297004,3d5b753e34bb3c9074b7a714f16aafce:-424318884,514bf13e59bb3c90d2b51b0dd25e0abd:559389338,862b313ecbbb3c90352cea21b9f09a93:-424318884,60ea39fa80bb3c90faf7d5b836ec2445:-1334666348,0d0a71ba1bbb3c903413688764d4901e:933893814,4cc8fdf6b7bb3c90cef8ea00b0c04ff4:-1334666348,7a68b5f6e0bb3c90ee12b6c2d40b722e:-106861834,f04871f6aebb3c9026ccdd5c0e86fa9e:194790520,ffd739b648bb3c904af0e3e04c09c938:-1635686777,1c77f97649bb3c9074ec06cefdb24ecd:303549035,d167b976f5bb3c90ee843ecc4c086507:-1224522893,5a377576e7bb3c9004db8ee780815cb6:303549035,38d6393604bb3c900e05c6b0154a02f8:-2073633466,c313357eec7b3c90fc32b64179287854:420911246,dde23d3e2c7b3c90abeabf49d27d6796:-183109601,483fe1b6ee7b3c90c935c19546ed256f:2115104901,ac0f6d76ab7b3c909b1c0ecccb7f6546:701874431,f1aee176017b3c90cb3f9b96214d1853:-1993939204,747e2d36d97b3c904c57e592e5068622:1210197611,f0eca1b20b7b3c9023f7df9f0aabc93b:701874431,9c9c2972ee7b3c90ebf60274887fc88d:980986269,c51aa17e263b3c90232409611f6fc8f5:-454086291,4556e1b60a3b3c90a9cd80e46323f6d2:-765309239,0416a9768b3b3c909dea47f8af9d0fe0:-141210644,f9e5a976e73b3c90c9123fae0cc8d67a:1824369723,17a429f2dc3b3c9082e1fdb9ae0800f1:-1504161647,6d54edb2823b3c90d8e98d745d2e9c91:166951846,58f325b2d33b3c90cac63c3c03ff8081:-763008228,79a32d72653b3c903535d5c271d05b91:-1039481410,a3332172503b3c90ad36aa4381066a4a:-1679060351,2972e9fe08f73c90a0aa22d9764498be:1620565297,9b4bcc2a9937b89016ab35304e8b8ae6:-454086291,e027cc629437b890756ada7ef9f8c88e:532576001,ef66c422c637b89019e3bbd405300e8c:1581617542,85edf3705febb410cbcddd7abdb1cd70:1698765310,92adfb307aebb41071ecf62c9c15150b:-527429617,cccb7f7c23abb410bc3c17942322fd43:-1174481902,059b3b7c54abb410e51822afca15c468:-939544814,deb8337862abb41035bf9355ee3e95eb:-1079355650,74a666fc27a3b4105cffe3eb75c80790:-532097009,510db6a416eb341008fc2def83db034c:-1590096848,53b9f66077eb3410f6a862f58024c610:323180605,8f79fa20aeeb3410fc506c88e0009104:1993264912,02f8b620ebeb34105bf304009b8a939e:-419911727,10d832203aeb3410a60022193b56621f:-1169156614,f17876ec7cab34102d29c066a7b4d7ed:-1176378387,8687326c12ab34104abcb1296eb0c10d:-1169156614,9c87fe2c14ab34105ae95a9171a44290:-1176378387,9a373a2c59ab34107fb1337f8178c60c:-757569254</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_3267d30f1b440d10d575979cbc4bcbea</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field' || g_form.getValue('u_test_value')!=='') {
		return;		
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:06:01&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;3267d30f1b440d10d575979cbc4bcbea&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_3267d30f1b440d10d575979cbc4bcbea&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:14:30&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1655544036</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8e4f2dd047b6851024307601e36d436b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95acd16a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>ba433e1d98d0411008982fb206130ac9</update_guid>
<update_guid_history>ba433e1d98d0411008982fb206130ac9:1655544036,3923f21d1ad041101d6305759e1661c5:764422801,f60376d920d041108576dab3b2865040:1655544036,67a23ad972d04110218a221b84eab16c:764422801,8b627a992bd041105cc106c8b7f70949:1655544036,d61272990fd04110a84fffdd79f81171:764422801,4991be19f1d0411090296aa498725444:-982054007,4581fa1985d04110f40aba1a850dbd2c:125204188,4731bed5fcd04110500a2223dab19e18:-982054007,f721bed58dd04110196074f1b4c55311:125204188,878d6e9dc89041102e684023a227a110:-982054007,91ab34e3e5088d10e3a01efae95c9e9e:1054849014,5b3b38a3bc088d109154901f478581ac:1446090435,2dfa30a3cd088d108a3304d6587bbe26:1054849014,abea786377088d10fbfe037bf2ea6404:1446090435,fbe7134f4f440d10894fc4674275d453:1054849014,fe67d30f27440d10f5ebe65c9d494feb:-1603241223</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_5770cdab1b088d10d575979cbc4bcb9f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:23:34&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;5770cdab1b088d10d575979cbc4bcb9f&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_5770cdab1b088d10d575979cbc4bcb9f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:42&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-418981451</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8e4f2dd047b6851024307601e36d436e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e6501a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>e6a1016fe5088d10b9c300f52583a179</update_guid>
<update_guid_history>e6a1016fe5088d10b9c300f52583a179:-418981451,1770cdabec088d10624390fffa81b1a1:-1081822454</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_flattened_data</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_flattened_data" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field&gt;category&lt;/choice_field&gt;&lt;choice_table&gt;em_alert&lt;/choice_table&gt;&lt;column_label&gt;Test Alert Flattened Data&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_flattened_data&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;4000&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:18:34&lt;/sys_created_on&gt;&lt;sys_id&gt;2a387f1a1bb3b890d575979cbc4bcb5b&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;Test Alert Flattened Data&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_flattened_data&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 14:25:14&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>1259791154</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>8e4fa5d047b6851024307601e36d435b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d336ff4b50000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Test Alert Flattened Data</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>38142013ad7bfc9035051e62efd355c9</update_guid>
<update_guid_history>38142013ad7bfc9035051e62efd355c9:1259791154,d0d87f5aa9b3b8902a4d2d6c1e83edf6:196151424,91b8fb5a72b3b890b3392417834396eb:1894935755,a348ff1a42b3b890dfaabf394a21c477:-2012896731</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_889af0571bfbfc90d575979cbc4bcbe7</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;sysverb_new&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition/&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;true&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;true&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;true&lt;/list_action&gt;&lt;list_banner_button&gt;true&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;true&lt;/list_choice&gt;&lt;list_context_menu&gt;true&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;messages/&gt;&lt;name&gt;Define Tag Normalization&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var atn = new GlideRecord("u_alert_tag_normalization");
atn.u_test_alert = current.sys_id;
atn.u_active = false;
atn.insert();

action.setRedirectURL(atn);
action.setReturnURL(current);]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 16:04:41&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;889af0571bfbfc90d575979cbc4bcbe7&lt;/sys_id&gt;&lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;&lt;sys_name&gt;Define Tag Normalization&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_889af0571bfbfc90d575979cbc4bcbe7&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 16:43:52&lt;/sys_updated_on&gt;&lt;table&gt;em_alert&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>1707920873</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>924f2dd047b6851024307601e36d4375</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d76e189890000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>em_alert</table>
<target_name>Define Tag Normalization</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>ca704c67fd808d102e14cdf28bc37a5e</update_guid>
<update_guid_history>ca704c67fd808d102e14cdf28bc37a5e:1707920873,064e155fddbffc902659e21a632ef461:-1064756741,c91e555f97bffc9047f11dba3cd210d1:-1660932646,e98d951f5fbffc904e712ba47798c007:-1076590034,23cc919bf2bffc9080a78554c4c45b04:1414323093,0a3c919bcdbffc904035da4d4fdbdc43:-1022669024,42db1dd7d8bffc9051c55a1813aeb7fd:1650166914,8fab115b2dbffc904eead608698f88ea:1689192603,52da99d734bffc909497038356513779:-607075707,04241ddbcc7ffc9024a72455c650337d:-504815791,680c34d7c8fbfc900cafff1849c489ff:-1824105500,c4fbf8d770fbfc905b337cad569d1632:-1962579405,edbb74d70bfbfc90b8971d476974da69:1688201087,4f6b3097c1fbfc90b4138a29464bdfb2:-701274089,b05b3c57aefbfc901620c59af23fc392:-2044135846,25da785712fbfc902e4afda4bb56e932:-1290818130</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_cf106dec1b4cc5d0d575979cbc4bcbd7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_source_key</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 16:00:10</sys_created_on><sys_id>cf106dec1b4cc5d0d575979cbc4bcbd7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_source_key</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_cf106dec1b4cc5d0d575979cbc4bcbd7</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 16:00:10</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN field source type">3d6f59ac1b4cc5d0d575979cbc4bcb5d</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>206179766</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>924f2dd047b6851024307601e36d4378</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48604d360000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_source_key</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>5220a9ecd24cc5d0bdb646cc5199876d</update_guid>
<update_guid_history>5220a9ecd24cc5d0bdb646cc5199876d:206179766</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_49f2b3de1b73b890d575979cbc4bcbaf</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:12</sys_created_on><sys_id>49f2b3de1b73b890d575979cbc4bcbaf</sys_id><sys_mod_count>1</sys_mod_count><sys_name>u_alert_tag_normalization.evt_mgmt_admin</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_alert_tag_normalization">49f2b3de1b73b890d575979cbc4bcb8f</sys_security_acl><sys_update_name>sys_security_acl_role_49f2b3de1b73b890d575979cbc4bcbaf</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:33:30</sys_updated_on><sys_user_role display_value="evt_mgmt_admin" name="evt_mgmt_admin">600be631eb12110045e1a5115206fe38</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>1342657964</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>964f2dd047b6851024307601e36d4374</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337783870000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization.evt_mgmt_admin</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>e5f568d3247bfc909be24d506c6a5640</update_guid>
<update_guid_history>e5f568d3247bfc909be24d506c6a5640:1342657964,11f2b3ded473b8901eda41f9b69747b3:736870325</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_b7d14a641b4009d0d575979cbc4bcbd1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_regex_function</field><mandatory>true</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 18:27:35</sys_created_on><sys_id>b7d14a641b4009d0d575979cbc4bcbd1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_regex_function</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_b7d14a641b4009d0d575979cbc4bcbd1</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 18:27:35</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN regex">dad146641b4009d0d575979cbc4bcb89</ui_policy><visible>true</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>-231676153</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>964f2dd047b6851024307601e36d4377</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48e742ad0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_regex_function</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>69e14a648f4009d0691c1f0f1e2282da</update_guid>
<update_guid_history>69e14a648f4009d0691c1f0f1e2282da:-231676153</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_8df2b3de1b73b890d575979cbc4bcb5c</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_alert_tag_normalization</description><name>u_alert_tag_normalization</name><operation display_value="create">create</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:11</sys_created_on><sys_id>8df2b3de1b73b890d575979cbc4bcb5c</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_alert_tag_normalization</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_8df2b3de1b73b890d575979cbc4bcb5c</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:11</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-460099103</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>9a4f2dd047b6851024307601e36d4373</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab799d0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>89f2b3debb73b890772c6ce3831f9964</update_guid>
<update_guid_history>89f2b3debb73b890772c6ce3831f9964:-460099103</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_6bc0e1601b8cc5d0d575979cbc4bcbd7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_source_alert_field</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 16:03:07</sys_created_on><sys_id>6bc0e1601b8cc5d0d575979cbc4bcbd7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_source_alert_field</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_6bc0e1601b8cc5d0d575979cbc4bcbd7</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 16:03:07</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN no source type">fdc069201b8cc5d0d575979cbc4bcb59</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>1076134347</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>9a4f2dd047b6851024307601e36d4376</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d486300090000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_source_alert_field</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>21d02560f88cc5d09076e495822b84e4</update_guid>
<update_guid_history>21d02560f88cc5d09076e495822b84e4:1076134347</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_d1f8f39a1bb3b890d575979cbc4bcbb8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Flattened Data&lt;/description&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Flattened Data&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
				 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '')
		return;
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var data_string = JSON.stringify(data, null, "\t");
	
	g_form.setValue("u_flattened_data", data_string);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:25:35&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d1f8f39a1bb3b890d575979cbc4bcbb8&lt;/sys_id&gt;&lt;sys_mod_count&gt;29&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Flattened Data&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_d1f8f39a1bb3b890d575979cbc4bcbb8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-23 08:20:16&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>435020237</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>9e4f2dd047b6851024307601e36d4371</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4be19bdb0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Flattened Data</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>db70c9b49c4449d0ea82fee8d4fc8a21</update_guid>
<update_guid_history>db70c9b49c4449d0ea82fee8d4fc8a21:435020237,886041b40b4449d0468cbd33bfe5b569:-2106079270,039f7870f04449d0cd6b79b1f1eecfe9:435020237,1d7f3c30ac4449d0e197d78560a011e4:-2106079270,446f3830434449d004ea0d298a6fc001:435020237,225f74305c4449d0c499d2039d0b1aac:-2106079270,e1babfdf307f30d037e44923d105f857:435020237,30aa37dfac7f30d006cab0e5d0e8916f:-92166778,c78a37df4d7f30d0593b73694b5045c2:1056038948,044a37df187f30d03ab925977c4a0a66:-1120596012,65b9339faf7f30d009e6432d2250a3c1:900133346,ebc473974a7f30d05d8c4f887622cc1d:2109489812,79a4ff57417f30d0ae7437bd212c10ec:1190893576,47743357d47f30d019c1ed6f7215a3bd:931589812,f4243b17017f30d0e2bfe27a98011b72:130546260,6fc3b317d77f30d088a61d8aba445768:-2061633944,f08ce917c03330d053872d3ed79dabec:450581948,e64ce917473330d091de0e6abcbb472d:-2058311964,1ccba993803330d0a3cebef8d67cb807:2117936572,698bad93563330d070a0cde07616af11:1823291244,6c6ba993353330d05f15f2ca0f54fab1:-2021049844,cd2be193143330d03d0ca8add39001de:1979272124,9eaae553cd3330d0547fc92083f4e979:-308870151,2ccebf9243f3b89023ae00bd572097eb:2117936572,228e77d2b9f3b890661dc26c62b6b521:-297628260,ca4ebf9216f3b890bc25f9b16749e486:1017968236,631dfb1223f3b8902f8608a99b05c66b:-1935874890,d8bbb75e27b3b890489a225d47c82bab:-322919022,d4baffda33b3b89084cfd866fab110b9:-410035185,1ee9b35aafb3b8905fd73da5c880c975:-1406172186</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_fde693cb1b440d10d575979cbc4bcb37</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex (flag)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:03:47&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;fde693cb1b440d10d575979cbc4bcb37&lt;/sys_id&gt;&lt;sys_mod_count&gt;20&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex (flag)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_fde693cb1b440d10d575979cbc4bcb37&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:20:02&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1312938794</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>9e4f2dd047b6851024307601e36d4372</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95b1e0ea0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex (flag)</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>3384fedd4ed041100549e24e00c092a8</update_guid>
<update_guid_history>3384fedd4ed041100549e24e00c092a8:1312938794,c98b18517454095050923994d811ec49:1549945303,f5dad41130540950a58642d1f24e0dbf:1312938794,0f1baa49a6580950289e174a5bb4c2b6:1549945303,76aaee09eb580950799fc165a4b87aad:1312938794,48b1892fba088d1086ca4c26bc78ebe8:1549945303,dc5e7ca773088d103101cca97bb04e49:-1768212289,f34e78e74e088d10439849bc52560015:-1532698740,2c4e70e7ec088d10976728cfe652c5f8:-1768212289,14cd3ca7a5088d10e15691e75784b7ea:-1532698740,52db34e366088d10209efb439bdb1877:-1768212289,1babb4e39d088d10e4cc9572a4f9cf35:1732061306,269bf0e3e0088d105bc5192bb5b88680:90432071,8e7b34a3f8088d100ccd0d9f457e13bb:1732061306,ce6b70a3b5088d1031cbe3747ccd7564:90432071,a75bf8a313088d103c35f5b87e91dc96:1732061306,5b3b38a341088d105ef508fc0b0d7fb4:90432071,b20bf0a3e1088d10c7aef1907c3a3404:1732061306,780bf86346088d10ee4be8fc09bceb9d:90432071,b6f6d7cbd8440d107132c827e0891d00:1732061306,bde693cb30440d104aefb68a5efb5739:1380824611</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_860f155f1bbffc90d575979cbc4bcb7b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="DELETE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;conditions table="u_alert_tag_normalization"&gt;u_applies_to_sourceISEMPTY^EQ&lt;item endquery="false" field="u_applies_to_source" goto="false" newquery="false" operator="ISEMPTY" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/conditions&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;100&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Duplicate source keys - global&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 18:42:50&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;860f155f1bbffc90d575979cbc4bcb7b&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Duplicate source keys - global&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_860f155f1bbffc90d575979cbc4bcb7b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-18 18:43:13&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>547830915</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>9e4f2dd047b6851024307601e36d4375</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d34655a980000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Duplicate source keys - global</target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>476161d3b9fffc903136a4ba0e350149</update_guid>
<update_guid_history>476161d3b9fffc903136a4ba0e350149:547830915,ab1f55df35bffc90dc61b204b5b05b7c:-408272137,0a0f155f25bffc90a58fa2cfd36fcf7e:769337531</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_dad146641b4009d0d575979cbc4bcb89</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;conditions table="u_alert_tag_normalization"&gt;u_regex_transform=true^EQ&lt;item endquery="false" field="u_regex_transform" goto="false" newquery="false" operator="=" or="false" value="true"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/conditions&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;90&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;ATN regex&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:27:21&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;dad146641b4009d0d575979cbc4bcb89&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_dad146641b4009d0d575979cbc4bcb89&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-30 17:15:22&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>-451724233</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>9e4f2dd047b6851024307601e36d4378</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d71d8057e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN regex</target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>311eb28794c00d100ce88f0b1ec4499d</update_guid>
<update_guid_history>311eb28794c00d100ce88f0b1ec4499d:-451724233,010ebe4777c00d10aa4f462d221532e6:-2072409267,2afdfe477bc00d10ac826c0e9222ae63:-1362708708,dfedbe47c3c00d10c0cf022d513e1fe1:1633887090,0faed224d10409d0e2ea22b899d0315c:-451724233,5be3c668f24009d092725933cc8c9c35:1633887090,16d14664e74009d0870e914d0aa0de8b:1019252056</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_source_key_type</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_source_key_type" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice&gt;1&lt;/choice&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Source Key Type&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_source_key_type&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="Choice"&gt;choice&lt;/internal_type&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;max_length&gt;100&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 15:51:00&lt;/sys_created_on&gt;&lt;sys_id&gt;35dd1de81b4cc5d0d575979cbc4bcb8a&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Source Key Type&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_source_key_type&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 16:06:13&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>-401764671</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c24f2dd047b6851024307601e36d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4865d6700000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Key Type</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>7e81ad605e8cc5d08d3a6dd2888f4b7f</update_guid>
<update_guid_history>7e81ad605e8cc5d08d3a6dd2888f4b7f:-401764671,52fed96ca94cc5d03fd3be457c012da8:-215588860,d01e912c344cc5d0cd74513c35ec831e:1927285406</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_source_key_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_source_key" label="Source Key" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_source_key</element><help/><hint/><label>Source Key</label><language>en</language><name>u_alert_tag_normalization</name><plural>Source Keys</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 03:04:34</sys_created_on><sys_id>ee15ff921bb3b890d575979cbc4bcb4f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Source Key</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_source_key_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 03:04:34</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-2131069891</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c24f2dd047b6851024307601e36d4367</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26b4110e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Key</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>ae15ff92bcb3b89071241bbc38c3c465</update_guid>
<update_guid_history>ae15ff92bcb3b89071241bbc38c3c465:-2131069891</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_1330cd6b1b088d10d575979cbc4bcb85</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:22:28&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;1330cd6b1b088d10d575979cbc4bcb85&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_1330cd6b1b088d10d575979cbc4bcb85&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:17:48&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-794249204</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c24f2dd047b6851024307601e36d436a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95afd4aa0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>4b04fa9d82d041104971944ea4166466</update_guid>
<update_guid_history>4b04fa9d82d041104971944ea4166466:-794249204,4a11bad5c7d041108d8ff83450daec5d:-524751751,fef076d545d041107e9b6617e3d1f412:-794249204,93e0f2d549d041100f941c44e7587a9e:-524751751,9ed032d5f8d041101d6f78a15968b407:-794249204,c18b1851bc540950fec0748f35919342:-524751751,bddad4113b54095061cf6febed6f75c6:-794249204,2aa1016f40088d1010fa1e233340557d:-524751751,df30cd6b70088d1057a00258cb4d3086:1907029958</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_4148974f1b440d10d575979cbc4bcb64</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - alert field&lt;/description&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - alert field&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_source_key_type') === 'alert_additional_info') {
		return; 
	}
    var dictGR;
    var value;

    dictGR = g_form.getReference('u_source_alert_field', getColumn);

    function getColumn(dictGR) {
        var column = dictGR.element;
        var tAlert = g_form.getReference('u_test_alert', getValue);

        function getValue(tAlert) {
            value = tAlert.getValue(column);
            g_form.setValue("u_raw_value", value);
        }
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:09:44&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4148974f1b440d10d575979cbc4bcb64&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - alert field&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_4148974f1b440d10d575979cbc4bcb64&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:37:08&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>667389579</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c24f2dd047b6851024307601e36d436d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95c18a690000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - alert field</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>5e7836596f144110dd099cafe2708cda</update_guid>
<update_guid_history>5e7836596f144110dd099cafe2708cda:667389579,cba43a11471441103a1b4a592a5c4600:18288312,8d917a19cbd04110eb6fbca61a56cab7:2092786372,8581fa194ed0411035be1973aa117524:819769111,91ab34e3e0088d10537a369ec5cc06a2:2092786372,5b3b38a398088d10b2f9929567c0dfa8:819769111,8bea386345088d10d8a942b527e0c680:2092786372,99ea3463be088d10b772840442956dc1:819769111,0148974ffa440d105dc756b32bebf166:2092786372</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_8530cde71b088d10d575979cbc4bcb03</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:22:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;8530cde71b088d10d575979cbc4bcb03&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_8530cde71b088d10d575979cbc4bcb03&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:42&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1748443775</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c24f2dd047b6851024307601e36d4370</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e6508b0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>22a1016fec088d104e68e8452bf4518e</update_guid>
<update_guid_history>22a1016fec088d104e68e8452bf4518e:-1748443775,4530cde74b088d104843a527b5912205:-2136193602</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_choice_u_alert_tag_normalization_u_source_key_type</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_choice action="INSERT_OR_UPDATE" field="u_source_key_type" table="u_alert_tag_normalization" version="3"><sys_choice_set action="INSERT_OR_UPDATE"><element>u_source_key_type</element><name>u_alert_tag_normalization</name><sys_class_name>sys_choice_set</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 15:52:20</sys_created_on><sys_id>e35e992c1b4cc5d0d575979cbc4bcbf1</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_source_key_type</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_choice_u_alert_tag_normalization_u_source_key_type</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 15:52:20</sys_updated_on></sys_choice_set><sys_choice action="INSERT_OR_UPDATE"><dependent_value/><element>u_source_key_type</element><hint/><inactive>false</inactive><label>Alert field</label><language>en</language><name>u_alert_tag_normalization</name><sequence>1</sequence><synonyms/><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 15:52:20</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>f61ed12c1b4cc5d0d575979cbc4bcbf4</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 15:52:20</sys_updated_on><value>alert_field</value></sys_choice><sys_choice action="INSERT_OR_UPDATE"><dependent_value/><element>u_source_key_type</element><hint/><inactive>false</inactive><label>Alert additional info</label><language>en</language><name>u_alert_tag_normalization</name><sequence>2</sequence><synonyms/><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 15:52:40</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>8d6ed92c1b4cc5d0d575979cbc4bcb62</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 15:52:40</sys_updated_on><value>alert_additional_info</value></sys_choice></sys_choice></record_update>]]></payload>
<payload_hash>1591773731</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c24fa5d047b6851024307601e36d435a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d485970cf0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Source Key Type</target_name>
<type>Choice list</type>
<update_domain>global</update_domain>
<update_guid>ac7ed92c474cc5d0c7f0a5dac12c0269</update_guid>
<update_guid_history>ac7ed92c474cc5d0c7f0a5dac12c0269:1591773731,af5e992ceb4cc5d063b1eff16a22adf3:-2084303193</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_regex_transform</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_regex_transform" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Regex Transform&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_regex_transform&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value=""&gt;boolean&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;10&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:25:37&lt;/sys_created_on&gt;&lt;sys_id&gt;006186241b4009d0d575979cbc4bcb6d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regex Transform&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_regex_transform&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 18:25:37&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>805281826</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c64f2dd047b6851024307601e36d4363</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48e57a330000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Regex Transform</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>89710a24864009d033d8e43bd3ea39c7</update_guid>
<update_guid_history>89710a24864009d033d8e43bd3ea39c7:805281826</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_regex_function_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_regex_function" label="Regex Function" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_regex_function</element><help/><hint/><label>Regex Function</label><language>en</language><name>u_alert_tag_normalization</name><plural>Regex Functions</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 18:26:08</sys_created_on><sys_id>24910e241b4009d0d575979cbc4bcb92</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Regex Function</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_regex_function_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 18:26:08</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1163290895</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c64f2dd047b6851024307601e36d4366</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d48e5f16e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Regex Function</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>20914e24f84009d0ea54146379227fad</update_guid>
<update_guid_history>20914e24f84009d0ea54146379227fad:1163290895</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_a210addf1bbffc90d575979cbc4bcbca</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;true&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;true&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;u_alert_tag_normalization&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition table="u_alert_tag_normalization"&gt;u_source_keyISNOTEMPTY^EQ&lt;item endquery="false" field="u_source_key" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/filter_condition&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;No Duplicate Source Keys&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {
	var dupeGR = new GlideRecord('u_alert_tag_normalization');
	dupeGR.addQuery('u_source_key', '=', current.u_source_key);
	dupeGR.addQuery('u_normalized_key', '=', current.u_normalized_key);	
	dupeGR.addQuery('sys_id', '!=', current.sys_id);
	dupeGR.addQuery('u_active', '=', true);
	if(current.u_applies_to_source) {
		dupeGR.addQuery('u_applies_to_source', '=', current.u_applies_to_source);
		}
	dupeGR.query();
	if(dupeGR.next()) {
		gs.addErrorMessage(gs.getMessage("Multiple Normalization records with the same source-key and the same applies-to-source and the same normalized key are not allowed."));

		current.setAbortAction(true);		
	}
})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 18:47:31&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a210addf1bbffc90d575979cbc4bcbca&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;No Duplicate Source Keys&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_a210addf1bbffc90d575979cbc4bcbca&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-04-06 19:48:18&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=a210addf1bbffc90d575979cbc4bcbca"/&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2093908596</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c64f2dd047b6851024307601e36d4369</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>180006bad0a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>No Duplicate Source Keys</target_name>
<type>Business Rule</type>
<update_domain>global</update_domain>
<update_guid>5c0325402eba0510d345ed80ff913048</update_guid>
<update_guid_history>5c0325402eba0510d345ed80ff913048:-2093908596,4630c06bffbf30d0613fff24158a6b96:-1833899694,36c0e1933afffc9079a0db263a4f3529:1180762554,7610addf95bffc90011811960e6322cf:1587275099</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_4067dfcb1b440d10d575979cbc4bcbbf</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || newValue == '' || g_form.getValue('u_source_key_type')==='alert_field' || g_form.getValue('u_test_value')!=='') {
		return;		
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 19:05:50&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4067dfcb1b440d10d575979cbc4bcbbf&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_4067dfcb1b440d10d575979cbc4bcbbf&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:02:24&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1052605508</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c64f2dd047b6851024307601e36d436c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77ce3c290000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>59ab34e394088d1095813537658d34b2</update_guid>
<update_guid_history>59ab34e394088d1095813537658d34b2:-1052605508,5b3b38a39e088d105d39891ad0455fa4:351570575,78eaf863ad088d100fac85c5e59b8697:-1052605508,bada7c63d1088d10bbff0a155c944a55:351570575,4398d38f4a440d108bba3f6fb32cf334:-1052605508,7bf7170f3c440d103e24841a1e0d7347:2101573178,0067dfcbdb440d10b158f6b24ee50fc1:1138786613</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_6a04ca681b4009d0d575979cbc4bcb1d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_new_value&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') == "false") {	
		return;
    }
    if (g_form.getValue('u_regex_transform') == "true") {	
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'), 'gm');
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:41:07&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;6a04ca681b4009d0d575979cbc4bcb1d&lt;/sys_id&gt;&lt;sys_mod_count&gt;60&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_6a04ca681b4009d0d575979cbc4bcb1d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:27:12&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>687255170</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c64f2dd047b6851024307601e36d436f</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96cb17f60000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>c7dabf195d5c4110e273c01232dd055c</update_guid>
<update_guid_history>c7dabf195d5c4110e273c01232dd055c:687255170,82da7f19565c41108547208294cef29e:922768719,977a77d51e5c41103854e2c17f2d4186:-460214429,72193f15885c41107f8eee648753dd0d:993171990,0573ffd5e61c4110914de867ea851fbb:-460214429,4a11bad51bd04110f8000f6d5c12c255:993171990,fef076d523d041105247dc11129a561e:-460214429,93e0f2d573d04110307fd8a9dc0a89a2:993171990,a0d07e954cd04110f80efca4d8c1186b:-460214429,cd8b1851cc540950413fc7ab2e55cc45:993171990,f1dad411f5540950fd3c99e7702027c3:-460214429,a2a1016f4f088d108e27302376fec196:993171990,6c11012fcb088d106d8bf3cf8315891c:471875222,90ce302b2a088d103e4e564036b07d4f:1123413120,6a7e3ce724088d1090fecfb150687339:1101805079,c57ebce76a088d1065ff8ad4080b63fa:1027683140,fe6ebce76a088d103cf76860c7b52801:1101805079,096e3ce7a1088d10abe2dae8abd7defe:1027683140,ff4eb8e7ff088d10107691730208a0dc:1101805079,2c4eb0e746088d10b1e5783486354800:1027683140,14cd3ca7ef088d10c28dc18597402ef6:1101805079,26fb7ce38d088d101ce9f362cdc4bc51:1027683140,848b30e39e088d10971351690503d4da:1101805079,aa5b30a358088d107cb782f7a8232551:1027683140,5b3b38a304088d101c877ae36ca7a7c0:1101805079,e83bf4a321088d108b9c93d58fdd2c3d:1027683140,ee2bf0a367088d1038de03fc9afb4b7c:1101805079,5295534bd3440d109d8d137c93c5d28e:1027683140,b8a0c5f4ef4449d09940cd0f5cef25d9:901296668,887001b45c4449d0b50ac504353a0501:562737598,886041b40a4449d065f29811e4153865:2038624587,039f7870764449d07ce61c34ca47c6ed:562737598,117ffc30364449d0ef74fd4fd0d870e3:2038624587,ce5fb0306a4449d00a395e9e4fdc9d31:562737598,ff4fb030bd4449d04f1d8f8c4b7b6f2c:2038624587,44cd1260620409d00211645c163483ac:562737598,925bd2acfbc009d0a0aeeb5886014ec4:-1675585477,b50b526c0bc009d0bf4d8d7426ccced8:1082805016,bdda1e2c86c009d07e6bea1918e236cb:-521410952,b26a526c9bc009d00488f64b24a82c94:331409815,e93a562c53c009d05c6485532a183b4d:-2039345425,36f9562c81c009d05e392e94ce4958f8:-1155434817,f899dae876c009d08c9325f3b404f248:-2129773675,ebd8de686bc009d00d64d22a0f2ffe18:1985130521,e3285668d8c009d0691209ca33d56b33:898968537,00f79a2858c009d0516fcfd2aa020060:80285767,edb71a2871c009d03ff5a1d430c3d908:2086744874,dda7d62823c009d0e113518a4830b0b1:982774073,b126de6449c009d017592f87c1fb2f0d:-1762217364,925986a0f08009d0b72dc7b4f24b07ea:-1134277823,a8290a20368009d0e8c559a8b52ebc01:-1862969260,45580eac594009d08e18f773429cf6b4:-888630402,d328ceec444009d0a5f125acccfe33d8:-1862969260,1a970aeca84009d0a2a837204269a79d:-268479900,63c68a6ca24009d0ad3a2fffec3dd237:457819932,0a96826caf4009d0a55436504c95435b:1432158790,d6564e2c0f4009d0ebaad52698c9b7a4:1438253068,e5064e2c504009d002656e868dc69c8f:-1573754742,9cc5c22cd64009d05025610f09c0bd88:275661277,fc3506e8454009d0f60015b7f3f11879:-1573754742,b7f482e8604009d02b5a3af09ac71d5e:1408221117</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_populate_if_null</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_populate_if_null" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;Populate If Null&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_populate_if_null&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value=""&gt;boolean&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;50&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:52:48&lt;/sys_created_on&gt;&lt;sys_id&gt;7010cc661bf3b890d575979cbc4bcb12&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Populate If Null&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_populate_if_null&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 03:52:48&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>1980636010</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>c64fa5d047b6851024307601e36d435c</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26e0384a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Populate If Null</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>012000a652f3b890cac59181e0d833d2</update_guid>
<update_guid_history>012000a652f3b890cac59181e0d833d2:1980636010</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_normalized_key_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_normalized_key" label="Normalized Key" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_normalized_key</element><help/><hint/><label>Normalized Key</label><language>en</language><name>u_alert_tag_normalization</name><plural>Normalized Keys</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 03:17:19</sys_created_on><sys_id>0d08b31a1bb3b890d575979cbc4bcbb6</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Normalized Key</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_normalized_key_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 03:17:19</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-1277725563</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ca4f2dd047b6851024307601e36d4365</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26bfbbc60000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Normalized Key</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>5908f31af9b3b8906b23cc91b2ab4c3c</update_guid>
<update_guid_history>5908f31af9b3b8906b23cc91b2ab4c3c:-1277725563</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_number_adf560931b7bfc90d575979cbc4bcb8e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_number"><sys_number action="INSERT_OR_UPDATE"><category display_value="" name="u_alert_tag_normalization">u_alert_tag_normalization</category><maximum_digits>3</maximum_digits><number>100</number><prefix>ATN</prefix><sys_class_name>sys_number</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-18 14:33:29</sys_created_on><sys_id>adf560931b7bfc90d575979cbc4bcb8e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>ATN</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_number_adf560931b7bfc90d575979cbc4bcb8e</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:33:29</sys_updated_on></sys_number></record_update>]]></payload>
<payload_hash>-323500234</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ca4f2dd047b6851024307601e36d4368</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337782130000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>ATN</target_name>
<type>Number</type>
<update_domain>global</update_domain>
<update_guid>29f568d3107bfc90e43ff56bae510d30</update_guid>
<update_guid_history>29f568d3107bfc90e43ff56bae510d30:-323500234</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_305db0741b0449d0d575979cbc4bcbe1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - alert field&lt;/description&gt;&lt;field&gt;u_source_alert_field&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - alert field OL&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {

	var dictGR;
	var value;
	dictGR = g_form.getReference('u_source_alert_field', getColumn);

    function getColumn(dictGR) {
        var column = dictGR.element;
        var tAlert = g_form.getReference('u_test_alert', getValue);

        function getValue(tAlert) {
            value = tAlert.getValue(column);
            g_form.setValue("u_test_value", value);
            g_form.setValue("u_raw_value", value);			
        }
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-23 08:06:27&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;305db0741b0449d0d575979cbc4bcbe1&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - alert field OL&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_305db0741b0449d0d575979cbc4bcbe1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:07:53&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1127749461</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ca4f2dd047b6851024307601e36d436b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77d341470000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - alert field OL</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>65ec74677e088d1057d89ed251776ad7</update_guid>
<update_guid_history>65ec74677e088d1057d89ed251776ad7:-1127749461,a4dcf827d3088d101f598dd726d1ff09:-1281764642,3f8c3c27f0088d101a66ac85fee19207:-1127749461,eb0cf4e334088d1024fc9b59916edb8d:-1281764642,146d32472cc00d10dfed98758e05db10:-1127749461,e53dbec3e1c00d107fae567cb2fbdc9b:-1281764642,e3adb0b4860449d03e156df6955fb8f0:-1127749461,fc5db074ee0449d03d714b995cf57fe2:-1281764642</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_5770cdab1b088d10d575979cbc4bcb9f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_test_alert&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:23:34&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;5770cdab1b088d10d575979cbc4bcb9f&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_5770cdab1b088d10d575979cbc4bcb9f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:20:00&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1483151288</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ca4f2dd047b6851024307601e36d436e</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95b1d9e00000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>5784bedd76d0411023c40cea73cefc3f</update_guid>
<update_guid_history>5784bedd76d0411023c40cea73cefc3f:-1483151288,cd8b18519c5409505e1f947d42771c36:-418981451,fddad411305409506ff0cc170a7b9cd1:-1483151288,e6a1016fe5088d10b9c300f52583a179:-418981451,1770cdabec088d10624390fffa81b1a1:-1081822454</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_u_flattened_data</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="u_flattened_data" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field&gt;category&lt;/choice_field&gt;&lt;choice_table&gt;em_alert&lt;/choice_table&gt;&lt;column_label&gt;Flattened Data&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;u_flattened_data&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;4000&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:18:34&lt;/sys_created_on&gt;&lt;sys_id&gt;2a387f1a1bb3b890d575979cbc4bcb5b&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Flattened Data&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_u_flattened_data&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 03:20:48&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>196151424</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ca4fa5d047b6851024307601e36d435b</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26c2ec590000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Flattened Data</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>d0d87f5aa9b3b8902a4d2d6c1e83edf6</update_guid>
<update_guid_history>d0d87f5aa9b3b8902a4d2d6c1e83edf6:196151424,91b8fb5a72b3b890b3392417834396eb:1894935755,a348ff1a42b3b890dfaabf394a21c477:-2012896731</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization_u_applies_to_source_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="u_applies_to_source" label="Applies to Source (optional)" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element>u_applies_to_source</element><help/><hint/><label>Applies to Source (optional)</label><language>en</language><name>u_alert_tag_normalization</name><plural>Applies to Source (optional)</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-17 05:59:16</sys_created_on><sys_id>dfa625f61b3b3c90d575979cbc4bcbcc</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Applies to Source (optional)</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization_u_applies_to_source_en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-17 05:59:39</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-1890456534</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ce4f2dd047b6851024307601e36d4364</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d2c7ab5ef0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization.Applies to Source (optional)</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>74c629f6983b3c90a05515651ef28283</update_guid>
<update_guid_history>74c629f6983b3c90a05515651ef28283:-1890456534,9fa625f6a03b3c90625c54c3c8586fd8:919596893</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_documentation_u_alert_tag_normalization__en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="" label="Alert Tag Normalization" language="en" table="u_alert_tag_normalization"><sys_documentation action="INSERT_OR_UPDATE"><element/><help/><hint/><label>Alert Tag Normalization</label><language>en</language><name>u_alert_tag_normalization</name><plural>Alert Tags Normalization</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:12</sys_created_on><sys_id>55f2f3de1b73b890d575979cbc4bcb08</sys_id><sys_mod_count>2</sys_mod_count><sys_name>Alert Tag Normalization</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_documentation_u_alert_tag_normalization__en</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 04:44:38</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>1975637705</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ce4f2dd047b6851024307601e36d4367</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d270fada70000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>dc0c04aa6337b890521b18f26fe116c1</update_guid>
<update_guid_history>dc0c04aa6337b890521b18f26fe116c1:1975637705,9fe7ffd6d6b3b8908bdd9fd2ce96698f:-203404320,61f2f3de6673b890d3b1d3971fe7115b:-1387597085</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_25feffd21bf3b890d575979cbc4bcb4b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="DELETE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_key&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value - addl info&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_source_key_type') === 'alert_field') {
		return; 
	}
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 03:50:17&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;25feffd21bf3b890d575979cbc4bcb4b&lt;/sys_id&gt;&lt;sys_mod_count&gt;28&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value - addl info&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_25feffd21bf3b890d575979cbc4bcb4b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 16:16:50&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-822729826</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ce4f2dd047b6851024307601e36d436a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d95b6d0660000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value - addl info</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>7ac532d1d5144110addedd98966fc13b</update_guid>
<update_guid_history>7ac532d1d5144110addedd98966fc13b:-822729826,b4d37a5db5d04110e0e1330a911856b0:-1566648558,6f43725d3ad041104734348b91c831a1:-896510093,3e23fa1d42d041104d0101083af338a8:203415936,f903bad91bd041108bed964278bf1a18:-896510093,15f2bed9d3d041107793c230aea2abe5:203415936,32513219bbd041104c779daf52ed93ce:-896510093,6a317ed53ed041107623212456668e12:203415936,e76d669d0b904110580c1f52b2d095a4:-896510093,59ab34e377088d105a491d39e7d3f9b6:-1105952804,d33bf4a369088d10f9b47bfaf584375d:267653039,cada78639f088d1024f1048f256993ef:-1105952804,33ca3c63d6088d10b0eec1461953ab67:267653039,23e8578fd0440d1084b2bdd7faf76d14:-1105952804,c770c1742c4449d0bde5e1fedd3a8c32:-1612401151,0c608974434449d0596e9bb4884a4c45:-959662380,d71ffc7c320449d03515501ae166da86:-1612401151,691f7cbc460449d0a4426d4c854e69f8:-959662380,12fe30bc880449d0b670a5b3f7f65346:-1612401151,13a70aec2b4009d0b17d8b66f394dea2:-1105952804,0c264e2c4d4009d0aa5c43b7697ba1c7:1646345686,77e58ae8ec4009d0759a8662054e53ce:-1761150854,d9f63da0950009d086dd70aa9f0e853a:-1904761949,00e67de0c20009d08242ae0704c74440:-1828907344,15f369a4438cc5d03410d547b986dc58:-1904761949,18c369a4428cc5d0f203bf4496bbe552:-1976085432,7ca3e564398cc5d01ec77ca334c46b3e:-1154947144,87c2ed244a8cc5d050dd456afc57d9ac:1593126757,633c3793bdbf30d0053a8719b626f678:-1588538391,089f335613f3b89017d74f85658d1218:1818244866</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_472081ab1b088d10d575979cbc4bcbe3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_source_key_type&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading || g_form.getValue('u_regex_transform') === false) {
        return;
    }
    if (g_form.getValue('u_regex_transform') === true) {
        var raw = g_form.getValue('u_raw_value');

        var regExp = new RegExp(g_form.getValue('u_regex_function'));
        var replace = g_form.getValue('u_regex_new_value');

        var value = raw.replace(regExp, replace);
        g_form.setValue('u_test_value', value);
    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-01 21:22:11&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;472081ab1b088d10d575979cbc4bcbe3&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_472081ab1b088d10d575979cbc4bcbe3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:28:42&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-32475206</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ce4f2dd047b6851024307601e36d436d</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77e64fbd0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>a6a1016f13088d106eca8472c7445475</update_guid>
<update_guid_history>a6a1016f13088d106eca8472c7445475:-32475206,4b2081ab56088d10fd68a7f9ffbe0de5:997027941</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>DELETE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_a3dc36c31bc00d10d575979cbc4bcb20</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="DELETE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Test Value - addl info&lt;/description&gt;&lt;field&gt;u_source_key_type&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Test Value - addl info ST&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};
    function recurse (cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
             for(var i=0, l=cur.length; i&lt;l; i++)
                 recurse(cur[i], prop ? prop+"."+i : ""+i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop+"."+p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
	if(isLoading || g_form.getValue('u_test_alert') == '' || g_form.getValue('u_source_key_type')==='alert_field' || g_form.getValue('u_test_value')!=='')
		return;
	var info = g_form.getReference("u_test_alert").additional_info;
	info = info.replace(/\|/g, "~");
	info = info.replace(/\./g, "|");	
	var data = JSON.parse(info);
	data = JSON.flatten(data);
	var key = g_form.getValue('u_source_key');
	var value = data[key];
	
	g_form.setValue("u_test_value", value);
	g_form.setValue("u_raw_value", value);	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 17:10:01&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a3dc36c31bc00d10d575979cbc4bcb20&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Test Value - addl info ST&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_a3dc36c31bc00d10d575979cbc4bcb20&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-30 17:10:01&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1013896446</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ce4f2dd047b6851024307601e36d4370</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d71d3f1740000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Test Value - addl info ST</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>241d3a07ffc00d1003dcc6f231e82656</update_guid>
<update_guid_history>241d3a07ffc00d1003dcc6f231e82656:1013896446,6bdcb20792c00d10881867d736b5155e:520882442</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_u_alert_tag_normalization_null</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="" table="u_alert_tag_normalization"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element/&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="Collection"&gt;collection&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;40&lt;/max_length&gt;&lt;name&gt;u_alert_tag_normalization&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-16 02:55:12&lt;/sys_created_on&gt;&lt;sys_id&gt;1df2b3de1b73b890d575979cbc4bcbcb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;u_alert_tag_normalization&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_u_alert_tag_normalization_null&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-16 02:55:12&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>848971001</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>ce4fa5d047b6851024307601e36d435a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab7f8a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Alert Tag Normalization</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>19f2f3de6b73b8907018af20276c4459</update_guid>
<update_guid_history>19f2f3de6b73b8907018af20276c4459:848971001</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_role_19f2b3de1b73b890d575979cbc4bcbc7</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl_role"><sys_security_acl_role action="INSERT_OR_UPDATE"><sys_class_name>sys_security_acl_role</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:12</sys_created_on><sys_id>19f2b3de1b73b890d575979cbc4bcbc7</sys_id><sys_mod_count>1</sys_mod_count><sys_name>u_alert_tag_normalization.evt_mgmt_admin</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_security_acl display_value="u_alert_tag_normalization">ddf2b3de1b73b890d575979cbc4bcbb3</sys_security_acl><sys_update_name>sys_security_acl_role_19f2b3de1b73b890d575979cbc4bcbc7</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-18 14:33:30</sys_updated_on><sys_user_role display_value="evt_mgmt_admin" name="evt_mgmt_admin">600be631eb12110045e1a5115206fe38</sys_user_role><transaction_id/></sys_security_acl_role></record_update>]]></payload>
<payload_hash>513353546</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>d24f2dd047b6851024307601e36d4374</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d337783ba0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization.evt_mgmt_admin</target_name>
<type>Access Roles</type>
<update_domain>global</update_domain>
<update_guid>39f568d37e7bfc902a5c051119f9de44</update_guid>
<update_guid_history>39f568d37e7bfc902a5c051119f9de44:513353546,ddf2b3de3b73b890997869c02b606aca:1109367123</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_b0c186641b4009d0d575979cbc4bcb2a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_regex_function</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 18:27:09</sys_created_on><sys_id>b0c186641b4009d0d575979cbc4bcb2a</sys_id><sys_mod_count>2</sys_mod_count><sys_name>u_regex_function</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_b0c186641b4009d0d575979cbc4bcb2a</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:31:56</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN no regex">d391ce241b4009d0d575979cbc4bcbd2</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>1855523954</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>d24f2dd047b6851024307601e36d4377</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d49591b3c0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_regex_function</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>475ed2a0c40409d0792fd465b2c4ab9f</update_guid>
<update_guid_history>475ed2a0c40409d0792fd465b2c4ab9f:1855523954,3a5edea02c0409d01579b5842ba6ef23:1992767317,57c1c664294009d01440129227f78d46:585235846</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_security_acl_49f2b3de1b73b890d575979cbc4bcb8f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_security_acl"><sys_security_acl action="INSERT_OR_UPDATE"><active>true</active><admin_overrides>true</admin_overrides><advanced>false</advanced><condition/><description>Default access control on u_alert_tag_normalization</description><name>u_alert_tag_normalization</name><operation display_value="write">write</operation><script/><sys_class_name>sys_security_acl</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:12</sys_created_on><sys_id>49f2b3de1b73b890d575979cbc4bcb8f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_alert_tag_normalization</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_security_acl_49f2b3de1b73b890d575979cbc4bcb8f</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:12</sys_updated_on><type display_value="record">record</type></sys_security_acl></record_update>]]></payload>
<payload_hash>-361003823</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>d64f2dd047b6851024307601e36d4373</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab7b7b0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_alert_tag_normalization</target_name>
<type>Access Control</type>
<update_domain>global</update_domain>
<update_guid>89f2b3de4573b89064dfd150689a73ae</update_guid>
<update_guid_history>89f2b3de4573b89064dfd150689a73ae:-361003823</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_50ef95ec1b4cc5d0d575979cbc4bcbf1</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_source_alert_field</field><mandatory>true</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 15:59:34</sys_created_on><sys_id>50ef95ec1b4cc5d0d575979cbc4bcbf1</sys_id><sys_mod_count>1</sys_mod_count><sys_name>u_source_alert_field</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_50ef95ec1b4cc5d0d575979cbc4bcbf1</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 16:00:21</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN field source type">3d6f59ac1b4cc5d0d575979cbc4bcb5d</ui_policy><visible>true</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>172095834</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>d64f2dd047b6851024307601e36d4376</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d486079c50000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_source_alert_field</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>85302120be8cc5d0cc51ab9d99e51ce0</update_guid>
<update_guid_history>85302120be8cc5d0cc51ab9d99e51ce0:172095834,e10065ec5d4cc5d0d3d04b5617d79b9c:-1624317374</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_user_role_7cf2fb9e1b73b890d575979cbc4bcb29</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role"><sys_user_role action="INSERT_OR_UPDATE"><assignable_by/><can_delegate>true</can_delegate><description/><elevated_privilege>false</elevated_privilege><encryption_context/><grantable>true</grantable><includes_roles/><name>u_alert_tag_normalization_user</name><requires_subscription>-1</requires_subscription><scoped_admin>false</scoped_admin><suffix/><sys_class_name>sys_user_role</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-16 02:55:10</sys_created_on><sys_id>7cf2fb9e1b73b890d575979cbc4bcb29</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_alert_tag_normalization_user</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_user_role_7cf2fb9e1b73b890d575979cbc4bcb29</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-16 02:55:10</sys_updated_on></sys_user_role></record_update>]]></payload>
<payload_hash>-551225862</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>d64f2dd047b6851024307601e36d4379</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d26ab766a0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table/>
<target_name>u_alert_tag_normalization_user</target_name>
<type>Role</type>
<update_domain>global</update_domain>
<update_guid>74f2b3def873b890c871d81812f7332f</update_guid>
<update_guid_history>74f2b3def873b890c871d81812f7332f:-551225862</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_b8f5dbc71b440d10d575979cbc4bcb25</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;u_regex_transform&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN process regex (flag)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (newValue == false &amp;&amp; oldValue == true) {
        g_form.setValue('u_test_value', g_form.getValue('u_raw_value'));
        return;
    }
	if(g_form.getValue('u_regex_transform')===true) {
		var raw = g_form.getValue('u_raw_value');

		var regExp = new RegExp(g_form.getValue('u_regex_function'));
		var replace = g_form.getValue('u_regex_new_value');

		var value = raw.replace(regExp, replace);
		g_form.setValue('u_test_value', value);		
	}

}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-30 18:59:37&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;b8f5dbc71b440d10d575979cbc4bcb25&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN process regex (flag)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_b8f5dbc71b440d10d575979cbc4bcb25&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 21:18:16&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>1346025695</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>da4f2dd047b6851024307601e36d4371</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d77dcc49b0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN process regex (flag)</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>f94f302ba2088d109303de26e1fd1753</update_guid>
<update_guid_history>f94f302ba2088d109303de26e1fd1753:1346025695,006e78e7a9088d10571e572fe6e900d0:-1989778021,315e78e7b5088d10db08ec4b921e4fcb:-702937592,ff4eb8e7aa088d106761f37b719865e0:-1989778021,e04e78e7d5088d102dab7b5ab841e010:-702937592,14cd3ca746088d1021d5fd39e67776fa:-1989778021,eefb3ce3ba088d108019b0d51a30ad5c:-702937592,269bf0e39f088d10ed467dcea8292b7c:-1989778021,ef8b30e3f9088d10885ac08d48aaa9e0:-702937592,6f6b38a3a8088d101843e6253e5c4753:-1989778021,806b7ca3e6088d102ab279909d74fa2a:-702937592,5b3b38a382088d104f4d89e12e5e81b8:-1989778021,4d1bf0a339088d10a2254d27182cd7e4:-702937592,1f0bfc6314088d10b9d8c9835e510a6d:-1989778021,85c653cb8c440d108dbdb58995e4cba8:-702937592,0b561b8bf6440d104b0c611c9ec07046:763582631,78f5dbc77f440d10aecf507019249d27:1249548158</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_client_e7f53a114714411024307601e36d43b7</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;ATN Populate Raw Value - alert field&lt;/description&gt;&lt;field&gt;u_source_key_type&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;ATN Populate Raw Value&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[JSON.flatten = function(data) {
    var result = {};

    function recurse(cur, prop) {
        if (Object(cur) !== cur) {
            result[prop] = cur;
        } else if (Array.isArray(cur)) {
            for (var i = 0, l = cur.length; i &lt; l; i++)
                recurse(cur[i], prop ? prop + "." + i : "" + i);
            if (l == 0)
                result[prop] = [];
        } else {
            var isEmpty = true;
            for (var p in cur) {
                isEmpty = false;
                recurse(cur[p], prop ? prop + "." + p : p);
            }
            if (isEmpty)
                result[prop] = {};
        }
    }
    recurse(data, "");
    return result;
};

function onChange(control, oldValue, newValue, isLoading, isTemplate) {
    if (isLoading) {
        return;
    }
    var value;
    var dictGR;

    if (g_form.getValue('u_source_key_type') === 'alert_additional_info') {
        if (g_form.getValue('u_source_key')) {
            var info = g_form.getReference("u_test_alert").additional_info;
            info = info.replace(/\|/g, "~");
            info = info.replace(/\./g, "|");
            var data = JSON.parse(info);
            data = JSON.flatten(data);
            var key = g_form.getValue('u_source_key');
            if (data[key]) {
                value = data[key];
                g_form.setValue("u_raw_value", value);
            }
        } else {
            g_form.setValue('u_raw_value', '');
        }
    }
    if (g_form.getValue('u_source_key_type') === 'alert_field') {
        if (g_form.getValue('u_source_alert_field')) {
            var column = g_form.getReference("u_source_alert_field").element;
            value = eval("g_form.getReference('u_test_alert')." + column);
            g_form.setValue("u_raw_value", value);
        } else {
            g_form.setValue('u_raw_value', '');
        }

    }
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-12-07 16:26:18&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;e7f53a114714411024307601e36d43b7&lt;/sys_id&gt;&lt;sys_mod_count&gt;24&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN Populate Raw Value&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_e7f53a114714411024307601e36d43b7&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-07 21:14:53&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-888798028</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>da4f2dd047b6851024307601e36d4372</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d96bfd20c0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN Populate Raw Value</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>f208f391bf5c41109e4578a69f01825c</update_guid>
<update_guid_history>f208f391bf5c41109e4578a69f01825c:-888798028,17777b115a5c4110f6ea00c5c19cf7e1:-30386644,7dd67bdd9b1c4110e245725c5b2886b5:514275400,44857b1dd41c4110e212cc9f66707892:2136604904,df143b59631c4110dc6c57aab0d783d4:622494732,af3d4f5508d44110315ec5b1b4549094:-1863541310,fdec0b5510d44110af109603104bc169:-1767933241,fb5c0fd1c6d441106988fb7f686e57bf:-1212462654,c51c0fd1f8d4411022a9e6a122675488:1221366337,b4bb4f9117d44110de7239c3ada655c9:1952696159,82aa87114ed441102e67c0f32b0b2054:-420403981,7d7a071104d44110e531f2e8802d2614:-903492166,cc438f11339441104b3d855683c1216e:-2124607383,4362cb5d7c54411088f92f297813ae10:1716095721,16b18719db544110381f79f90f2e74e1:-1803459568,2a997a99d61441104cbca0a4d4f22e3b:768855460,d229fe990014411075842fc7fdee100f:-427947984,91d8329903144110b9b64758f0f412f3:1718739849,4e483a192814411063444f9d2ffddd76:-314617354,78f776d5f7144110eb05a6c4ad5dc37a:-1052724560,8097fe95f5144110302744cae1b5094f:725143885,e817b295e3144110946411ba6486b19a:1524359574,17a67615911441100ae1cd4d088fa3e0:-207577116,4456f2d153144110546bff2ab7a40e3a:290745648,2ff53ad161144110787e235f8c0168a0:1785977921</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_3d6f59ac1b4cc5d0d575979cbc4bcb5d</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;conditions table="u_alert_tag_normalization"&gt;u_source_key_type=alert_field^EQ&lt;item display_value="Alert field" endquery="false" field="u_source_key_type" goto="false" newquery="false" operator="=" or="false" value="alert_field"/&gt;&lt;item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/&gt;&lt;/conditions&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;100&lt;/order&gt;&lt;reverse_if_false&gt;false&lt;/reverse_if_false&gt;&lt;run_scripts&gt;true&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;ATN field source type&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 15:58:05&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;3d6f59ac1b4cc5d0d575979cbc4bcb5d&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;ATN field source type&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_3d6f59ac1b4cc5d0d575979cbc4bcb5d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-22 16:12:10&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>983546932</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>da4f2dd047b6851024307601e36d4375</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d486b4b320000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>ATN field source type</target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>02e261241a8cc5d047acfcc2dadcd446</update_guid>
<update_guid_history>02e261241a8cc5d047acfcc2dadcd446:983546932,ba406dec8d4cc5d080006bfc5e62b406:1461567569,9c102dec7b4cc5d0dc6d0ee7cccc6265:1975669897,e2df5dacd64cc5d0bfdc2aae570bbbd7:-890226687,7baf19ac754cc5d0f61b2c015b5f3fef:864376453</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_d82302a41b4009d0d575979cbc4bcb4a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_policy"&gt;&lt;sys_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;95&lt;/order&gt;&lt;reverse_if_false&gt;false&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Hide Regex Function&lt;/short_description&gt;&lt;sys_class_name&gt;sys_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-22 18:33:19&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d82302a41b4009d0d575979cbc4bcb4a&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Hide Regex Function&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_policy_d82302a41b4009d0d575979cbc4bcb4a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-11-30 17:16:12&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_ui_policy&gt;&lt;/record_update&gt;</payload>
<payload_hash>1432854152</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>da4f2dd047b6851024307601e36d4378</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d71d8c85e0000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Hide Regex Function</target_name>
<type>UI Policy</type>
<update_domain>global</update_domain>
<update_guid>4a4efa878cc00d1010a0fadf3c1a929e</update_guid>
<update_guid_history>4a4efa878cc00d1010a0fadf3c1a929e:1432854152,dbd38a28464009d0407524253439be29:1857945779,ad330ae4f94009d03c63fcb6d1e7aa4a:127078761</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_829c599b1bbffc90d575979cbc4bcb54</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;normalize_more&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;current.getValue("u_test_alert")!==null&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;true&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;true&lt;/form_context_menu&gt;&lt;form_link&gt;true&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;true&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;true&lt;/list_button&gt;&lt;list_choice&gt;true&lt;/list_choice&gt;&lt;list_context_menu&gt;true&lt;/list_context_menu&gt;&lt;list_link&gt;true&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;messages/&gt;&lt;name&gt;Normalize more tags for this alert&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var atn = new GlideRecord("u_alert_tag_normalization");
atn.u_test_alert = current.u_test_alert;
atn.u_active = false;
atn.insert();

action.setRedirectURL(atn);
action.setReturnURL(current);]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;matt.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2021-11-18 18:32:11&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;829c599b1bbffc90d575979cbc4bcb54&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Normalize more tags for this alert&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_829c599b1bbffc90d575979cbc4bcb54&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;matt.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2021-12-01 16:43:29&lt;/sys_updated_on&gt;&lt;table&gt;u_alert_tag_normalization&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1411568348</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>de4f2dd047b6851024307601e36d4374</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d76e133450000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>Normalize more tags for this alert</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>e860c0a798808d108a5865245e6f97ef</update_guid>
<update_guid_history>e860c0a798808d108a5865245e6f97ef:-1411568348,8c0229e0d78cc5d0e7e00626e537161e:-853781742,52c82a672033b0d0a5ea9627a5c6d678:-553395189,33bc9d9b79bffc909edacdd9fa58783c:-1823766329,529c599b67bffc90735bd585cb717c56:1142299340</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_policy_action_cc4e96e01b0409d0d575979cbc4bcb14</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_policy_action"><sys_ui_policy_action action="INSERT_OR_UPDATE"><cleared>false</cleared><disabled>ignore</disabled><field>u_regex_new_value</field><mandatory>false</mandatory><sys_class_name>sys_ui_policy_action</sys_class_name><sys_created_by>matt.morris</sys_created_by><sys_created_on>2021-11-22 20:31:38</sys_created_on><sys_id>cc4e96e01b0409d0d575979cbc4bcb14</sys_id><sys_mod_count>0</sys_mod_count><sys_name>u_regex_new_value</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ui_policy_action_cc4e96e01b0409d0d575979cbc4bcb14</sys_update_name><sys_updated_by>matt.morris</sys_updated_by><sys_updated_on>2021-11-22 20:31:38</sys_updated_on><table>u_alert_tag_normalization</table><ui_policy display_value="ATN no regex">d391ce241b4009d0d575979cbc4bcbd2</ui_policy><visible>false</visible></sys_ui_policy_action></record_update>]]></payload>
<payload_hash>-788563176</payload_hash>
<remote_update_set display_value="mm_alert_tag_normalizationV1.7">ca4fa5d047b6851024307601e36d4358</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>matt.morris</sys_created_by>
<sys_created_on>2022-04-07 15:20:25</sys_created_on>
<sys_id>de4f2dd047b6851024307601e36d4377</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17d4958d4e10000001</sys_recorded_at>
<sys_updated_by>matt.morris</sys_updated_by>
<sys_updated_on>2022-04-07 15:20:25</sys_updated_on>
<table>u_alert_tag_normalization</table>
<target_name>u_regex_new_value</target_name>
<type>UI Policy Action</type>
<update_domain>global</update_domain>
<update_guid>f64e96e0a30409d090193bee502b641d</update_guid>
<update_guid_history>f64e96e0a30409d090193bee502b641d:-788563176</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
